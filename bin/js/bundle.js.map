{
  "version": 3,
  "sources": ["../../src/frame/FrameConfig.ts", "../../src/frame/base/Singleton.ts", "../../src/game/table/Types.ts", "../../src/frame/log/Log.ts", "../../src/frame/loader/LoaderManager.ts", "../../src/frame/3d/Scene3DManager.ts", "../../src/frame/loader/AssetsMgr.ts", "../../src/frame/tween/actions/action-manager.ts", "../../src/frame/tween/tween-system.ts", "../../src/frame/tween/actions/action.ts", "../../src/frame/tween/actions/action-instant.ts", "../../src/frame/tween/actions/action-interval.ts", "../../src/frame/tween/tween-action.ts", "../../src/frame/tween/set-action.ts", "../../src/frame/tween/tween.ts", "../../src/frame/base/ScriptBase.ts", "../../src/frame/window/ViewBase.ts", "../../src/frame/window/WindowBase.ts", "../../src/frame/window/WindowManager.ts", "../../src/frame/module/ModuleConfig.ts", "../../src/frame/proxy/ProxyManager.ts", "../../src/frame/sdk/AdBase.ts", "../../src/frame/sdk/SDKUtils.ts", "../../src/frame/sdk/Banner.ts", "../../src/frame/sdk/Custom.ts", "../../src/frame/sdk/Grid.ts", "../../src/frame/sdk/InterstitialAd.ts", "../../src/frame/sdk/SDKConfig.ts", "../../src/frame/sdk/Video.ts", "../../src/frame/sdk/SDK.ts", "../../src/frame/data/LocalStorage.ts", "../../src/frame/data/DataUtils.ts", "../../src/frame/time/TimeManger.ts", "../../src/frame/util/Tools.ts", "../../src/frame/FrameMain.ts", "../../src/frame/music/MusicManager.ts", "../../src/game/Start.ts", "../../src/frame/base/ShapeBase.ts", "../../src/frame/base/Circle.ts", "../../src/frame/base/Rectangle.ts", "../../src/frame/util/MathUtils.ts", "../../src/frame/collision/ray/RayManager.ts", "../../src/frame/collision/ray/ShapeScript.ts", "../../src/game/model/loading/view/LoadingWindow.ts", "../../src/game/model/loading/view/LoadingWindowRuntime.generated.ts", "../../src/game/model/loading/view/LoadingWindowRuntime.ts", "../../src/game/model/kxtg/view/RepairWindow.ts", "../../src/game/model/kxtg/view/RepairWindowRuntime.generated.ts", "../../src/game/model/kxtg/view/RepairWindowRuntime.ts", "../../src/game/model/main/view/MainMenuTabItem.generated.ts", "../../src/game/model/main/view/MainMenuTabItem.ts", "../../src/game/model/main/MainModel.ts", "../../src/game/model/main/view/MainMenuWindow.ts", "../../src/game/model/main/view/MainMenuWindowRuntime.generated.ts", "../../src/game/model/main/view/MainMenuWindowRuntime.ts", "../../src/game/model/main/view/MainTabItem.generated.ts", "../../src/game/model/main/view/MainTabItem.ts", "../../src/game/model/main/view/MainWindow.ts", "../../src/game/model/main/view/MainWindowRuntime.generated.ts", "../../src/game/model/main/view/MainWindowRuntime.ts", "../../src/game/model/kxtg/view/RepairItem.generated.ts", "../../src/game/model/kxtg/view/RepairItem.ts", "../../src/game/model/kxtg/view/RepairInfoWindowRuntime.generated.ts", "../../src/game/model/kxtg/view/RepairInfoWindowRuntime.ts", "../../src/game/model/kxtg/view/RepairInfoWindow.ts"],
  "sourcesContent": ["export enum ScreenType {\r\n    Vertical,\r\n    Horizontal\r\n}\r\n\r\nexport class FrameConfig {\r\n\r\n    /**\u7248\u672C\u53F7\uFF0C\u8DDF\u968F\u63D0\u4EA4\u7248\u672C\u53D8\u5316 */\r\n    public static version = \"1.0.0\";\r\n\r\n    /**\u4F7F\u7528cdn */\r\n    public static cdn: boolean = false;\r\n\r\n    /**\u6839\u8282\u70B9\uFF0C\u53EF\u6DFB\u52A02d\u30013d\u573A\u666F */\r\n    public static rootNode: Laya.Node;\r\n\r\n    /**\r\n     * \u9ED8\u8BA4\u5BBD\u5EA6\r\n     */\r\n    public static defaultWidth: number = 750;\r\n    /**\r\n     * \u9ED8\u8BA4\u9AD8\u5EA6\r\n     */\r\n    public static defaultHeight: number = 1334;\r\n\r\n    private static _realWidth: number;\r\n    private static _realHeight: number;\r\n\r\n    /**\r\n     * \u5C4F\u5E55\u65B9\u5411\r\n     */\r\n    public static screenType: ScreenType = ScreenType.Vertical;\r\n\r\n    /**\r\n     * \u771F\u5B9E\u5BBD\u5EA6\r\n     */\r\n    public static get realWidth() {\r\n        if (!this._realWidth) {\r\n            this._realWidth = Laya.stage.width;\r\n        }\r\n        return this._realWidth;\r\n    }\r\n\r\n    /**\r\n     * \u771F\u5B9E\u9AD8\u5EA6\r\n     */\r\n    public static get realHeight() {\r\n        if (!this._realHeight) {\r\n            this._realHeight = Laya.stage.height;\r\n        }\r\n        return this._realHeight;\r\n    }\r\n\r\n    /**\r\n     * \u9002\u914D\u9AD8\u5EA6\u5DEE\r\n     */\r\n    public static get fitHeight() {\r\n        return FrameConfig.realHeight - FrameConfig.defaultHeight;\r\n    }\r\n\r\n    /**\r\n     * \u9002\u914D\u5BBD\u5EA6\u5DEE\r\n     */\r\n    public static get fitWidth() {\r\n        return FrameConfig.realWidth - FrameConfig.defaultWidth;\r\n    }\r\n\r\n    /**\r\n     * \u662F\u5426\u4E3A\u6D4B\u8BD5\u73AF\u5883\uFF0C\u4E0D\u5728\u5C0F\u6E38\u620F\u5E73\u53F0\u4E0B\r\n     */\r\n    public static get Debug() {\r\n        return !Laya.Browser._isMiniGame;\r\n    }\r\n\r\n    private static _platform: any;\r\n    /**\u5E73\u53F0\u5BF9\u8C61 */\r\n    public static get platform() {\r\n        if (!this._platform) {\r\n            if (Laya.Browser.onMiniGame) {\r\n                this._platform = Laya.Browser.window.wx;\r\n            }\r\n            else if (Laya.Browser.onVVMiniGame || Laya.Browser.onQGMiniGame) {\r\n                this._platform = Laya.Browser.window.qg;\r\n            }\r\n            else if (Laya.Browser.onQQMiniGame) {\r\n                this._platform = Laya.Browser.window.qq;\r\n            }\r\n            else if (Laya.Browser.onTTMiniGame) {\r\n                this._platform = Laya.Browser.window.tt;\r\n            }\r\n            else if (window['my']) {\r\n                this._platform = window['my'];\r\n                this._platform.onError((e) => {\r\n                    console.debug(\"err\", e);\r\n                })\r\n            }\r\n        }\r\n        return this._platform;\r\n    }\r\n\r\n    private static _basePath: string;\r\n    /**\u8D44\u6E90\u6839\u76EE\u5F55 */\r\n    public static get basePath() {\r\n        if (this.platform && !this.cdn) {\r\n            this._basePath = this.platform.env.USER_DATA_PATH + \"/myCache/\";\r\n        }\r\n        else {\r\n            this._basePath = \"\";\r\n        }\r\n        return this._basePath;\r\n    }\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u8FDB\u5EA6\uFF0C\u521D\u59CB\u5B8C\u6210\u4E3A100\r\n     */\r\n    public static LoadingInitPro: number = 50;\r\n\r\n\r\n    private static _isFringeScreen = null;\r\n    /**\u662F\u5426\u4E3A\u5218\u6D77\u5C4F */\r\n    public static get isFringeScreen() {\r\n        if (!Laya.Browser._isMiniGame) return;\r\n        if (this._isFringeScreen == null) {\r\n            let info = this.platform.getWindowInfo();\r\n            this._isFringeScreen = info && info.safeArea && info.safeArea.top > 40;\r\n        }\r\n        return this._isFringeScreen;\r\n    }\r\n\r\n\r\n    // ===========\u5FAE\u4FE1\u76F8\u5173\u53C2\u6570===========\r\n\r\n    private static _wxId: string;\r\n    /**\r\n     * \u5FAE\u4FE1appId\r\n     */\r\n    public static get wxId(): string {\r\n        return this._wxId;\r\n    }\r\n    /**\r\n     * 1-3-8-6\r\n     * @param value \r\n     */\r\n    public static setWxId(value: Array<string>) {\r\n        this._wxId = value[1] + value[3] + value[8] + value[6];\r\n    }\r\n\r\n    private static _sceneid: number = null;\r\n    /**\u8FDB\u5165\u573A\u666Fid */\r\n    public static get sceneId(): number {\r\n        if (!Laya.Browser._isMiniGame) return;\r\n        if (this._sceneid == null) {\r\n            this._sceneid = Number(this.platform.getLaunchOptionsSync().scene);\r\n        }\r\n        return this._sceneid;\r\n    }\r\n\r\n    public static setSceneId(sceneId) {\r\n        this._sceneid = Number(sceneId);\r\n    }\r\n\r\n    /**\u662F\u5426\u4E3A\u6307\u5B9A\u76EE\u6807\u573A\u666F\u8FDB\u5165 */\r\n    public static isTargerSceneId(sceneId: InGameSceneId) {\r\n        return this.sceneId == Number(sceneId);\r\n    }\r\n\r\n\r\n    // \r\n    public static debugSceneIdList: Array<string> = [\r\n        // \u8FDC\u7A0B\u8C03\u8BD5\u70ED\u66F4\u65B0\uFF08\u5F00\u53D1\u8005\u5DE5\u5177\u4E2D\uFF0C\u9884\u89C8 -> \u81EA\u52A8\u9884\u89C8 -> \u7F16\u8BD1\u5E76\u9884\u89C8\uFF09\r\n        \"1106\",\r\n        // \u5F00\u53D1\u8005\u5DE5\u5177\u3001\u53D1\u73B0\u9875\u5C0F\u7A0B\u5E8F\u300C\u6700\u8FD1\u4F7F\u7528\u300D\u5217\u8868\uFF08\u57FA\u7840\u5E932.2.4-2.29.0\u7248\u672C\u5305\u542B\u300C\u6211\u7684\u5C0F\u7A0B\u5E8F\u300D\u5217\u8868\uFF0C2.29.1\u7248\u672C\u8D77\u4EC5\u4E3A\u300C\u6700\u8FD1\u4F7F\u7528\u300D\u5217\u8868\uFF09\r\n        \"1001\",\r\n    ];\r\n    /**\u9700\u8981\u68C0\u6D4B\u573A\u666F\u503C */\r\n    public static securitySceneIdList: Array<string> = [\"1037\", \"1045\", \"1046\", \"1067\", \"1091\", \"1095\", \"1239\", \"1238\", \"1232\", \"1230\", \"1228\", \"1206\", \"1205\", \"1201\", \"1200\", \"1199\", \"1154\", \"1152\", \"1150\", \"1145\", \"1144\"];\r\n\r\n    // ===========\u5FAE\u4FE1\u76F8\u5173\u53C2\u6570===========end\r\n\r\n}\r\n\r\n/**\u8FDB\u5165\u573A\u666F\u503C */\r\nexport enum InGameSceneId {\r\n    /**\u5FAE\u4FE1\u804A\u5929\u4E3B\u754C\u9762\u4E0B\u62C9\uFF0C\u300C\u6211\u7684\u5C0F\u7A0B\u5E8F\u300D\u680F\uFF08\u57FA\u7840\u5E932.2.4-2.29.0\u7248\u672C\u5E9F\u5F03\uFF0C2.29.1\u7248\u672C\u8D77\u751F\u6548\uFF09 */\r\n    ID1104 = 1104,\r\n    /**\u5B89\u5353\u7CFB\u7EDF\u684C\u9762\u56FE\u6807 */\r\n    ID1023 = 1023,\r\n}", "/**\r\n * \u5355\u4F8B\u7C7B\u7EDF\u4E00\u7EE7\u627F\r\n */\r\n// export class Singleton {\r\n\r\n//     public static Inst<T>(this, ...param: any[]): T {\r\n//         let Class: any = this;\r\n//         if (!Class._inst) {\r\n//             Class._inst = new Class(...param);\r\n//         }\r\n//         return Class._inst;\r\n//     }\r\n\r\n// }\r\n\r\nexport abstract class Singleton {\r\n\r\n    // \u6CDB\u578B\u9759\u6001\u65B9\u6CD5 Inst\uFF0C\u7528\u4E8E\u83B7\u53D6\u5355\u4F8B\u5B9E\u4F8B\r\n    // \u5728 this \u4E2D\u6307\u5B9A `typeof this`\uFF0C\u4EE5\u63A8\u65AD\u5B9E\u4F8B\u7C7B\u578B\r\n    public static Inst<T extends Singleton>(this: new (...args: any[]) => T, ...param: any[]): T {\r\n        let Class: any = this;\r\n        if (!Class._inst) {\r\n            Class._inst = new Class(...param);\r\n        }\r\n        return Class._inst;\r\n    }\r\n}\r\n", "//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\n\nexport class Vector2 {\n    static deserializeFromJson(json: any): Vector2 {\n        let x = json.x\n        let y = json.y\n        if (x == null || y == null) {\n            throw new Error()\n        }\n        return new Vector2(x, y)\n    }\n\n    x: number\n    y: number\n    constructor(x: number = 0, y: number = 0) {\n        this.x = x\n        this.y = y\n    }\n}\n\nexport class Vector3 {\n    static deserializeFromJson(json: any): Vector3 {\n        let x = json.x\n        let y = json.y\n        let z = json.z\n        if (x == null || y == null || z == null) {\n            throw new Error()\n        }\n        return new Vector3(x, y, z)\n    }\n\n    x: number\n    y: number\n    z: number\n\n    constructor(x: number = 0, y: number = 0, z: number = 0) {\n        this.x = x\n        this.y = y\n        this.z = z\n    }\n}\n\nexport class Vector4 {\n    static deserializeFromJson(json: any): Vector4 {\n        let x = json.x\n        let y = json.y\n        let z = json.z\n        let w = json.w\n        if (x == null || y == null || z == null || w == null) {\n            throw new Error()\n        }\n        return new Vector4(x, y, z, w)\n    }\n    \n    x: number\n    y: number\n    z: number\n    w: number\n\n    constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 0) {\n        this.x = x\n        this.y = y\n        this.z = z\n        this.w = w\n    }\n}\n\n\nexport namespace test {\nexport enum ETestQuality {\n    /**\n     * \u6700\u9AD8\u54C1\u8D28\n     */\n    A = 1,\n    /**\n     * \u9ED1\u8272\u7684\n     */\n    B = 2,\n    /**\n     * \u84DD\u8272\u7684\n     */\n    C = 3,\n    /**\n     * \u6700\u5DEE\u54C1\u8D28\n     */\n    D = 4,\n}\n}\n\nexport namespace test {\nexport enum AccessFlag {\n    WRITE = 1,\n    READ = 2,\n    TRUNCATE = 4,\n    NEW = 8,\n    READ_WRITE = WRITE|READ,\n}\n}\n\nexport namespace game {\nexport class TbLocalInfo{\n    private _dataMap: Map<string, game.LocalInfo>\n    private _dataList: game.LocalInfo[]\n    constructor(_json_: any) {\n        this._dataMap = new Map<string, game.LocalInfo>()\n        this._dataList = []\n        for(var _json2_ of _json_) {\n            let _v: game.LocalInfo\n            _v = new game.LocalInfo(_json2_)\n            this._dataList.push(_v)\n            this._dataMap.set(_v.locaInfo, _v)\n        }\n    }\n\n    getDataMap(): Map<string, game.LocalInfo> { return this._dataMap; }\n    getDataList(): game.LocalInfo[] { return this._dataList; }\n\n    get(key: string): game.LocalInfo | undefined { return this._dataMap.get(key); }\n\n    resolve(_tables: Map<string, any>) {\n        for(var v of this._dataList) {\n            v.resolve(_tables)\n        }\n    }\n\n}\n}\n\n\n\nexport namespace game {\nexport class LocalInfo {\n\n    constructor(_json_: any) {\n        if (_json_.locaInfo === undefined) { throw new Error() }\n        this.locaInfo = _json_.locaInfo\n        if (_json_.version === undefined) { throw new Error() }\n        this.version = _json_.version\n        if (_json_.localVersion === undefined) { throw new Error() }\n        this.localVersion = _json_.localVersion\n        if (_json_.userId === undefined) { throw new Error() }\n        this.userId = _json_.userId\n        if (_json_.soundState === undefined) { throw new Error() }\n        this.soundState = _json_.soundState\n        if (_json_.vibrateState === undefined) { throw new Error() }\n        this.vibrateState = _json_.vibrateState\n        if (_json_.musicState === undefined) { throw new Error() }\n        this.musicState = _json_.musicState\n        if (_json_.level === undefined) { throw new Error() }\n        this.level = _json_.level\n        if (_json_.levelTubeSaveInfo === undefined) { throw new Error() }\n        this.levelTubeSaveInfo = _json_.levelTubeSaveInfo\n        if (_json_.useTubeSkinId === undefined) { throw new Error() }\n        this.useTubeSkinId = _json_.useTubeSkinId\n        if (_json_.useBallSkinId === undefined) { throw new Error() }\n        this.useBallSkinId = _json_.useBallSkinId\n        if (_json_.useBgId === undefined) { throw new Error() }\n        this.useBgId = _json_.useBgId\n        if (_json_.tempTubeHasBallNum === undefined) { throw new Error() }\n        this.tempTubeHasBallNum = _json_.tempTubeHasBallNum\n        if (_json_.pauseUseNum === undefined) { throw new Error() }\n        this.pauseUseNum = _json_.pauseUseNum\n        if (_json_.addTubeUseNum === undefined) { throw new Error() }\n        this.addTubeUseNum = _json_.addTubeUseNum\n        if (_json_.addTime === undefined) { throw new Error() }\n        this.addTime = _json_.addTime\n        if (_json_.jumpLevelNum === undefined) { throw new Error() }\n        this.jumpLevelNum = _json_.jumpLevelNum\n        if (_json_.pack === undefined) { throw new Error() }\n        this.pack = _json_.pack\n        if (_json_.coinNum === undefined) { throw new Error() }\n        this.coinNum = _json_.coinNum\n        if (_json_.starNum === undefined) { throw new Error() }\n        this.starNum = _json_.starNum\n        if (_json_.currentChallengeLevel === undefined) { throw new Error() }\n        this.currentChallengeLevel = _json_.currentChallengeLevel\n        if (_json_.challengeLevelInfo === undefined) { throw new Error() }\n        this.challengeLevelInfo = _json_.challengeLevelInfo\n        if (_json_.isFristGame === undefined) { throw new Error() }\n        this.isFristGame = _json_.isFristGame\n        if (_json_.gameTime === undefined) { throw new Error() }\n        this.gameTime = _json_.gameTime\n        if (_json_.levelTubeWenHaoSaveInfo === undefined) { throw new Error() }\n        this.levelTubeWenHaoSaveInfo = _json_.levelTubeWenHaoSaveInfo\n        if (_json_.isGetCollectReward === undefined) { throw new Error() }\n        this.isGetCollectReward = _json_.isGetCollectReward\n        if (_json_.isGetZhuoMianReward === undefined) { throw new Error() }\n        this.isGetZhuoMianReward = _json_.isGetZhuoMianReward\n        if (_json_.resultShareTimeStamp === undefined) { throw new Error() }\n        this.resultShareTimeStamp = _json_.resultShareTimeStamp\n        if (_json_.isFristSignIn === undefined) { throw new Error() }\n        this.isFristSignIn = _json_.isFristSignIn\n        if (_json_.signInData === undefined) { throw new Error() }\n        this.signInData = _json_.signInData\n        if (_json_.signInTime === undefined) { throw new Error() }\n        this.signInTime = _json_.signInTime\n        if (_json_.topSignInDay === undefined) { throw new Error() }\n        this.topSignInDay = _json_.topSignInDay\n        if (_json_.fightTipSignIn === undefined) { throw new Error() }\n        this.fightTipSignIn = _json_.fightTipSignIn\n        if (_json_.mainTipSignIn === undefined) { throw new Error() }\n        this.mainTipSignIn = _json_.mainTipSignIn\n        if (_json_.tipSignInTimeStamp === undefined) { throw new Error() }\n        this.tipSignInTimeStamp = _json_.tipSignInTimeStamp\n        if (_json_.repairDataVersion === undefined) { throw new Error() }\n        this.repairDataVersion = _json_.repairDataVersion\n        if (_json_.competitionScore === undefined) { throw new Error() }\n        this.competitionScore = _json_.competitionScore\n        if (_json_.competitionDan === undefined) { throw new Error() }\n        this.competitionDan = _json_.competitionDan\n        if (_json_.competitionTopDan === undefined) { throw new Error() }\n        this.competitionTopDan = _json_.competitionTopDan\n        if (_json_.competitionTime === undefined) { throw new Error() }\n        this.competitionTime = _json_.competitionTime\n        if (_json_.competitionNikeName === undefined) { throw new Error() }\n        this.competitionNikeName = _json_.competitionNikeName\n        if (_json_.competitionReward === undefined) { throw new Error() }\n        this.competitionReward = _json_.competitionReward\n    }\n\n    /**\n     * \u8868\u540D\n     */\n    readonly locaInfo: string\n    /**\n     * \u7248\u672C(\u4FEE\u590D\u6570\u636E\u7248\u672C)\n     */\n    readonly version: string\n    /**\n     * \u672C\u5730\u6570\u636E\u7ED3\u6784\u7248\u672C\n     */\n    readonly localVersion: string\n    /**\n     * \u552F\u4E00id\n     */\n    readonly userId: string\n    /**\n     * \u97F3\u6548\u5F00\u542F\u72B6\u60011\u5F000\u5173\n     */\n    readonly soundState: string\n    /**\n     * \u9707\u52A8\u5F00\u542F\u72B6\u6001\n     */\n    readonly vibrateState: string\n    /**\n     * \u80CC\u666F\u97F3\u4E50\u72B6\u6001\n     */\n    readonly musicState: string\n    /**\n     * \u666E\u901A\u6A21\u5F0F\u5173\u5361\n     */\n    readonly level: string\n    /**\n     * \u666E\u901A\u6A21\u5F0F\u5173\u5361\u8FDB\u5EA6\u4FDD\u5B58\n     */\n    readonly levelTubeSaveInfo: string\n    /**\n     * \u8BD5\u7BA1\u4F7F\u7528\u7684\u76AE\u80A4\n     */\n    readonly useTubeSkinId: string\n    /**\n     * \u7403\u76AE\u80A4\n     */\n    readonly useBallSkinId: string\n    /**\n     * \u4F7F\u7528\u80CC\u666Fid\n     */\n    readonly useBgId: string\n    /**\n     * \u4E34\u65F6\u8BD5\u7BA1\u5361\u69FD\u5BB9\u91CF(0\u4E3A\u4E0D\u5B58\u5728)\n     */\n    readonly tempTubeHasBallNum: string\n    /**\n     * \u56DE\u9000\u4E00\u6B65\u4F7F\u7528\u6B21\u6570\n     */\n    readonly pauseUseNum: string\n    /**\n     * \u589E\u52A0\u4E34\u65F6\u8BD5\u7BA1\u683C\u5B50\n     */\n    readonly addTubeUseNum: string\n    /**\n     * \u589E\u52A0\u65F6\u95F4\u9053\u5177\n     */\n    readonly addTime: string\n    /**\n     * \u8DF3\u8FC7\u5173\u5361\u9053\u5177\n     */\n    readonly jumpLevelNum: string\n    /**\n     * \u62E5\u6709\u7269\u54C1,state(\u662F\u5426\u62E5\u67091\u67090\u65E0)\n     */\n    readonly pack: string\n    /**\n     * \u91D1\u5E01\u6570\u91CF\n     */\n    readonly coinNum: string\n    /**\n     * \u901A\u5173\u7D2F\u8BA1\u661F\u661F\u6570\u91CF\n     */\n    readonly starNum: string\n    /**\n     * \u5F53\u524D\u6311\u6218\u5173\u5361\n     */\n    readonly currentChallengeLevel: string\n    /**\n     * \u6311\u6218\u5173\u5361\u4FDD\u5B58\u6570\u636Estate:0\u672A\u89E3\u9501\uFF0C1\u89E3\u9501\uFF0C2\u5B8C\u6210,videoNum\uFF1A\u89C2\u770B\u89C6\u9891\u6B21\u6570\n     */\n    readonly challengeLevelInfo: string\n    /**\n     * \u662F\u5426\u7B2C\u4E00\u6B21\u73A9\n     */\n    readonly isFristGame: string\n    /**\n     * \u5269\u4F59\u65F6\u95F4\n     */\n    readonly gameTime: string\n    /**\n     * \u95EE\u53F7\u7C7B\u578B\u4FDD\u5B58\n     */\n    readonly levelTubeWenHaoSaveInfo: string\n    /**\n     * \u6536\u85CF\u5956\u52B1\u662F\u5426\u9886\u53D6,0\u6CA1\u9886\u53D6\uFF0C1\u9886\u53D6\n     */\n    readonly isGetCollectReward: string\n    /**\n     * \u6DFB\u52A0\u5230\u684C\u9762\u5956\u52B1\u662F\u5426\u9886\u53D6,0\u6CA1\u9886\u53D6\uFF0C1\u9886\u53D6\n     */\n    readonly isGetZhuoMianReward: string\n    /**\n     * \u7ED3\u7B97\u754C\u9762\u4E0A\u6B21\u8BB0\u5F55\u7684\u5206\u4EAB\u5F53\u59290\u65F6\u7684\u65F6\u95F4\u6233\n     */\n    readonly resultShareTimeStamp: string\n    /**\n     * \u662F\u5426\u662F\u9996\u8F6E\u7B7E\u5230\n     */\n    readonly isFristSignIn: string\n    /**\n     * \u7B7E\u5230\u6570\u636E{1:1},{\u5929\u6570,0\u6CA1\u7B7E\u5230\u30011\u7B7E\u5230}\n     */\n    readonly signInData: string\n    /**\n     * \u7B7E\u5230\u5F53\u5929\u76840\u70B9\u65F6\u95F4\u6233\n     */\n    readonly signInTime: string\n    /**\n     * \u4E0A\u6B21\u7B7E\u5230\u7684\u5929\u6570\u662F\u7B2C\u51E0\u5929\n     */\n    readonly topSignInDay: string\n    /**\n     * \u6218\u6597\u4E2D\u5F39\u7684\u7B7E\u5230\u5F39\u7A97\n     */\n    readonly fightTipSignIn: string\n    /**\n     * \u4E3B\u754C\u9762\u4E2D\u5F39\u7684\u7B7E\u5230\u5F39\u7A97\n     */\n    readonly mainTipSignIn: string\n    /**\n     * \u89E6\u53D1\u4E3B\u52A8\u5F39\u7684\u65F6\u95F4\u6233\n     */\n    readonly tipSignInTimeStamp: string\n    /**\n     * \u4FEE\u590D\u6570\u636E\u7248\u672C\n     */\n    readonly repairDataVersion: string\n    /**\n     * \u7ADE\u8D5B\u79EF\u5206\n     */\n    readonly competitionScore: string\n    /**\n     * \u7ADE\u8D5B\u6BB5\u4F4D\n     */\n    readonly competitionDan: string\n    /**\n     * \u4E0A\u4E2A\u8D5B\u5B63\u7ADE\u8D5B\u6BB5\u4F4D\n     */\n    readonly competitionTopDan: string\n    /**\n     * \u6BCF\u8D5B\u5B63\u7B2C\u4E00\u5929\uFF08\u5468\u65E5\uFF09\u76840\u70B9\u65F6\u95F4\u6233\n     */\n    readonly competitionTime: string\n    /**\n     * \u8D5B\u5B63\u6635\u79F0\u6570\u636E\n     */\n    readonly competitionNikeName: string\n    /**\n     * \u9996\u6B21\u9886\u53D6\u8BB0\u5F55{\u9636\u6BB5id:{&quot;state&quot;:1}}1\u4E3A\u9886\u53D6\uFF0C0\u672A\u9886\u53D6\n     */\n    readonly competitionReward: string\n\n    resolve(_tables: Map<string, any>) {\n    }\n}\n\n}\n\nexport namespace game {\nexport class TbConstant{\n    private _dataMap: Map<string, game.Constant>\n    private _dataList: game.Constant[]\n    constructor(_json_: any) {\n        this._dataMap = new Map<string, game.Constant>()\n        this._dataList = []\n        for(var _json2_ of _json_) {\n            let _v: game.Constant\n            _v = new game.Constant(_json2_)\n            this._dataList.push(_v)\n            this._dataMap.set(_v.constValue, _v)\n        }\n    }\n\n    getDataMap(): Map<string, game.Constant> { return this._dataMap; }\n    getDataList(): game.Constant[] { return this._dataList; }\n\n    get(key: string): game.Constant | undefined { return this._dataMap.get(key); }\n\n    resolve(_tables: Map<string, any>) {\n        for(var v of this._dataList) {\n            v.resolve(_tables)\n        }\n    }\n\n}\n}\n\n\n\nexport namespace game {\nexport class Constant {\n\n    constructor(_json_: any) {\n        if (_json_.constValue === undefined) { throw new Error() }\n        this.constValue = _json_.constValue\n        if (_json_.maxLevel === undefined) { throw new Error() }\n        this.maxLevel = _json_.maxLevel\n    }\n\n    /**\n     * \u8868\u540D\n     */\n    readonly constValue: string\n    /**\n     * \u6700\u5927\u5173\u5361\n     */\n    readonly maxLevel: number\n\n    resolve(_tables: Map<string, any>) {\n    }\n}\n\n}\n\n\ntype JsonLoader = (file: string) => any\n\nexport class Tables {\n    private _TbLocalInfo: game.TbLocalInfo\n    get TbLocalInfo(): game.TbLocalInfo  { return this._TbLocalInfo;}\n    private _TbConstant: game.TbConstant\n    get TbConstant(): game.TbConstant  { return this._TbConstant;}\n\n    constructor(loader: JsonLoader) {\n        let tables = new Map<string, any>()\n        this._TbLocalInfo = new game.TbLocalInfo(loader('game_tblocalinfo'))\n        tables.set('game.TbLocalInfo', this._TbLocalInfo)\n        this._TbConstant = new game.TbConstant(loader('game_tbconstant'))\n        tables.set('game.TbConstant', this._TbConstant)\n\n        this._TbLocalInfo.resolve(tables)\n        this._TbConstant.resolve(tables)\n    }\n}\n", "import { FrameConfig } from \"../FrameConfig\";\r\n\r\nexport default class Log {\r\n\r\n    public static log(string: any) {\r\n        if (FrameConfig.Debug) console.log(string);\r\n    }\r\n\r\n    public static error(string: any) {\r\n        if (FrameConfig.Debug) console.log(\"%c\" + string, 'color: red');\r\n    }\r\n\r\n    public static info(string: any) {\r\n        if (FrameConfig.Debug) console.log(\"%c\" + string, 'color: #29B6F6');\r\n    }\r\n\r\n    public static warn(string: any) {\r\n        if (FrameConfig.Debug) console.log(\"%c\" + string, 'color: yellow');\r\n    }\r\n\r\n    public static debug(string: any) {\r\n        if (FrameConfig.Debug) console.log(\"%c\" + string, 'color: #81FF00');\r\n    }\r\n\r\n}", "import { Tables } from \"../../game/table/Types\";\r\nimport Log from \"../log/Log\";\r\n\r\nexport class LoaderManager {\r\n\r\n    static ConfigTable: Tables;\r\n\r\n    static async init(configList: Array<string>) {\r\n        let url;\r\n        for(let fileName of configList) {\r\n            url = this.getConfigPath(fileName);\r\n            await this.load(url);\r\n        }\r\n        LoaderManager.ConfigTable = new Tables(LoaderManager.getConfigJson);\r\n        Log.info(\"========config loading finish========\");\r\n        for(let fileName of configList) {\r\n            url = this.getConfigPath(fileName);\r\n            this.release(url);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u8D44\u6E90\r\n     * @param url \u8D44\u6E90\u8DEF\u5F84\r\n     * @param isCache \u662F\u5426\u538B\u7F29\u5305\u7684\u7F13\u5B58\u8D44\u6E90\r\n     * @returns \r\n     */\r\n    static async load(url: string): Promise<any> {\r\n        let res: Laya.Resource = await Laya.loader.load(url);\r\n        res._addReference();\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * \u91CA\u653E\u8D44\u6E90\r\n     * @param url \r\n     * @returns \r\n     */\r\n    static release(url: string) {\r\n        if (!url) return;\r\n        let res: Laya.Resource = Laya.loader.getRes(url);\r\n        if (!res) {\r\n            if (Laya.loader.loading) {\r\n                Log.debug(\"\u6E05\u7406\u672A\u52A0\u8F7D\u8D44\u6E90:\" + url);\r\n                Laya.loader.cancelLoadByUrl(url);\r\n            }\r\n            Log.error(\"\u8D44\u6E90\u4E0D\u5B58\u5728:\" + url);\r\n            return;\r\n        }\r\n        this.removeReference(res);\r\n    }\r\n\r\n    /**\r\n     * \u91CA\u653E\u56FE\u7247\u8D44\u6E90(\u91CA\u653E\u8D44\u6E90\u4E00\u822C\u4F7F\u7528\u8FD9\u4E2A)\r\n     * @param url \u8D44\u6E90\u8DEF\u5F84\r\n     */\r\n    static clearTextureRes(url: string) {\r\n        if (!url) return;\r\n        // let res: Laya.Resource = Laya.loader.getRes(url);\r\n        // if (!res) {\r\n        //     if (Laya.loader.loading) {\r\n        //         Log.debug(\"\u6E05\u7406\u672A\u52A0\u8F7D\u8D44\u6E90:\" + url);\r\n        //         Laya.loader.cancelLoadByUrl(url);\r\n        //     }\r\n        //     Log.error(\"\u8D44\u6E90\u4E0D\u5B58\u5728:\" + url);\r\n        //     return;\r\n        // }\r\n        Laya.loader.clearTextureRes(url);\r\n    }\r\n\r\n    static removeReference(res: Laya.Resource) {\r\n        res._removeReference();\r\n        if (res.referenceCount <= 0) {\r\n            if (res.url.indexOf(\"atlas\") == -1) {\r\n                res.destroy();\r\n            }\r\n            Log.debug(\"\u91CA\u653E\u8D44\u6E90\" + res.url);\r\n        }\r\n    }\r\n\r\n    static gc() {\r\n        Laya.Resource.destroyUnusedResources();\r\n    }\r\n\r\n    static configBasePath = \"resources/config/\";\r\n    static getConfigPath(name: string, suffix: ConfigFileSuffix = ConfigFileSuffix.json) {\r\n        return this.configBasePath + name + suffix;\r\n    }\r\n\r\n    static getConfigJson(name: string) {\r\n        name = LoaderManager.getConfigPath(name);\r\n        return Laya.loader.getRes(name).data;\r\n    }\r\n\r\n}\r\n\r\nexport enum ConfigFileSuffix {\r\n    bytes = \".bytes\",\r\n    json = \".json\"\r\n}", "import { FrameConfig } from \"../FrameConfig\";\r\nimport { Singleton } from \"../base/Singleton\";\r\nimport { LoaderManager } from \"../loader/LoaderManager\";\r\nimport Log from \"../log/Log\";\r\nimport { WINDOW_LAYER } from \"../util/FrameEnum\";\r\n\r\nexport default class Scene3DManager extends Singleton {\r\n\r\n    private Scene3D: Laya.Scene3D;\r\n    private sceneMap: Map<string, Laya.Sprite3D>;\r\n\r\n    public init() {\r\n\r\n        this.sceneMap = new Map();\r\n\r\n        // \u521D\u59CB\u5316ui3d\u573A\u666F\r\n        let scene = new Laya.Scene3D();\r\n        scene.zOrder = WINDOW_LAYER.Scene3D;\r\n        scene.name = \"Scene3D\";\r\n\r\n        FrameConfig.rootNode.addChild(scene);\r\n        this.Scene3D = scene;\r\n    }\r\n\r\n    public async openScene3D(url: string, layer?: number) {\r\n        let prefab: Laya.Prefab = await LoaderManager.load(url);\r\n        let sprite3D = prefab.create() as Laya.Sprite3D;\r\n        this.sceneMap.set(url, sprite3D);\r\n        LoaderManager.release(url);\r\n        layer ? this.Scene3D.addChildAt(sprite3D, layer) : this.Scene3D.addChild(sprite3D);\r\n        return sprite3D;\r\n    }\r\n\r\n    public closeScene3D(url: string) {\r\n        if (!this.sceneMap.has(url)) {\r\n            Log.debug(\"\u4E0D\u5B58\u57283d\u573A\u666F\uFF1A\" + url);\r\n            return;\r\n        }\r\n        let scene = this.sceneMap.get(url);\r\n        scene.destroy();\r\n        this.sceneMap.delete(url);\r\n    }\r\n\r\n\r\n}", "// game.json \u4E2D\u7684\u914D\u7F6E\uFF1A\r\n// \"subpackages\": [\r\n//     {\r\n//         \"name\": \"Zip1\",\r\n//         \"root\": \"/zip1/\"\r\n//     }, {\r\n//         \"name\": \"Zip2\",\r\n//         \"root\": \"/zip2/\"\r\n//     }, {\r\n//         \"name\": \"Zip3\",\r\n//         \"root\": \"/zip3/\"\r\n//     }\r\n\r\nimport { FrameConfig } from \"../FrameConfig\";\r\nimport Log from \"../log/Log\";\r\n\r\n// ]\r\nexport const AMConfig = {\r\n    /**\u662F\u5426\u6BCF\u6B21\u90FD\u5F3A\u5236\u6E05\u7406 */\r\n    forceClearCaChe: false,\r\n    UseMainZip: false, //\u662F\u5426\u4F7F\u7528\u4E3B\u5305\u7684\u538B\u7F29\u5305\r\n    UseSubPackge: false,  //\u662F\u5426\u4F7F\u7528\u5206\u5305\r\n    CacheVersion: \"1.0.1\",\r\n    UnZipInfo: {\r\n        ZipName: \"Zip.zip\",\r\n        Version: \"1.0\",\r\n        subPackgeRoot: \"/zip/\",\r\n    },\r\n    SubPackages: [\r\n        {\r\n            isZip: true,\r\n            ZipName: \"Zip1.zip\",\r\n            Version: \"1.0\",\r\n            subPackgeRoot: \"/zip1/\",\r\n            InitLoad: true,\r\n            LoadingFinish: false\r\n        },\r\n        // \u4E0D\u538B\u7F29\u7684\u8D44\u6E90\u7684\u5206\u5305\uFF0C\u4E00\u4E9B\u4E0D\u80FD\u653E\u5728\u7F13\u5B58\u7684\u8D44\u6E90\u5C31\u653E\u8FD9\u91CC\r\n        // {\r\n        //     isZip: false,\r\n        //     ZipName: \"sub1\",\r\n        //     Version: \"1.0\",\r\n        //     subPackgeRoot: \"/subPack1/\",\r\n        //     InitLoad: true,\r\n        //     LoadingFinish: false\r\n        // }\r\n        // , {\r\n        //     ZipName: \"Zip2.zip\",\r\n        //     Version: \"1.1\",\r\n        //     subPackgeRoot: \"/zip2/\",\r\n        //     InitLoad: true,\r\n        //     LoadingFinish: false\r\n        // }\r\n        // ,{\r\n        //     ZipName: \"Zip3.zip\",\r\n        //     Version: \"1.0\",\r\n        //     subPackgeRoot: \"/zip3/\",\r\n        //     InitLoad: true,\r\n        //     LoadingFinish: false\r\n        // }\r\n    ]\r\n}\r\n\r\nexport default class AssetsMgr {\r\n\r\n    private static inst: AssetsMgr = null;\r\n    public static get Inst(): AssetsMgr {\r\n        if (AssetsMgr.inst == null) {\r\n            AssetsMgr.inst = new AssetsMgr();\r\n        }\r\n        return AssetsMgr.inst;\r\n    }\r\n\r\n    private mFileMgr: any = null;\r\n    private mLoadFinish: number = 0;\r\n    private AssetsMap: any;\r\n    private mLoadAssetsIndex: number = -1;\r\n    public mCacheBase: string = \"\";\r\n    private mIsClearCaChe: boolean = true;\r\n    private mPlatform: any;\r\n\r\n    //\u56DE\u8C03\r\n    private caller: any = null;\r\n    private mBackFun: Function = null;\r\n\r\n\r\n    public AssetsPath: any = {\r\n    }\r\n\r\n    //\u9700\u8981\u68C0\u67E5\u7684\u8D44\u6E90\u76EE\u5F55\uFF0C\u9632\u6B62\u7F13\u5B58\u88AB\u6E05\u7406\r\n    public ExaminePath: any = {\r\n    }\r\n\r\n    constructor() {\r\n        this.mPlatform = FrameConfig.platform;\r\n        if (!this.mPlatform) return;\r\n        this.mFileMgr = this.mPlatform.getFileSystemManager();\r\n        this.mCacheBase = FrameConfig.basePath;\r\n        this.InitCaChe(this.mCacheBase);\r\n    }\r\n\r\n    private InitCaChe(path: string) {\r\n        if (!this.mIsClearCaChe) return;\r\n        try {\r\n            this.mFileMgr.accessSync(path);\r\n            console.log(\"\u5B58\u5728\u7F13\u5B58\u76EE\u5F55:\", path);\r\n            this.mIsClearCaChe = true;\r\n        }\r\n        catch (e) {\r\n            console.log(\"\u4E0D\u5B58\u5728\u7F13\u5B58\u76EE\u5F55\uFF1A\", path);\r\n            this.mIsClearCaChe = false;\r\n        }\r\n        if(AMConfig.forceClearCaChe) {\r\n            console.debug(\"\u5F3A\u5236\u6E05\u7406\u6587\u4EF6\u7F13\u5B58\");\r\n            this.mIsClearCaChe = false;\r\n        }\r\n        else if (Laya.LocalStorage.getItem(\"CaCheVersion\") == AMConfig.CacheVersion && this.mIsClearCaChe) {\r\n            console.log(\"\u7F13\u5B58\u7248\u672C\u4E00\u81F4\u4E14\u7F13\u5B58\u76EE\u5F55\u5B58\u5728\uFF0C\u4E0D\u505A\u7F13\u5B58\u6E05\u7406\");\r\n            return;\r\n        }\r\n        else {\r\n            console.log(\"\u7F13\u5B58\u7248\u672C\u4E0D\u4E00\u81F4\u6216\u7F13\u5B58\u76EE\u5F55\u4E0D\u5B58\u5728\uFF0C\u6E05\u7406\u7F13\u5B58\");\r\n        }\r\n        Laya.LocalStorage.setItem(\"CaCheVersion\", AMConfig.CacheVersion);\r\n        if (AMConfig.UseMainZip) {\r\n            Laya.LocalStorage.setItem(AMConfig.UnZipInfo.subPackgeRoot + AMConfig.UnZipInfo.ZipName, \"\");\r\n        }\r\n        if (AMConfig.UseSubPackge) {\r\n            for (var info of AMConfig.SubPackages) {\r\n                Laya.LocalStorage.setItem(info.subPackgeRoot + info.ZipName, \"\");\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u8D44\u6E90\u7BA1\u7406\u521D\u59CB\u5316\r\n     * @param ExaminePath \u68C0\u6D4B\u8D44\u6E90\u8DEF\u5F84\r\n     * @param param \u5176\u4ED6\u53C2\u6570\r\n     * @returns \r\n     */\r\n    public Init(ExaminePath?: any, ...param: any) {\r\n        if (!this.mPlatform) {\r\n            console.log(\"\u83B7\u53D6\u5E73\u53F0\u5931\u8D25\uFF01\u4F7F\u7528\u9ED8\u8BA4\u8DEF\u52B2\u3002\");\r\n            return;\r\n        }\r\n        // this.AssetsMap = AssetePath;\r\n        this.ExaminePath = ExaminePath;\r\n        for (var key in this.AssetsPath) {\r\n            this.AssetsPath[key] = this.mCacheBase + this.AssetsPath[key];\r\n        }\r\n\r\n        for (var item of param) {\r\n            for (var key in item) {\r\n                item[key] = this.mCacheBase + item[key];\r\n            }\r\n        }\r\n\r\n        for (var key in this.ExaminePath) {\r\n            this.ExaminePath[key] = this.mCacheBase + this.ExaminePath[key];\r\n            this.InitCaChe(this.ExaminePath[key]);\r\n        }\r\n    }\r\n\r\n    public CreateAssets(path: string, backfun?: Function, caller?: any) {\r\n        if (this.AssetsMap[path]) {\r\n            if (backfun) caller ? backfun.apply(caller, [this.AssetsMap[path]]) : backfun(this.AssetsMap[path]);\r\n            return;\r\n        }\r\n        Laya.loader.load(path, Laya.Handler.create(this, () => {\r\n            this.AssetsMap[path] = Laya.loader.getRes(path);\r\n            if (backfun) caller ? backfun.apply(caller, [this.AssetsMap[path]]) : backfun(this.AssetsMap[path]);\r\n        }));\r\n    }\r\n\r\n    public LoadAseets(backFun?: Function, caller?: any) {\r\n        if (!this.mPlatform) {\r\n            if (backFun) caller ? backFun.apply(caller) : backFun();\r\n            return;\r\n        }\r\n        if (FrameConfig.cdn) {\r\n            console.log(\"\u8D70cdn\");\r\n            if (backFun) caller ? backFun.apply(caller) : backFun();\r\n            return;\r\n        }\r\n        this.caller = caller;\r\n        this.mBackFun = backFun;\r\n        console.log(\"\u5206\u5305\u72B6\u6001\uFF1A\", AMConfig.UseSubPackge);\r\n        console.log(\"\u4E3B\u5305\u538B\u7F29\uFF1A\", AMConfig.UseMainZip);\r\n        AMConfig.UseMainZip ? this.LocalUnZip() : this.LoadingFnish(false);\r\n    }\r\n\r\n    private LocalUnZip() {\r\n        if (Laya.LocalStorage.getItem(AMConfig.UnZipInfo.subPackgeRoot + AMConfig.UnZipInfo.ZipName) == AMConfig.UnZipInfo.Version) {\r\n            console.log(\"\u7248\u672C\u53F7\u76F8\u540C\uFF0C\u4E0D\u505A\u89E3\u538B\");\r\n            this.LoadingFnish(false);\r\n            return;\r\n        }\r\n        else {\r\n            console.log(\"\u7248\u672C\u53F7\u4E0D\u540C\uFF0C\u91CD\u89E3\u538B\");\r\n        }\r\n        this.unZip(AMConfig.UnZipInfo, false);\r\n    }\r\n\r\n    public LoadSubpackage(info: any, callBack: Function = this.unZip, caller = this) {\r\n        if (info.LoadingFinish) {\r\n            callBack.call(caller, info);\r\n            return;\r\n        }\r\n        if (Laya.LocalStorage.getItem(info.subPackgeRoot + info.ZipName) == info.Version) {\r\n            console.log(\"\u5206\u5305\uFF1A\", info.ZipName, \"\u7248\u672C\u53F7\u76F8\u540C\uFF0C\u4E0D\u62C9\u53D6\u89E3\u538B\u8D44\u6E90\");\r\n            this.LoadingFnish(true);\r\n            return;\r\n        }\r\n        else {\r\n            console.log(\"\u7248\u672C\u53F7\u4E0D\u540C\uFF0C\u91CD\u62C9\u53D6\u5206\u5305\uFF1A\", info.ZipName);\r\n        }\r\n\r\n        // Laya.loader.loadPackage(info.subPackgeRoot)\r\n        // .then((res) => {\r\n        //     console.log(\"\u5206\u5305\uFF1A\", info.ZipName, \"\u62C9\u53D6\u6210\u529F\");\r\n        //     this.recordSubLoadFinish(info);\r\n        //     callBack.call(caller, info);\r\n        // })\r\n        // .catch((err) => {\r\n        //     console.error(\"\u5206\u5305\uFF1A\", info.ZipName, \"\u5206\u5305\u62C9\u53D6\u5931\u8D25\uFF1A\" + err);\r\n        //     this.LoadSubpackage(info);\r\n        // })\r\n\r\n        var s = this;\r\n        this.mPlatform.loadSubpackage({\r\n            name: info.subPackgeRoot,\r\n            success: function (res: any) {\r\n                console.log(\"\u5206\u5305\uFF1A\", info.ZipName, \"\u62C9\u53D6\u6210\u529F\");\r\n                s.recordSubLoadFinish(info);\r\n                if (info.isZip) {\r\n                    s.unZip(info)\r\n                }\r\n                else {\r\n                    Laya.LocalStorage.setItem(info.subPackgeRoot + info.ZipName, info.Version);\r\n                    AssetsMgr.Inst.LoadingFnish(true);\r\n                }\r\n            },\r\n            fail: function (res: any) {\r\n                console.error(\"\u5206\u5305\uFF1A\", info.ZipName, \"\u5206\u5305\u62C9\u53D6\u5931\u8D25\uFF1A\" + res);\r\n                s.LoadSubpackage(info);\r\n            }\r\n        })\r\n    }\r\n\r\n    private recordSubLoadFinish(info) {\r\n        for (let item of AMConfig.SubPackages) {\r\n            if (item.ZipName != info.ZipName) continue;\r\n            item.LoadingFinish = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n    private unZip(info: any, IsSub: boolean = true) {\r\n        var needCreate;\r\n        try {\r\n            this.mFileMgr.accessSync(this.mCacheBase);\r\n            console.log(\"\u89E3\u538B\u7F13\u5B58\u76EE\u5F55\u5B58\u5728\");\r\n            needCreate = false;\r\n        } catch (e) {\r\n            needCreate = true;\r\n            console.log(\"\u89E3\u538B\u7F13\u5B58\u76EE\u5F55\u4E0D\u5B58\u5728\uFF0C\u5148\u521B\u5EFA\");\r\n        }\r\n        if (needCreate) {\r\n            try {\r\n                this.mFileMgr.mkdirSync(this.mCacheBase, true)\r\n                console.log(\"\u89E3\u538B\u7F13\u5B58\u76EE\u5F55\u521B\u5EFA\u6210\u529F\");\r\n            } catch (e) {\r\n                console.error(\"\u538B\u7F13\u5B58\u76EE\u5F55\u521B\u5EFA\u5931\u8D25\uFF1A\", e);\r\n                return;\r\n            }\r\n        }\r\n        var zipPath = info.subPackgeRoot + info.ZipName;\r\n        try {\r\n            this.mFileMgr.accessSync(zipPath);\r\n            console.log(\"\u8BFB\u53D6\u538B\u7F29\u5305\", info.ZipName, \"\u6210\u529F\");\r\n        } catch (e) {\r\n            console.error(\"\u538B\u7F29\u5305:\", info.ZipName, \"\u4E0D\u5B58\u5728\uFF0C\u8BF7\u68C0\u67E5\u538B\u7F29\u5305\u8DEF\u52B2\");\r\n            return;\r\n        }\r\n        this.mFileMgr.unzip({\r\n            zipFilePath: zipPath,\r\n            targetPath: this.mCacheBase,\r\n            success(res: any) {\r\n                console.log(\"\u538B\u7F29\u5305\uFF1A\", info.ZipName, \"\u89E3\u538B\u6210\u529F\");\r\n                Laya.LocalStorage.setItem(info.subPackgeRoot + info.ZipName, info.Version);\r\n                AssetsMgr.Inst.LoadingFnish(IsSub);\r\n            },\r\n            fail(res: any) {\r\n                console.error(\"\u538B\u7F29\u5305\uFF1A\", info.ZipName, \"\u89E3\u538B\u5931\u8D25\");\r\n                AssetsMgr.Inst.unZip(info);\r\n            }\r\n        })\r\n    }\r\n\r\n    private LoadingFnish(IsSub: boolean = true) {\r\n        if (!AMConfig.UseSubPackge) {\r\n            // \u6CA1\u6709\u5F00\u542F\u5206\u5305\u5B8C\u6210\u56DE\u8C03\r\n            if (this.mBackFun) this.caller != null ? this.mBackFun.apply(this.caller) : this.mBackFun();\r\n            return;\r\n        }\r\n        // this.LoadManager();\r\n        if (IsSub) this.mLoadFinish++;\r\n        if (this.mLoadFinish < AMConfig.SubPackages.length) {\r\n            let info = AMConfig.SubPackages[this.mLoadFinish];\r\n            // \u5224\u65AD\u662F\u5426\u5728\u521D\u59CB\u5316\u7684\u65F6\u5019\u62C9\u53D6\u5206\u5305\r\n            info.InitLoad ? this.LoadSubpackage(info) : this.LoadingFnish(true);\r\n        }\r\n        else {\r\n            // \u5F00\u542F\u5206\u5305\u5B8C\u6210\u56DE\u8C03\r\n            if (this.mBackFun) this.caller != null ? this.mBackFun.apply(this.caller) : this.mBackFun();\r\n        }\r\n    }\r\n\r\n    /**\u4F20\u5165\u8DEF\u5F84\uFF0C\u6839\u636E\u5E73\u53F0\u4F1A\u7684\u771F\u5B9E\u8DEF\u5F84 */\r\n    public getPath(path: string) {\r\n        return this.mCacheBase + path;\r\n    }\r\n\r\n}", "/*\r\n Copyright (c) 2008-2010 Ricardo Quesada\r\n Copyright (c) 2011-2012 cocos2d-x.org\r\n Copyright (c) 2013-2016 Chukong Technologies Inc.\r\n Copyright (c) 2017-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n http://www.cocos2d-x.org\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\n// import { errorID, logID } from '../../core/platform/debug';\r\nimport { Action } from './action';\r\n// import { Node } from '../../scene-graph';\r\n// import { legacyCC } from '../../core/global-exports';\r\n// import { isCCObject } from '../../core/data/object';\r\nimport Node = Laya.Node;\r\nlet ID_COUNTER = 0;\r\n\r\n/*\r\n * @class HashElement\r\n * @constructor\r\n * @private\r\n */\r\nclass HashElement {\r\n    actions = [];\r\n    target: Record<string, unknown> | null = null; // ccobject\r\n    actionIndex = 0;\r\n    currentAction = null; // CCAction\r\n    paused = false;\r\n    lock = false;\r\n}\r\n\r\n/**\r\n * @en\r\n * `ActionManager` is a class that can manage actions.<br/>\r\n * Normally you won't need to use this class directly. 99% of the cases you will use the CCNode interface,\r\n * which uses this class's singleton object.\r\n * But there are some cases where you might need to use this class. <br/>\r\n * Examples:<br/>\r\n * - When you want to run an action where the target is different from a CCNode.<br/>\r\n * - When you want to pause / resume the actions<br/>\r\n * @zh\r\n * `ActionManager` \u662F\u53EF\u4EE5\u7BA1\u7406\u52A8\u4F5C\u7684\u5355\u4F8B\u7C7B\u3002<br/>\r\n * \u901A\u5E38\u4F60\u5E76\u4E0D\u9700\u8981\u76F4\u63A5\u4F7F\u7528\u8FD9\u4E2A\u7C7B\uFF0C99%\u7684\u60C5\u51B5\u60A8\u5C06\u4F7F\u7528 CCNode \u7684\u63A5\u53E3\u3002<br/>\r\n * \u4F46\u4E5F\u6709\u4E00\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u60A8\u53EF\u80FD\u9700\u8981\u4F7F\u7528\u8FD9\u4E2A\u7C7B\u3002 <br/>\r\n * \u4F8B\u5982\uFF1A\r\n *  - \u5F53\u4F60\u60F3\u8981\u8FD0\u884C\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u4F46\u76EE\u6807\u4E0D\u662F CCNode \u7C7B\u578B\u65F6\u3002 <br/>\r\n *  - \u5F53\u4F60\u60F3\u8981\u6682\u505C/\u6062\u590D\u52A8\u4F5C\u65F6\u3002 <br/>\r\n * @class ActionManager\r\n * @example {@link cocos2d/core/CCActionManager/ActionManager.js}\r\n */\r\nexport class ActionManager {\r\n    private _hashTargets = new Map();\r\n    private _arrayTargets: HashElement[] = [];\r\n    private _currentTarget!: HashElement;\r\n    private _elementPool: HashElement[] = [];\r\n\r\n    private _searchElementByTarget (arr: HashElement[], target: Record<string, unknown>) {\r\n        for (let k = 0; k < arr.length; k++) {\r\n            if (target === arr[k].target) return arr[k];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private _getElement (target: Record<string, unknown>, paused: boolean) {\r\n        let element = this._elementPool.pop();\r\n        if (!element) {\r\n            element = new HashElement();\r\n        }\r\n        element.target = target;\r\n        element.paused = !!paused;\r\n        return element;\r\n    }\r\n\r\n    private _putElement (element: HashElement) {\r\n        element.actions.length = 0;\r\n        element.actionIndex = 0;\r\n        element.currentAction = null;\r\n        element.paused = false;\r\n        element.target = null;\r\n        element.lock = false;\r\n        this._elementPool.push(element);\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Adds an action with a target.<br/>\r\n     * If the target is already present, then the action will be added to the existing target.\r\n     * If the target is not present, a new instance of this target will be created either paused or not,\r\n     * and the action will be added to the newly created target.\r\n     * When the target is paused, the queued actions won't be 'ticked'.\r\n     * @zh\r\n     * \u589E\u52A0\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u540C\u65F6\u8FD8\u9700\u8981\u63D0\u4F9B\u52A8\u4F5C\u7684\u76EE\u6807\u5BF9\u8C61\uFF0C\u76EE\u6807\u5BF9\u8C61\u662F\u5426\u6682\u505C\u4F5C\u4E3A\u53C2\u6570\u3002<br/>\r\n     * \u5982\u679C\u76EE\u6807\u5DF2\u5B58\u5728\uFF0C\u52A8\u4F5C\u5C06\u4F1A\u88AB\u76F4\u63A5\u6DFB\u52A0\u5230\u73B0\u6709\u7684\u8282\u70B9\u4E2D\u3002<br/>\r\n     * \u5982\u679C\u76EE\u6807\u4E0D\u5B58\u5728\uFF0C\u5C06\u4E3A\u8FD9\u4E00\u76EE\u6807\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5B9E\u4F8B\uFF0C\u5E76\u5C06\u52A8\u4F5C\u6DFB\u52A0\u8FDB\u53BB\u3002<br/>\r\n     * \u5F53\u76EE\u6807\u72B6\u6001\u7684 paused \u4E3A true\uFF0C\u52A8\u4F5C\u5C06\u4E0D\u4F1A\u88AB\u6267\u884C\r\n     *\r\n     * @method addAction\r\n     * @param {Action} action\r\n     * @param {object} target\r\n     * @param {Boolean} paused\r\n     */\r\n    addAction (action: Action, target: Laya.Node, paused: boolean) {\r\n        if (!action || !target) {\r\n            // errorID(1000);\r\n            return;\r\n        }\r\n\r\n        // if (target.uuid == null) {\r\n        //     (target as any).uuid = `_TWEEN_UUID_${ID_COUNTER++}`;\r\n        // }\r\n\r\n        // check if the action target already exists\r\n        let element = this._hashTargets.get(target);\r\n        // if doesn't exists, create a hashelement and push in mpTargets\r\n        if (!element) {\r\n            element = this._getElement(target as any, paused);\r\n            this._hashTargets.set(target, element);\r\n            this._arrayTargets.push(element);\r\n        } else if (!element.actions) {\r\n            element.actions = [];\r\n        }\r\n        // update target due to the same UUID is allowed for different scenarios\r\n        element.target = target;\r\n        element.actions.push(action);\r\n        action.startWithTarget(target);\r\n    }\r\n\r\n    /**\r\n     * @en Removes all actions from all the targets.\r\n     * @zh \u79FB\u9664\u6240\u6709\u5BF9\u8C61\u7684\u6240\u6709\u52A8\u4F5C\u3002\r\n     * @method removeAllActions\r\n     */\r\n    removeAllActions () {\r\n        const locTargets = this._arrayTargets;\r\n        for (let i = 0; i < locTargets.length; i++) {\r\n            const element = locTargets[i];\r\n            if (element) this._putElement(element);\r\n        }\r\n        this._arrayTargets.length = 0;\r\n        this._hashTargets = new Map();\r\n    }\r\n    /**\r\n     * @en\r\n     * Removes all actions from a certain target. <br/>\r\n     * All the actions that belongs to the target will be removed.\r\n     * @zh\r\n     * \u79FB\u9664\u6307\u5B9A\u5BF9\u8C61\u4E0A\u7684\u6240\u6709\u52A8\u4F5C\u3002<br/>\r\n     * \u5C5E\u4E8E\u8BE5\u76EE\u6807\u7684\u6240\u6709\u7684\u52A8\u4F5C\u5C06\u88AB\u5220\u9664\u3002\r\n     * @method removeAllActionsFromTarget\r\n     * @param {Node} target\r\n     */\r\n    removeAllActionsFromTarget (target: Node) {\r\n        // explicit null handling\r\n        if (target == null) return;\r\n        const element = this._hashTargets.get(target);\r\n        if (element) {\r\n            element.actions.length = 0;\r\n            this._deleteHashElement(element);\r\n        }\r\n    }\r\n    /**\r\n     * @en Removes an action given an action reference.\r\n     * @zh \u79FB\u9664\u6307\u5B9A\u7684\u52A8\u4F5C\u3002\r\n     * @method removeAction\r\n     * @param {Action} action\r\n     */\r\n    removeAction (action: Action) {\r\n        // explicit null handling\r\n        if (action == null) return;\r\n        const target = action.getOriginalTarget()!;\r\n        const element = this._hashTargets.get(target);\r\n\r\n        if (element) {\r\n            for (let i = 0; i < element.actions.length; i++) {\r\n                if (element.actions[i] === action) {\r\n                    element.actions.splice(i, 1);\r\n                    // update actionIndex in case we are in tick. looping over the actions\r\n                    if (element.actionIndex >= i) element.actionIndex--;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    _removeActionByTag (tag: number, element: any, target?: Node) {\r\n        for (let i = 0, l = element.actions.length; i < l; ++i) {\r\n            const action = element.actions[i];\r\n            if (action && action.getTag() === tag) {\r\n                if (target && action.getOriginalTarget() !== target) {\r\n                    continue;\r\n                }\r\n                this._removeActionAtIndex(i, element);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    _removeAllActionsByTag (tag: number, element: any, target?: Node) {\r\n        for (let i = element.actions.length - 1; i >= 0; --i) {\r\n            const action = element.actions[i];\r\n            if (action && action.getTag() === tag) {\r\n                if (target && action.getOriginalTarget() !== target) {\r\n                    continue;\r\n                }\r\n                this._removeActionAtIndex(i, element);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en Removes an action given its tag and the target.\r\n     * @zh \u5220\u9664\u6307\u5B9A\u5BF9\u8C61\u4E0B\u7279\u5B9A\u6807\u7B7E\u7684\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u5C06\u5220\u9664\u9996\u4E2A\u5339\u914D\u5230\u7684\u52A8\u4F5C\u3002\r\n     * @method removeActionByTag\r\n     * @param {Number} tag\r\n     * @param {Node} target\r\n     */\r\n    removeActionByTag (tag: number, target?: Node) {\r\n        // if (tag === Action.TAG_INVALID) logID(1002);\r\n\r\n        const hashTargets = this._hashTargets;\r\n        if (target) {\r\n            const element = hashTargets.get(target);\r\n            if (element) {\r\n                this._removeActionByTag(tag, element, target);\r\n            }\r\n        } else {\r\n            hashTargets.forEach((element) => {\r\n                this._removeActionByTag(tag, element);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en Removes all actions given the tag and the target.\r\n     * @zh \u5220\u9664\u6307\u5B9A\u5BF9\u8C61\u4E0B\u7279\u5B9A\u6807\u7B7E\u7684\u6240\u6709\u52A8\u4F5C\u3002\r\n     * @method removeAllActionsByTag\r\n     * @param {Number} tag\r\n     * @param {Node} target\r\n     */\r\n    removeAllActionsByTag (tag: number, target?: Node) {\r\n        // if (tag === Action.TAG_INVALID) logID(1002);\r\n\r\n        const hashTargets = this._hashTargets;\r\n        if (target) {\r\n            const element = hashTargets.get(target);\r\n            if (element) {\r\n                this._removeAllActionsByTag(tag, element, target);\r\n            }\r\n        } else {\r\n            hashTargets.forEach((element) => {\r\n                this._removeAllActionsByTag(tag, element);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en Gets an action given its tag an a target.\r\n     * @zh \u901A\u8FC7\u76EE\u6807\u5BF9\u8C61\u548C\u6807\u7B7E\u83B7\u53D6\u4E00\u4E2A\u52A8\u4F5C\u3002\r\n     * @method getActionByTag\r\n     * @param {Number} tag\r\n     * @param {Node} target\r\n     * @return {Action|null}  return the Action with the given tag on success\r\n     */\r\n    getActionByTag (tag: number, target: Node): Action | null {\r\n        // if (tag === Action.TAG_INVALID) logID(1004);\r\n\r\n        const element = this._hashTargets.get(target);\r\n        if (element) {\r\n            if (element.actions != null) {\r\n                for (let i = 0; i < element.actions.length; ++i) {\r\n                    const action = element.actions[i];\r\n                    if (action && action.getTag() === tag) {\r\n                        return action as Action;\r\n                    }\r\n                }\r\n            }\r\n            // logID(1005, tag);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Returns the numbers of actions that are running in a certain target. <br/>\r\n     * Composable actions are counted as 1 action. <br/>\r\n     * Example: <br/>\r\n     * - If you are running 1 Sequence of 7 actions, it will return 1. <br/>\r\n     * - If you are running 7 Sequences of 2 actions, it will return 7.\r\n     * @zh\r\n     * \u8FD4\u56DE\u6307\u5B9A\u5BF9\u8C61\u4E0B\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u52A8\u4F5C\u6570\u91CF\u3002 <br/>\r\n     * \u7EC4\u5408\u52A8\u4F5C\u88AB\u7B97\u4F5C\u4E00\u4E2A\u52A8\u4F5C\u3002<br/>\r\n     * \u4F8B\u5982\uFF1A<br/>\r\n     *  - \u5982\u679C\u60A8\u6B63\u5728\u8FD0\u884C 7 \u4E2A\u52A8\u4F5C\u7EC4\u6210\u7684\u5E8F\u5217\u52A8\u4F5C\uFF08Sequence\uFF09\uFF0C\u8FD9\u4E2A\u51FD\u6570\u5C06\u8FD4\u56DE 1\u3002<br/>\r\n     *  - \u5982\u679C\u4F60\u6B63\u5728\u8FD0\u884C 2 \u4E2A\u5E8F\u5217\u52A8\u4F5C\uFF08Sequence\uFF09\u548C 5 \u4E2A\u666E\u901A\u52A8\u4F5C\uFF0C\u8FD9\u4E2A\u51FD\u6570\u5C06\u8FD4\u56DE 7\u3002<br/>\r\n     *\r\n     * @method getNumberOfRunningActionsInTarget\r\n     * @param {Node} target\r\n     * @return {Number}\r\n     */\r\n    getNumberOfRunningActionsInTarget (target: Node): number {\r\n        const element = this._hashTargets.get(target);\r\n        if (element) {\r\n            return (element.actions) ? element.actions.length as number : 0;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n    /**\r\n     * @en Pauses the target: all running actions and newly added actions will be paused.\r\n     * @zh \u6682\u505C\u6307\u5B9A\u5BF9\u8C61\uFF1A\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u52A8\u4F5C\u548C\u65B0\u6DFB\u52A0\u7684\u52A8\u4F5C\u90FD\u5C06\u4F1A\u6682\u505C\u3002\r\n     * @method pauseTarget\r\n     * @param {Node} target\r\n     */\r\n    pauseTarget (target: Node) {\r\n        const element = this._hashTargets.get(target);\r\n        if (element) element.paused = true;\r\n    }\r\n    /**\r\n     * @en Resumes the target. All queued actions will be resumed.\r\n     * @zh \u8BA9\u6307\u5B9A\u76EE\u6807\u6062\u590D\u8FD0\u884C\u3002\u5728\u6267\u884C\u5E8F\u5217\u4E2D\u6240\u6709\u88AB\u6682\u505C\u7684\u52A8\u4F5C\u5C06\u91CD\u65B0\u6062\u590D\u8FD0\u884C\u3002\r\n     * @method resumeTarget\r\n     * @param {Node} target\r\n     */\r\n    resumeTarget (target: Node) {\r\n        const element = this._hashTargets.get(target);\r\n        if (element) element.paused = false;\r\n    }\r\n\r\n    /**\r\n     * @en Pauses all running actions, returning a list of targets whose actions were paused.\r\n     * @zh \u6682\u505C\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u52A8\u4F5C\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u4E86\u90A3\u4E9B\u52A8\u4F5C\u88AB\u6682\u505C\u4E86\u7684\u76EE\u6807\u5BF9\u8C61\u7684\u5217\u8868\u3002\r\n     * @method pauseAllRunningActions\r\n     * @return {Array}  a list of targets whose actions were paused.\r\n     */\r\n    pauseAllRunningActions (): Array<any> {\r\n        const idsWithActions: Record<string, unknown>[] = [];\r\n        const locTargets = this._arrayTargets;\r\n        for (let i = 0; i < locTargets.length; i++) {\r\n            const element = locTargets[i];\r\n            if (element && !element.paused) {\r\n                element.paused = true;\r\n                idsWithActions.push(element.target!);\r\n            }\r\n        }\r\n        return idsWithActions;\r\n    }\r\n\r\n    /**\r\n     * @en Resume a set of targets (convenience function to reverse a pauseAllRunningActions or pauseTargets call).\r\n     * @zh \u8BA9\u4E00\u7EC4\u6307\u5B9A\u5BF9\u8C61\u6062\u590D\u8FD0\u884C\uFF08\u7528\u6765\u9006\u8F6C pauseAllRunningActions \u6548\u679C\u7684\u4FBF\u6377\u51FD\u6570\uFF09\u3002\r\n     * @method resumeTargets\r\n     * @param {Array} targetsToResume\r\n     */\r\n    resumeTargets (targetsToResume: Array<any>) {\r\n        if (!targetsToResume) return;\r\n\r\n        for (let i = 0; i < targetsToResume.length; i++) {\r\n            if (targetsToResume[i]) this.resumeTarget(targetsToResume[i]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en Pause a set of targets.\r\n     * @zh \u6682\u505C\u4E00\u7EC4\u6307\u5B9A\u5BF9\u8C61\u3002\r\n     * @method pauseTargets\r\n     * @param {Array} targetsToPause\r\n     */\r\n    pauseTargets (targetsToPause: Array<any>) {\r\n        if (!targetsToPause) return;\r\n\r\n        for (let i = 0; i < targetsToPause.length; i++) {\r\n            if (targetsToPause[i]) this.pauseTarget(targetsToPause[i]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * purges the shared action manager. It releases the retained instance. <br/>\r\n     * because it uses this, so it can not be static.\r\n     * @zh\r\n     * \u6E05\u9664\u5171\u7528\u7684\u52A8\u4F5C\u7BA1\u7406\u5668\u3002\u5B83\u91CA\u653E\u4E86\u6301\u6709\u7684\u5B9E\u4F8B\u3002 <br/>\r\n     * \u56E0\u4E3A\u5B83\u4F7F\u7528 this\uFF0C\u56E0\u6B64\u5B83\u4E0D\u80FD\u662F\u9759\u6001\u7684\u3002\r\n     * @method purgeSharedManager\r\n     */\r\n    purgeSharedManager () {\r\n        // legacyCC.director.getScheduler().unscheduleUpdate(this);\r\n    }\r\n\r\n    // protected\r\n    private _removeActionAtIndex (index, element) {\r\n        const action = element.actions[index];\r\n\r\n        element.actions.splice(index, 1);\r\n\r\n        // update actionIndex in case we are in tick. looping over the actions\r\n        if (element.actionIndex >= index) element.actionIndex--;\r\n\r\n        if (element.actions.length === 0) {\r\n            this._deleteHashElement(element);\r\n        }\r\n    }\r\n\r\n    private _deleteHashElement (element) {\r\n        let ret = false;\r\n        if (element && !element.lock) {\r\n            if (this._hashTargets.get(element.target)) {\r\n                this._hashTargets.delete(element.target);\r\n                const targets = this._arrayTargets;\r\n                for (let i = 0, l = targets.length; i < l; i++) {\r\n                    if (targets[i] === element) {\r\n                        targets.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                this._putElement(element);\r\n                ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * @en The ActionManager update\u3002\r\n     * @zh ActionManager \u4E3B\u5FAA\u73AF\u3002\r\n     * @method update\r\n     * @param {Number} dt delta time in seconds\r\n     */\r\n    update (dt: number) {\r\n        const locTargets = this._arrayTargets;\r\n        let locCurrTarget;\r\n        for (let elt = 0; elt < locTargets.length; elt++) {\r\n            this._currentTarget = locTargets[elt];\r\n            locCurrTarget = this._currentTarget;\r\n\r\n            const target = locCurrTarget.target;\r\n            // if (isCCObject(target) && !target.isValid) {\r\n            if (target instanceof Node && target.destroyed) {\r\n                this.removeAllActionsFromTarget(target);\r\n                elt--;\r\n                continue;\r\n            }\r\n\r\n            if (!locCurrTarget.paused && locCurrTarget.actions) {\r\n                locCurrTarget.lock = true;\r\n                // The 'actions' CCMutableArray may change while inside this loop.\r\n                for (locCurrTarget.actionIndex = 0; locCurrTarget.actionIndex < locCurrTarget.actions.length; locCurrTarget.actionIndex++) {\r\n                    locCurrTarget.currentAction = locCurrTarget.actions[locCurrTarget.actionIndex];\r\n                    if (!locCurrTarget.currentAction) continue;\r\n\r\n                    // use for speed\r\n                    locCurrTarget.currentAction.step(dt * (locCurrTarget.currentAction._speedMethod ? locCurrTarget.currentAction._speed : 1));\r\n\r\n                    if (locCurrTarget.currentAction && locCurrTarget.currentAction.isDone()) {\r\n                        locCurrTarget.currentAction.stop();\r\n                        const action = locCurrTarget.currentAction;\r\n                        // Make currentAction nil to prevent removeAction from salvaging it.\r\n                        locCurrTarget.currentAction = null;\r\n                        this.removeAction(action);\r\n                    }\r\n\r\n                    locCurrTarget.currentAction = null;\r\n                }\r\n                locCurrTarget.lock = false;\r\n            }\r\n            // only delete currentTarget if no actions were scheduled during the cycle (issue #481)\r\n            if (locCurrTarget.actions.length === 0) {\r\n                if (this._deleteHashElement(locCurrTarget)) {\r\n                    elt--;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n", "/*\r\n Copyright (c) 2020-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n https://www.cocos.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport { ActionManager } from './actions/action-manager';\r\n\r\n/**\r\n * @en\r\n * Tween system.\r\n * @zh\r\n * \u7F13\u52A8\u7CFB\u7EDF\u3002\r\n */\r\nexport class TweenSystem {\r\n    /**\r\n     * @en\r\n     * The ID flag of the system.\r\n     * @zh\r\n     * \u6B64\u7CFB\u7EDF\u7684 ID \u6807\u8BB0\u3002\r\n     */\r\n    static readonly ID = 'TWEEN';\r\n\r\n    /**\r\n     * @en\r\n     * Gets the instance of the tween system.\r\n     * @zh\r\n     * \u83B7\u53D6\u7F13\u52A8\u7CFB\u7EDF\u7684\u5B9E\u4F8B\u3002\r\n     */\r\n    static readonly instance: TweenSystem;\r\n\r\n    /**\r\n     * @en\r\n     * Gets the action manager.\r\n     * @zh\r\n     * \u83B7\u53D6\u52A8\u4F5C\u7BA1\u7406\u5668\u3002\r\n     */\r\n    get ActionManager() {\r\n        return this.actionMgr;\r\n    }\r\n\r\n    private readonly actionMgr = new ActionManager();\r\n\r\n    /**\r\n     * @en\r\n     * The update will auto execute after all components update.\r\n     * @zh\r\n     * \u6B64\u65B9\u6CD5\u4F1A\u5728\u7EC4\u4EF6 update \u4E4B\u540E\u81EA\u52A8\u6267\u884C\u3002\r\n     * @param dt @en The delta time @zh \u95F4\u9694\u65F6\u95F4\r\n     */\r\n    update(dt: number) {\r\n        // if (!EDITOR || cclegacy.GAME_VIEW || this._executeInEditMode) {\r\n        // }\r\n        this.actionMgr.update(dt);\r\n    }\r\n\r\n    static Init() {\r\n        const sys = new TweenSystem();\r\n        (TweenSystem.instance as any) = sys;\r\n        Laya.timer.frameLoop(1, this, () => {\r\n            TweenSystem.instance.update(Laya.timer.delta);\r\n        })\r\n        // director.registerSystem(TweenSystem.ID, sys, System.Priority.MEDIUM);\r\n    }\r\n}\r\n\r\n// director.on(Director.EVENT_INIT, () => {\r\n//     const sys = new TweenSystem();\r\n//     (TweenSystem.instance as any) = sys;\r\n//     director.registerSystem(TweenSystem.ID, sys, System.Priority.MEDIUM);\r\n// });\r\n", "/*\r\n Copyright (c) 2008-2010 Ricardo Quesada\r\n Copyright (c) 2011-2012 cocos2d-x.org\r\n Copyright (c) 2013-2016 Chukong Technologies Inc.\r\n Copyright (c) 2017-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n http://www.cocos2d-x.org\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\n// import { logID, errorID } from '../../core';\r\n// import { Node } from '../../scene-graph';\r\n\r\n/**\r\n * @en Base classAction for action classes.\r\n * @zh Action \u7C7B\u662F\u6240\u6709\u52A8\u4F5C\u7C7B\u578B\u7684\u57FA\u7C7B\u3002\r\n * @class Action\r\n */\r\nimport Node = Laya.Node;\r\nexport class Action {\r\n    /**\r\n     * @en Default Action tag.\r\n     * @zh \u9ED8\u8BA4\u52A8\u4F5C\u6807\u7B7E\u3002\r\n     * @constant\r\n     * @static\r\n     * @default -1\r\n     */\r\n    static TAG_INVALID = -1;\r\n\r\n    protected originalTarget: Node | null = null;\r\n    protected target: Node | null = null;\r\n    protected tag = Action.TAG_INVALID;\r\n\r\n    /**\r\n     * @en\r\n     * to copy object with deep copy.\r\n     * returns a clone of action.\r\n     * @zh \u8FD4\u56DE\u4E00\u4E2A\u514B\u9686\u7684\u52A8\u4F5C\u3002\r\n     * @method clone\r\n     * @return {Action}\r\n     */\r\n    clone (): Action {\r\n        const action = new Action();\r\n        action.originalTarget = null;\r\n        action.target = null;\r\n        action.tag = this.tag;\r\n        return action;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * return true if the action has finished.\r\n     * @zh \u5982\u679C\u52A8\u4F5C\u5DF2\u5B8C\u6210\u5C31\u8FD4\u56DE true\u3002\r\n     * @method isDone\r\n     * @return {Boolean}\r\n     */\r\n    isDone (): boolean {\r\n        return true;\r\n    }\r\n\r\n    // called before the action start. It will also set the target.\r\n    startWithTarget (target: any) {\r\n        this.originalTarget = target;\r\n        this.target = target;\r\n    }\r\n\r\n    // called after the action has finished. It will set the 'target' to nil.\r\n    stop () {\r\n        this.target = null;\r\n    }\r\n\r\n    // called every frame with it's delta time. <br />\r\n    step (dt: number) {\r\n        // logID(1006);\r\n    }\r\n\r\n    // Called once per frame. Time is the number of seconds of a frame interval.\r\n    update (dt: number) {\r\n        // logID(1007);\r\n    }\r\n\r\n    /**\r\n     * @en get the target.\r\n     * @zh \u83B7\u53D6\u5F53\u524D\u76EE\u6807\u8282\u70B9\u3002\r\n     * @method getTarget\r\n     * @return {object}\r\n     */\r\n    getTarget (): Node | null {\r\n        return this.target;\r\n    }\r\n\r\n    /**\r\n     * @en The action will modify the target properties.\r\n     * @zh \u8BBE\u7F6E\u76EE\u6807\u8282\u70B9\u3002\r\n     * @method setTarget\r\n     * @param {object} target\r\n     */\r\n    setTarget (target: Node) {\r\n        this.target = target;\r\n    }\r\n\r\n    /**\r\n     * @en get the original target.\r\n     * @zh \u83B7\u53D6\u539F\u59CB\u76EE\u6807\u8282\u70B9\u3002\r\n     * @method getOriginalTarget\r\n     * @return {object}\r\n     */\r\n    getOriginalTarget (): Node | null {\r\n        return this.originalTarget;\r\n    }\r\n\r\n    // Set the original target, since target can be nil.\r\n    // Is the target that were used to run the action.\r\n    // Unless you are doing something complex, like `ActionManager`, you should NOT call this method.\r\n    setOriginalTarget (originalTarget: any) {\r\n        this.originalTarget = originalTarget;\r\n    }\r\n\r\n    /**\r\n     * @en get tag number.\r\n     * @zh \u83B7\u53D6\u7528\u4E8E\u8BC6\u522B\u52A8\u4F5C\u7684\u6807\u7B7E\u3002\r\n     * @method getTag\r\n     * @return {Number}\r\n     */\r\n    getTag (): number {\r\n        return this.tag;\r\n    }\r\n\r\n    /**\r\n     * @en set tag number.\r\n     * @zh \u8BBE\u7F6E\u6807\u7B7E\uFF0C\u7528\u4E8E\u8BC6\u522B\u52A8\u4F5C\u3002\r\n     * @method setTag\r\n     * @param {Number} tag\r\n     */\r\n    setTag (tag: number) {\r\n        this.tag = tag;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Returns a reversed action. <br />\r\n     * For example: <br />\r\n     * - The action will be x coordinates of 0 move to 100. <br />\r\n     * - The reversed action will be x of 100 move to 0.\r\n     * - Will be rewritten\r\n     * @zh \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u52A8\u4F5C\uFF0C\u6267\u884C\u4E0E\u539F\u52A8\u4F5C\u5B8C\u5168\u76F8\u53CD\u7684\u52A8\u4F5C\u3002\r\n     * @method reverse\r\n     * @return {Action | null}\r\n     */\r\n    reverse (): Action | null {\r\n        // logID(1008);\r\n        return null;\r\n    }\r\n\r\n    // Currently JavaScript Bindigns (JSB), in some cases, needs to use retain and release. This is a bug in JSB,\r\n    // and the ugly workaround is to use retain/release. So, these 2 methods were added to be compatible with JSB.\r\n    // This is a hack, and should be removed once JSB fixes the retain/release bug.\r\n    retain () { }\r\n\r\n    // Currently JavaScript Bindigns (JSB), in some cases, needs to use retain and release. This is a bug in JSB,\r\n    // and the ugly workaround is to use retain/release. So, these 2 methods were added to be compatible with JSB.\r\n    // This is a hack, and should be removed once JSB fixes the retain/release bug.\r\n    release () { }\r\n}\r\n\r\n/**\r\n * @en\r\n * Base class actions that do have a finite time duration. <br/>\r\n * Possible actions: <br/>\r\n * - An action with a duration of 0 seconds. <br/>\r\n * - An action with a duration of 35.5 seconds.\r\n *\r\n * Infinite time actions are valid\r\n * @zh \u6709\u9650\u65F6\u95F4\u52A8\u4F5C\uFF0C\u8FD9\u79CD\u52A8\u4F5C\u62E5\u6709\u65F6\u957F duration \u5C5E\u6027\u3002\r\n * @class FiniteTimeAction\r\n * @extends Action\r\n */\r\nexport class FiniteTimeAction extends Action {\r\n    _duration = 0;\r\n    _timesForRepeat = 1;\r\n\r\n    /**\r\n     * @en get duration of the action. (seconds).\r\n     * @zh \u83B7\u53D6\u52A8\u4F5C\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684\u6301\u7EED\u65F6\u95F4\u3002\r\n     * @method getDuration\r\n     * @return {Number}\r\n     */\r\n    getDuration (): number {\r\n        return this._duration * (this._timesForRepeat || 1);\r\n    }\r\n\r\n    /**\r\n     * @en set duration of the action. (seconds).\r\n     * @zh \u8BBE\u7F6E\u52A8\u4F5C\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684\u6301\u7EED\u65F6\u95F4\u3002\r\n     * @method setDuration\r\n     * @param {Number} duration\r\n     */\r\n    setDuration (duration: number) {\r\n        this._duration = duration;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * to copy object with deep copy.\r\n     * returns a clone of action.\r\n     * @zh \u8FD4\u56DE\u4E00\u4E2A\u514B\u9686\u7684\u52A8\u4F5C\u3002\r\n     * @method clone\r\n     * @return {FiniteTimeAction}\r\n     */\r\n    clone (): FiniteTimeAction {\r\n        return new FiniteTimeAction();\r\n    }\r\n}\r\n\r\n/*\r\n * Changes the speed of an action, making it take longer (speed > 1)\r\n * or less (speed < 1) time. <br/>\r\n * Useful to simulate 'slow motion' or 'fast forward' effect.\r\n */\r\nexport class Speed extends Action {\r\n    protected _speed = 0;\r\n    protected _innerAction: Action | null = null;\r\n\r\n    /**\r\n     * @warning This action can't be `Sequence-able` because it is not an `IntervalAction`\r\n     */\r\n    constructor (action?: Action, speed = 1) {\r\n        super();\r\n        action && this.initWithAction(action, speed);\r\n    }\r\n\r\n    /*\r\n     * Gets the current running speed. <br />\r\n     * Will get a percentage number, compared to the original speed.\r\n     *\r\n     * @method getSpeed\r\n     * @return {Number}\r\n     */\r\n    getSpeed () {\r\n        return this._speed;\r\n    }\r\n\r\n    /*\r\n     * alter the speed of the inner function in runtime.\r\n     * @method setSpeed\r\n     * @param {Number} speed\r\n     */\r\n    setSpeed (speed: number) {\r\n        this._speed = speed;\r\n    }\r\n\r\n    /*\r\n     * initializes the action.\r\n     * @method initWithAction\r\n     * @param {ActionInterval} action\r\n     * @param {Number} speed\r\n     * @return {Boolean}\r\n     */\r\n    initWithAction (action: Action, speed: number) {\r\n        if (!action) {\r\n            // errorID(1021);\r\n            return false;\r\n        }\r\n\r\n        this._innerAction = action;\r\n        this._speed = speed;\r\n        return true;\r\n    }\r\n\r\n    clone () {\r\n        const action = new Speed();\r\n        action.initWithAction(this._innerAction!.clone(), this._speed);\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        Action.prototype.startWithTarget.call(this, target);\r\n        this._innerAction!.startWithTarget(target);\r\n    }\r\n\r\n    stop () {\r\n        this._innerAction!.stop();\r\n        Action.prototype.stop.call(this);\r\n    }\r\n\r\n    step (dt: number) {\r\n        this._innerAction!.step(dt * this._speed);\r\n    }\r\n\r\n    isDone () {\r\n        return this._innerAction!.isDone();\r\n    }\r\n\r\n    reverse () {\r\n        return new Speed(this._innerAction!.reverse()!, this._speed);\r\n    }\r\n\r\n    /*\r\n     * Set inner Action.\r\n     * @method setInnerAction\r\n     * @param {ActionInterval} action\r\n     */\r\n    setInnerAction (action: any) {\r\n        if (this._innerAction !== action) {\r\n            this._innerAction = action;\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Get inner Action.\r\n     * @method getInnerAction\r\n     * @return {ActionInterval}\r\n     */\r\n    getInnerAction () {\r\n        return this._innerAction;\r\n    }\r\n}\r\n", "/*\r\n Copyright (c) 2008-2010 Ricardo Quesada\r\n Copyright (c) 2011-2012 cocos2d-x.org\r\n Copyright (c) 2013-2016 Chukong Technologies Inc.\r\n Copyright (c) 2017-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n http://www.cocos2d-x.org\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n/* eslint-disable @typescript-eslint/ban-types */\r\n\r\nimport { FiniteTimeAction, Action } from './action';\r\n\r\n/**\r\n * @en Instant actions are immediate actions. They don't have a duration like the ActionInterval actions.\r\n * @zh \u5373\u65F6\u52A8\u4F5C\uFF0C\u8FD9\u79CD\u52A8\u4F5C\u7ACB\u5373\u5C31\u4F1A\u6267\u884C\uFF0C\u7EE7\u627F\u81EA FiniteTimeAction\u3002\r\n * @class ActionInstant\r\n * @extends FiniteTimeAction\r\n */\r\nexport class ActionInstant extends FiniteTimeAction {\r\n    isDone () {\r\n        return true;\r\n    }\r\n\r\n    step (dt: any) {\r\n        this.update(1);\r\n    }\r\n\r\n    update (dt: number) {\r\n        // nothing\r\n    }\r\n\r\n    /**\r\n     * returns a reversed action. <br />\r\n     * For example: <br />\r\n     * - The action is x coordinates of 0 move to 100. <br />\r\n     * - The reversed action will be x of 100 move to 0.\r\n     * @returns {Action}\r\n     */\r\n    reverse (): Action {\r\n        return this.clone();\r\n    }\r\n\r\n    clone () {\r\n        return new ActionInstant();\r\n    }\r\n}\r\n\r\n/*\r\n * Show the node.\r\n * @class Show\r\n * @extends ActionInstant\r\n */\r\nexport class Show extends ActionInstant {\r\n    update (dt: any) {\r\n        // const _renderComps = this.target!.getComponentsInChildren(Renderer);\r\n        // for (let i = 0; i < _renderComps.length; ++i) {\r\n        //     const render = _renderComps[i];\r\n        //     render.enabled = true;\r\n        // }\r\n    }\r\n\r\n    reverse () {\r\n        return new Hide();\r\n    }\r\n\r\n    clone () {\r\n        return new Show();\r\n    }\r\n}\r\n\r\n/**\r\n * @en Show the Node.\r\n * @zh \u7ACB\u5373\u663E\u793A\u3002\r\n * @method show\r\n * @return {ActionInstant}\r\n * @example\r\n * // example\r\n * var showAction = show();\r\n */\r\nexport function show (): ActionInstant {\r\n    return new Show();\r\n}\r\n\r\n/*\r\n * Hide the node.\r\n * @class Hide\r\n * @extends ActionInstant\r\n */\r\nexport class Hide extends ActionInstant {\r\n    update (dt: any) {\r\n        // const _renderComps = this.target!.getComponentsInChildren(Renderer);\r\n        // for (let i = 0; i < _renderComps.length; ++i) {\r\n        //     const render = _renderComps[i];\r\n        //     render.enabled = false;\r\n        // }\r\n    }\r\n\r\n    reverse () {\r\n        return new Show();\r\n    }\r\n\r\n    clone () {\r\n        return new Hide();\r\n    }\r\n}\r\n\r\n/**\r\n * @en Hide the node.\r\n * @zh \u7ACB\u5373\u9690\u85CF\u3002\r\n * @method hide\r\n * @return {ActionInstant}\r\n * @example\r\n * // example\r\n * var hideAction = hide();\r\n */\r\nexport function hide (): ActionInstant {\r\n    return new Hide();\r\n}\r\n\r\n/*\r\n * Toggles the visibility of a node.\r\n * @class ToggleVisibility\r\n * @extends ActionInstant\r\n */\r\nexport class ToggleVisibility extends ActionInstant {\r\n    update (dt: any) {\r\n        // const _renderComps = this.target!.getComponentsInChildren(Renderer);\r\n        // for (let i = 0; i < _renderComps.length; ++i) {\r\n        //     const render = _renderComps[i];\r\n        //     render.enabled = !render.enabled;\r\n        // }\r\n    }\r\n\r\n    reverse () {\r\n        return new ToggleVisibility();\r\n    }\r\n\r\n    clone () {\r\n        return new ToggleVisibility();\r\n    }\r\n}\r\n\r\n/**\r\n * @en Toggles the visibility of a node.\r\n * @zh \u663E\u9690\u72B6\u6001\u5207\u6362\u3002\r\n * @method toggleVisibility\r\n * @return {ActionInstant}\r\n * @example\r\n * // example\r\n * var toggleVisibilityAction = toggleVisibility();\r\n */\r\nexport function toggleVisibility (): ActionInstant {\r\n    return new ToggleVisibility();\r\n}\r\n\r\n/*\r\n * Delete self in the next frame.\r\n * @class RemoveSelf\r\n * @extends ActionInstant\r\n * @param {Boolean} [isNeedCleanUp=true]\r\n *\r\n * @example\r\n * // example\r\n * var removeSelfAction = new RemoveSelf(false);\r\n */\r\nexport class RemoveSelf extends ActionInstant {\r\n    protected _isNeedCleanUp = true;\r\n\r\n    constructor (isNeedCleanUp?: boolean) {\r\n        super();\r\n        isNeedCleanUp !== undefined && this.init(isNeedCleanUp);\r\n    }\r\n\r\n    update (dt: any) {\r\n        this.target!.removeSelf();\r\n        if (this._isNeedCleanUp) {\r\n            this.target!.destroy();\r\n        }\r\n    }\r\n\r\n    init (isNeedCleanUp: any) {\r\n        this._isNeedCleanUp = isNeedCleanUp;\r\n        return true;\r\n    }\r\n\r\n    reverse () {\r\n        return new RemoveSelf(this._isNeedCleanUp);\r\n    }\r\n\r\n    clone () {\r\n        return new RemoveSelf(this._isNeedCleanUp);\r\n    }\r\n}\r\n\r\n/**\r\n * @en Create a RemoveSelf object with a flag indicate whether the target should be cleaned up while removing.\r\n * @zh \u4ECE\u7236\u8282\u70B9\u79FB\u9664\u81EA\u8EAB\u3002\r\n * @method removeSelf\r\n * @param {Boolean} [isNeedCleanUp = true]\r\n * @return {ActionInstant}\r\n *\r\n * @example\r\n * // example\r\n * var removeSelfAction = removeSelf();\r\n */\r\nexport function removeSelf (isNeedCleanUp: boolean): ActionInstant {\r\n    return new RemoveSelf(isNeedCleanUp);\r\n}\r\n\r\n/*\r\n * Calls a 'callback'.\r\n * @class CallFunc\r\n * @extends ActionInstant\r\n * @param {function} selector\r\n * @param {object} [selectorTarget=null]\r\n * @param {*} [data=null] data for function, it accepts all data types.\r\n * @example\r\n * // example\r\n * // CallFunc without data\r\n * var finish = new CallFunc(this.removeSprite, this);\r\n *\r\n * // CallFunc with data\r\n * var finish = new CallFunc(this.removeFromParentAndCleanup, this,  true);\r\n */\r\nexport class CallFunc extends ActionInstant {\r\n    private _selectorTarget = null;\r\n    private _function: Function | null = null;\r\n    private _data = null;\r\n\r\n    /*\r\n     * Constructor function, override it to extend the construction behavior, remember to call \"this._super()\" in the extended \"ctor\" function. <br />\r\n     * Creates a CallFunc action with the callback.\r\n     * @param {function} selector\r\n     * @param {object} [selectorTarget=null]\r\n     * @param {*} [data=null] data for function, it accepts all data types.\r\n     */\r\n    constructor (selector?: Function, selectorTarget?: any, data?: any) {\r\n        super();\r\n        this.initWithFunction(selector, selectorTarget, data);\r\n    }\r\n\r\n    /*\r\n     * Initializes the action with a function or function and its target\r\n     * @param {function} selector\r\n     * @param {object|Null} selectorTarget\r\n     * @param {*|Null} [data] data for function, it accepts all data types.\r\n     * @return {Boolean}\r\n     */\r\n    initWithFunction (selector: any, selectorTarget?: any, data?: any) {\r\n        if (selector) {\r\n            this._function = selector;\r\n        }\r\n        if (selectorTarget) {\r\n            this._selectorTarget = selectorTarget;\r\n        }\r\n        if (data !== undefined) {\r\n            this._data = data;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /*\r\n     * execute the function.\r\n     */\r\n    execute () {\r\n        if (this._function) {\r\n            this._function.call(this._selectorTarget, this.target, this._data);\r\n        }\r\n    }\r\n\r\n    update (dt: any) {\r\n        this.execute();\r\n    }\r\n\r\n    /*\r\n     * Get selectorTarget.\r\n     * @return {object}\r\n     */\r\n    getTargetCallback () {\r\n        return this._selectorTarget;\r\n    }\r\n\r\n    /*\r\n     * Set selectorTarget.\r\n     * @param {object} sel\r\n     */\r\n    setTargetCallback (sel: any) {\r\n        if (sel !== this._selectorTarget) {\r\n            if (this._selectorTarget) { this._selectorTarget = null; }\r\n            this._selectorTarget = sel;\r\n        }\r\n    }\r\n\r\n    clone () {\r\n        const action = new CallFunc();\r\n        action.initWithFunction(this._function, this._selectorTarget, this._data);\r\n        return action;\r\n    }\r\n}\r\n\r\n/**\r\n * @en Creates the action with the callback.\r\n * @zh \u6267\u884C\u56DE\u8C03\u51FD\u6570\u3002\r\n * @method callFunc\r\n * @param {function} selector\r\n * @param {object} [selectorTarget=null]\r\n * @param {*} [data=null] - data for function, it accepts all data types.\r\n * @return {ActionInstant}\r\n * @example\r\n * // example\r\n * // CallFunc without data\r\n * var finish = callFunc(this.removeSprite, this);\r\n *\r\n * // CallFunc with data\r\n * var finish = callFunc(this.removeFromParentAndCleanup, this._grossini,  true);\r\n */\r\nexport function callFunc (selector: Function, selectorTarget?: any, data?: any): ActionInstant {\r\n    return new CallFunc(selector, selectorTarget, data);\r\n}\r\n", "/*\r\n Copyright (c) 2008-2010 Ricardo Quesada\r\n Copyright (c) 2011-2012 cocos2d-x.org\r\n Copyright (c) 2013-2016 Chukong Technologies Inc.\r\n Copyright (c) 2017-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n http://www.cocos2d-x.org\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport { FiniteTimeAction, Action } from './action';\r\nimport { ActionInstant } from './action-instant';\r\n\r\n/**\r\n * @en\r\n * <p> An interval action is an action that takes place within a certain period of time. <br/>\r\n * It has an start time, and a finish time. The finish time is the parameter<br/>\r\n * duration plus the start time.</p>\r\n *\r\n * <p>These CCActionInterval actions have some interesting properties, like:<br/>\r\n * - They can run normally (default)  <br/>\r\n * - They can run reversed with the reverse method   <br/>\r\n * - They can run with the time altered with the Accelerate, AccelDeccel and Speed actions. </p>\r\n *\r\n * <p>For example, you can simulate a Ping Pong effect running the action normally and<br/>\r\n * then running it again in Reverse mode. </p>\r\n * @zh \u65F6\u95F4\u95F4\u9694\u52A8\u4F5C\uFF0C\u8FD9\u79CD\u52A8\u4F5C\u5728\u5DF2\u5B9A\u65F6\u95F4\u5185\u5B8C\u6210\uFF0C\u7EE7\u627F FiniteTimeAction\u3002\r\n * @class ActionInterval\r\n * @extends FiniteTimeAction\r\n * @param {Number} d duration in seconds\r\n */\r\nexport class ActionInterval extends FiniteTimeAction {\r\n    protected MAX_VALUE = 2;\r\n    protected _elapsed = 0;\r\n    protected _firstTick = false;\r\n    protected _easeList: Function[] = [];\r\n    protected _speed = 1;\r\n    protected _repeatForever = false;\r\n    _repeatMethod = false; // Compatible with repeat class, Discard after can be deleted\r\n    protected _speedMethod = false; // Compatible with repeat class, Discard after can be deleted\r\n\r\n    constructor (d?: number) {\r\n        super();\r\n        if (d !== undefined && !isNaN(d)) {\r\n            this.initWithDuration(d);\r\n        }\r\n    }\r\n\r\n    /*\r\n     * How many seconds had elapsed since the actions started to run.\r\n     * @return {Number}\r\n     */\r\n    getElapsed () {\r\n        return this._elapsed;\r\n    }\r\n\r\n    /*\r\n     * Initializes the action.\r\n     * @param {Number} d duration in seconds\r\n     * @return {Boolean}\r\n     */\r\n    initWithDuration (d: number) {\r\n        this._duration = (d === 0) ? 0.1 : d;\r\n        // prevent division by 0\r\n        // This comparison could be in step:, but it might decrease the performance\r\n        // by 3% in heavy based action games.\r\n        this._elapsed = 0;\r\n        this._firstTick = true;\r\n        return true;\r\n    }\r\n\r\n    isDone () {\r\n        return (this._elapsed >= this._duration);\r\n    }\r\n\r\n    _cloneDecoration (action: ActionInterval) {\r\n        action._repeatForever = this._repeatForever;\r\n        action._speed = this._speed;\r\n        action._timesForRepeat = this._timesForRepeat;\r\n        action._easeList = this._easeList;\r\n        action._speedMethod = this._speedMethod;\r\n        action._repeatMethod = this._repeatMethod;\r\n    }\r\n\r\n    _reverseEaseList (action: ActionInterval) {\r\n        if (this._easeList) {\r\n            action._easeList = [];\r\n            for (let i = 0; i < this._easeList.length; i++) {\r\n                action._easeList.push(this._easeList[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    clone () {\r\n        const action = new ActionInterval(this._duration);\r\n        this._cloneDecoration(action);\r\n        return action;\r\n    }\r\n\r\n    /**\r\n     * @en Implementation of ease motion.\r\n     * @zh \u7F13\u52A8\u8FD0\u52A8\u3002\r\n     * @method easing\r\n     * @param {Object} easeObj\r\n     * @returns {ActionInterval}\r\n     * @example\r\n     * import { easeIn } from 'cc';\r\n     * action.easing(easeIn(3.0));\r\n     */\r\n    easing (easeObj: any): ActionInterval {\r\n        if (this._easeList) this._easeList.length = 0;\r\n        else this._easeList = [];\r\n        for (let i = 0; i < arguments.length; i++) this._easeList.push(arguments[i]);\r\n        return this;\r\n    }\r\n\r\n    _computeEaseTime (dt: any) {\r\n        // var locList = this._easeList;\r\n        // if ((!locList) || (locList.length === 0))\r\n        //     return dt;\r\n        // for (var i = 0, n = locList.length; i < n; i++)\r\n        //     dt = locList[i].easing(dt);\r\n        return dt;\r\n    }\r\n\r\n    step (dt: number) {\r\n        if (this._firstTick) {\r\n            this._firstTick = false;\r\n            this._elapsed = 0;\r\n        } else this._elapsed += dt;\r\n\r\n        // this.update((1 > (this._elapsed / this._duration)) ? this._elapsed / this._duration : 1);\r\n        // this.update(Math.max(0, Math.min(1, this._elapsed / Math.max(this._duration, cc.macro.FLT_EPSILON))));\r\n        let t = this._elapsed / (this._duration > 0.0000001192092896 ? this._duration : 0.0000001192092896);\r\n        t = (t < 1 ? t : 1);\r\n        this.update(t > 0 ? t : 0);\r\n\r\n        // Compatible with repeat class, Discard after can be deleted (this._repeatMethod)\r\n        if (this._repeatMethod && this._timesForRepeat > 1 && this.isDone()) {\r\n            if (!this._repeatForever) {\r\n                this._timesForRepeat--;\r\n            }\r\n            // var diff = locInnerAction.getElapsed() - locInnerAction._duration;\r\n            this.startWithTarget(this.target);\r\n            // to prevent jerk. issue #390 ,1247\r\n            // this._innerAction.step(0);\r\n            // this._innerAction.step(diff);\r\n            this.step(this._elapsed - this._duration);\r\n        }\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        Action.prototype.startWithTarget.call(this, target);\r\n        this._elapsed = 0;\r\n        this._firstTick = true;\r\n    }\r\n\r\n    reverse () {\r\n        //logID(1010);\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     * Set amplitude rate.\r\n     * @warning It should be overridden in subclass.\r\n     * @param {Number} amp\r\n     */\r\n    setAmplitudeRate (amp: any) {\r\n        // Abstract class needs implementation\r\n        //logID(1011);\r\n    }\r\n\r\n    /*\r\n     * Get amplitude rate.\r\n     * @warning It should be overridden in subclass.\r\n     * @return {Number} 0\r\n     */\r\n    getAmplitudeRate () {\r\n        // Abstract class needs implementation\r\n        //logID(1012);\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Changes the speed of an action, making it take longer (speed>1)\r\n     * or less (speed<1) time. <br/>\r\n     * Useful to simulate 'slow motion' or 'fast forward' effect.\r\n     * @zh\r\n     * \u6539\u53D8\u4E00\u4E2A\u52A8\u4F5C\u7684\u901F\u5EA6\uFF0C\u4F7F\u5B83\u7684\u6267\u884C\u4F7F\u7528\u66F4\u957F\u7684\u65F6\u95F4\uFF08speed > 1\uFF09<br/>\r\n     * \u6216\u66F4\u5C11\uFF08speed < 1\uFF09\u53EF\u4EE5\u6709\u6548\u5F97\u6A21\u62DF\u201C\u6162\u52A8\u4F5C\u201D\u6216\u201C\u5FEB\u8FDB\u201D\u7684\u6548\u679C\u3002\r\n     * @param {Number} speed\r\n     * @returns {Action}\r\n     */\r\n    speed (speed: number): Action {\r\n        if (speed <= 0) {\r\n            //logID(1013);\r\n            return this;\r\n        }\r\n\r\n        this._speedMethod = true; // Compatible with repeat class, Discard after can be deleted\r\n        this._speed *= speed;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Get this action speed.\r\n     * @zh\r\n     * \u8FD4\u56DE\u6B64\u52A8\u4F5C\u901F\u5EA6\r\n     * @return {Number}\r\n     */\r\n    getSpeed (): number {\r\n        return this._speed;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Set this action speed.\r\n     * @zh\r\n     * \u8BBE\u7F6E\u6B64\u52A8\u4F5C\u901F\u5EA6\r\n     * @param {Number} speed\r\n     * @returns {ActionInterval}\r\n     */\r\n    setSpeed (speed: number): ActionInterval {\r\n        this._speed = speed;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Repeats an action a number of times.\r\n     * To repeat an action forever use the CCRepeatForever action.\r\n     * @zh \u91CD\u590D\u52A8\u4F5C\u53EF\u4EE5\u6309\u4E00\u5B9A\u6B21\u6570\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u4F7F\u7528 RepeatForever \u52A8\u4F5C\u6765\u6C38\u8FDC\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\u3002\r\n     * @method repeat\r\n     * @param {Number} times\r\n     * @returns {ActionInterval}\r\n     */\r\n    repeat (times: number): ActionInterval {\r\n        times = Math.round(times);\r\n        if (isNaN(times) || times < 1) {\r\n            //logID(1014);\r\n            return this;\r\n        }\r\n        this._repeatMethod = true; // Compatible with repeat class, Discard after can be deleted\r\n        this._timesForRepeat *= times;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Repeats an action for ever.  <br/>\r\n     * To repeat the an action for a limited number of times use the Repeat action. <br/>\r\n     * @zh \u6C38\u8FDC\u5730\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u6709\u9650\u6B21\u6570\u5185\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\u8BF7\u4F7F\u7528 Repeat \u52A8\u4F5C\u3002\r\n     * @method repeatForever\r\n     * @returns {ActionInterval}\r\n     */\r\n    repeatForever (): ActionInterval {\r\n        this._repeatMethod = true; // Compatible with repeat class, Discard after can be deleted\r\n        this._timesForRepeat = this.MAX_VALUE;\r\n        this._repeatForever = true;\r\n        return this;\r\n    }\r\n}\r\n\r\n/*\r\n * Runs actions sequentially, one after another.\r\n */\r\nexport class Sequence extends ActionInterval {\r\n    static _actionOneTwo = function (actionOne: ActionInterval, actionTwo: ActionInterval) {\r\n        const sequence = new Sequence();\r\n        sequence.initWithTwoActions(actionOne, actionTwo);\r\n        return sequence;\r\n    }\r\n\r\n    private _actions: ActionInterval[] = [];\r\n    private _split = 0;\r\n    private _last = 0;\r\n    private _reversed = false;\r\n\r\n    /**\r\n     * @example\r\n     * import { Sequence } from 'cc';\r\n     *\r\n     * // create sequence with actions\r\n     * const seq = new Sequence(act1, act2);\r\n     *\r\n     * // create sequence with array\r\n     * const seq = new Sequence(actArray);\r\n     */\r\n    constructor (...actions: FiniteTimeAction[]);\r\n    constructor (tempArray: any) {\r\n        super();\r\n\r\n        const paramArray = (tempArray instanceof Array) ? tempArray : arguments;\r\n        if (paramArray.length === 1) {\r\n            //errorID(1019);\r\n            return;\r\n        }\r\n        const last = paramArray.length - 1;\r\n        if ((last >= 0) && (paramArray[last] == null)) //logID(1015);\r\n\r\n        if (last >= 0) {\r\n            let prev = paramArray[0]; let action1: any;\r\n            for (let i = 1; i < last; i++) {\r\n                if (paramArray[i]) {\r\n                    action1 = prev;\r\n                    prev = Sequence._actionOneTwo(action1, paramArray[i]);\r\n                }\r\n            }\r\n            this.initWithTwoActions(prev, paramArray[last]);\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Initializes the action <br/>\r\n     * @param {FiniteTimeAction} actionOne\r\n     * @param {FiniteTimeAction} actionTwo\r\n     * @return {Boolean}\r\n     */\r\n    initWithTwoActions (actionOne: any, actionTwo: any) {\r\n        if (!actionOne || !actionTwo) {\r\n            //errorID(1025);\r\n            return false;\r\n        }\r\n\r\n        let durationOne = actionOne._duration; let durationTwo = actionTwo._duration;\r\n        durationOne *= actionOne._repeatMethod ? actionOne._timesForRepeat : 1;\r\n        durationTwo *= actionTwo._repeatMethod ? actionTwo._timesForRepeat : 1;\r\n        const d = durationOne + durationTwo;\r\n        this.initWithDuration(d);\r\n\r\n        this._actions[0] = actionOne;\r\n        this._actions[1] = actionTwo;\r\n        return true;\r\n    }\r\n\r\n    clone () {\r\n        const action = new Sequence();\r\n        this._cloneDecoration(action as any);\r\n        action.initWithTwoActions(this._actions[0].clone(), this._actions[1].clone());\r\n        return action as any;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n        this._split = this._actions[0]._duration / this._duration;\r\n        this._split *= this._actions[0]._repeatMethod ? this._actions[0]._timesForRepeat : 1;\r\n        this._last = -1;\r\n    }\r\n\r\n    stop () {\r\n        // Issue #1305\r\n        if (this._last !== -1) this._actions[this._last].stop();\r\n        Action.prototype.stop.call(this);\r\n    }\r\n\r\n    update (dt: number) {\r\n        let new_t: number; let found = 0;\r\n        const locSplit = this._split;\r\n        const locActions = this._actions;\r\n        const locLast = this._last;\r\n        let actionFound: ActionInterval;\r\n\r\n        dt = this._computeEaseTime(dt);\r\n        if (dt < locSplit) {\r\n            // action[0]\r\n            new_t = (locSplit !== 0) ? dt / locSplit : 1;\r\n\r\n            if (found === 0 && locLast === 1 && this._reversed) {\r\n                // Reverse mode ?\r\n                // XXX: Bug. this case doesn't contemplate when _last==-1, found=0 and in \"reverse mode\"\r\n                // since it will require a hack to know if an action is on reverse mode or not.\r\n                // \"step\" should be overriden, and the \"reverseMode\" value propagated to inner Sequences.\r\n                locActions[1].update(0);\r\n                locActions[1].stop();\r\n            }\r\n        } else {\r\n            // action[1]\r\n            found = 1;\r\n            new_t = (locSplit === 1) ? 1 : (dt - locSplit) / (1 - locSplit);\r\n\r\n            if (locLast === -1) {\r\n                // action[0] was skipped, execute it.\r\n                locActions[0].startWithTarget(this.target);\r\n                locActions[0].update(1);\r\n                locActions[0].stop();\r\n            }\r\n            if (locLast === 0) {\r\n                // switching to action 1. stop action 0.\r\n                locActions[0].update(1);\r\n                locActions[0].stop();\r\n            }\r\n        }\r\n\r\n        actionFound = locActions[found];\r\n        // Last action found and it is done.\r\n        if (locLast === found && actionFound.isDone()) return;\r\n\r\n        // Last action not found\r\n        if (locLast !== found) actionFound.startWithTarget(this.target);\r\n\r\n        new_t *= actionFound._timesForRepeat;\r\n        actionFound.update(new_t > 1 ? new_t % 1 : new_t);\r\n        this._last = found;\r\n    }\r\n\r\n    reverse () {\r\n        const action = Sequence._actionOneTwo(this._actions[1].reverse(), this._actions[0].reverse());\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        action._reversed = true;\r\n        return action as any;\r\n    }\r\n}\r\n\r\n/**\r\n * @en\r\n * Helper constructor to create an array of sequenceable actions\r\n * The created action will run actions sequentially, one after another.\r\n * @zh \u987A\u5E8F\u6267\u884C\u52A8\u4F5C\uFF0C\u521B\u5EFA\u7684\u52A8\u4F5C\u5C06\u6309\u987A\u5E8F\u4F9D\u6B21\u8FD0\u884C\u3002\r\n * @method sequence\r\n * @param {FiniteTimeAction|FiniteTimeAction[]} actionOrActionArray\r\n * @param {FiniteTimeAction} ...tempArray\r\n * @return {ActionInterval}\r\n * @example\r\n * import { sequence } from 'cc';\r\n *\r\n * // Create sequence with actions\r\n * const seq = sequence(act1, act2);\r\n *\r\n * // Create sequence with array\r\n * const seq = sequence(actArray);\r\n */\r\n// todo: It should be use new\r\nexport function sequence (/* Multiple Arguments */tempArray: any): ActionInterval {\r\n    const paramArray = (tempArray instanceof Array) ? tempArray : arguments;\r\n    if (paramArray.length === 1) {\r\n        //errorID(1019);\r\n        return null as any;\r\n    }\r\n    const last = paramArray.length - 1;\r\n    if ((last >= 0) && (paramArray[last] == null)) //logID(1015);\r\n\r\n    var result: any = null;\r\n    if (last >= 0) {\r\n        result = paramArray[0];\r\n        for (let i = 1; i <= last; i++) {\r\n            if (paramArray[i]) {\r\n                result = Sequence._actionOneTwo(result, paramArray[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/*\r\n * Repeats an action a number of times.\r\n * To repeat an action forever use the CCRepeatForever action.\r\n * @class Repeat\r\n * @extends ActionInterval\r\n * @param {FiniteTimeAction} action\r\n * @param {Number} times\r\n * @example\r\n * import { Repeat, sequence } from 'cc';\r\n * const rep = new Repeat(sequence(jump2, jump1), 5);\r\n */\r\nexport class Repeat extends ActionInterval {\r\n    private _times = 0;\r\n    private _total = 0;\r\n    private _nextDt = 0;\r\n    private _actionInstant = false;\r\n    private _innerAction: FiniteTimeAction | null = null;\r\n\r\n    constructor (action?: any, times?: any) {\r\n        super();\r\n        times !== undefined && this.initWithAction(action, times);\r\n    }\r\n\r\n    /*\r\n     * @param {FiniteTimeAction} action\r\n     * @param {Number} times\r\n     * @return {Boolean}\r\n     */\r\n    initWithAction (action: FiniteTimeAction, times: number) {\r\n        const duration = action._duration * times;\r\n\r\n        if (this.initWithDuration(duration)) {\r\n            this._times = times;\r\n            this._innerAction = action;\r\n            if (action instanceof ActionInstant) {\r\n                this._actionInstant = true;\r\n                this._times -= 1;\r\n            }\r\n            this._total = 0;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    clone () {\r\n        const action = new Repeat();\r\n        this._cloneDecoration(action);\r\n        action.initWithAction(this._innerAction!.clone(), this._times);\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        this._total = 0;\r\n        this._nextDt = this._innerAction!._duration / this._duration;\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n        this._innerAction!.startWithTarget(target);\r\n    }\r\n\r\n    stop () {\r\n        this._innerAction!.stop();\r\n        Action.prototype.stop.call(this);\r\n    }\r\n\r\n    update (dt: number) {\r\n        dt = this._computeEaseTime(dt);\r\n        const locInnerAction = this._innerAction!;\r\n        const locDuration = this._duration;\r\n        const locTimes = this._times;\r\n        let locNextDt = this._nextDt;\r\n\r\n        if (dt >= locNextDt) {\r\n            while (dt > locNextDt && this._total < locTimes) {\r\n                locInnerAction.update(1);\r\n                this._total++;\r\n                locInnerAction.stop();\r\n                locInnerAction.startWithTarget(this.target);\r\n                locNextDt += locInnerAction._duration / locDuration;\r\n                this._nextDt = locNextDt > 1 ? 1 : locNextDt;\r\n            }\r\n\r\n            // fix for issue #1288, incorrect end value of repeat\r\n            if (dt >= 1.0 && this._total < locTimes) {\r\n                // fix for cocos-creator/fireball/issues/4310\r\n                locInnerAction.update(1);\r\n                this._total++;\r\n            }\r\n\r\n            // don't set a instant action back or update it, it has no use because it has no duration\r\n            if (!this._actionInstant) {\r\n                if (this._total === locTimes) {\r\n                    locInnerAction.stop();\r\n                } else {\r\n                    // issue #390 prevent jerk, use right update\r\n                    locInnerAction.update(dt - (locNextDt - locInnerAction._duration / locDuration));\r\n                }\r\n            }\r\n        } else {\r\n            locInnerAction.update((dt * locTimes) % 1.0);\r\n        }\r\n    }\r\n\r\n    isDone () {\r\n        return this._total === this._times;\r\n    }\r\n\r\n    reverse () {\r\n        const action = new Repeat(this._innerAction!.reverse(), this._times);\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action as any;\r\n    }\r\n\r\n    /*\r\n     * Set inner Action.\r\n     * @param {FiniteTimeAction} action\r\n     */\r\n    setInnerAction (action: any) {\r\n        if (this._innerAction !== action) {\r\n            this._innerAction = action;\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Get inner Action.\r\n     * @return {FiniteTimeAction}\r\n     */\r\n    getInnerAction () {\r\n        return this._innerAction;\r\n    }\r\n}\r\n\r\n/**\r\n * @en Creates a Repeat action. Times is an unsigned integer between 1 and pow(2,30)\r\n * @zh \u91CD\u590D\u52A8\u4F5C\uFF0C\u53EF\u4EE5\u6309\u4E00\u5B9A\u6B21\u6570\u91CD\u590D\u4E00\u4E2A\u52A8\uFF0C\u5982\u679C\u60F3\u6C38\u8FDC\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\u8BF7\u4F7F\u7528 repeatForever \u52A8\u4F5C\u6765\u5B8C\u6210\u3002\r\n * @method repeat\r\n * @param {FiniteTimeAction} action\r\n * @param {Number} times\r\n * @return {Action}\r\n * @example\r\n * import { repeat, sequence } from 'cc';\r\n * const rep = repeat(sequence(jump2, jump1), 5);\r\n */\r\nexport function repeat (action: any, times: any): Action {\r\n    return new Repeat(action, times);\r\n}\r\n\r\n/*\r\n * Repeats an action for ever.  <br/>\r\n * To repeat the an action for a limited number of times use the Repeat action. <br/>\r\n * @warning This action can't be Sequenceable because it is not an IntervalAction\r\n * @class RepeatForever\r\n * @extends ActionInterval\r\n * @param {ActionInterval} action\r\n * @example\r\n * import { sequence, RepeatForever } from 'cc';\r\n * const rep = new RepeatForever(sequence(jump2, jump1), 5);\r\n */\r\nexport class RepeatForever extends ActionInterval {\r\n    private _innerAction: ActionInterval | null = null;\r\n\r\n    constructor (action?: ActionInterval) {\r\n        super();\r\n        action && this.initWithAction(action);\r\n    }\r\n\r\n    /*\r\n     * @param {ActionInterval} action\r\n     * @return {Boolean}\r\n     */\r\n    initWithAction (action: ActionInterval) {\r\n        if (!action) {\r\n            //errorID(1026);\r\n            return false;\r\n        }\r\n\r\n        this._innerAction = action;\r\n        return true;\r\n    }\r\n\r\n    clone () {\r\n        const action = new RepeatForever();\r\n        this._cloneDecoration(action);\r\n        action.initWithAction(this._innerAction!.clone());\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n        this._innerAction!.startWithTarget(target);\r\n    }\r\n\r\n    step (dt: any) {\r\n        const locInnerAction = this._innerAction!;\r\n        locInnerAction.step(dt);\r\n        if (locInnerAction.isDone()) {\r\n            // var diff = locInnerAction.getElapsed() - locInnerAction._duration;\r\n            locInnerAction.startWithTarget(this.target);\r\n            // to prevent jerk. issue #390 ,1247\r\n            // this._innerAction.step(0);\r\n            // this._innerAction.step(diff);\r\n            locInnerAction.step(locInnerAction.getElapsed() - locInnerAction._duration);\r\n        }\r\n    }\r\n\r\n    isDone () {\r\n        return false;\r\n    }\r\n\r\n    reverse () {\r\n        const action = new RepeatForever(this._innerAction!.reverse());\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action as any;\r\n    }\r\n\r\n    /*\r\n     * Set inner action.\r\n     * @param {ActionInterval} action\r\n     */\r\n    setInnerAction (action: any) {\r\n        if (this._innerAction !== action) {\r\n            this._innerAction = action;\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Get inner action.\r\n     * @return {ActionInterval}\r\n     */\r\n    getInnerAction () {\r\n        return this._innerAction;\r\n    }\r\n}\r\n\r\n/**\r\n * @en Create a acton which repeat forever, as it runs forever, it can't be added into `sequence` and `spawn`.\r\n * @zh \u6C38\u8FDC\u5730\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u6709\u9650\u6B21\u6570\u5185\u91CD\u590D\u4E00\u4E2A\u52A8\u4F5C\u8BF7\u4F7F\u7528 repeat \u52A8\u4F5C\uFF0C\u7531\u4E8E\u8FD9\u4E2A\u52A8\u4F5C\u4E0D\u4F1A\u505C\u6B62\uFF0C\u6240\u4EE5\u4E0D\u80FD\u88AB\u6DFB\u52A0\u5230 `sequence` \u6216 `spawn` \u4E2D\u3002\r\n * @method repeatForever\r\n * @param {FiniteTimeAction} action\r\n * @return {ActionInterval}\r\n * @example\r\n * import { repeatForever, rotateBy } from 'cc';\r\n * var repeat = repeatForever(rotateBy(1.0, 360));\r\n */\r\nexport function repeatForever (action?: ActionInterval): ActionInterval {\r\n    return new RepeatForever(action);\r\n}\r\n\r\n/*\r\n * Spawn a new action immediately\r\n * @class Spawn\r\n * @extends ActionInterval\r\n */\r\nexport class Spawn extends ActionInterval {\r\n    static _actionOneTwo = function (action1: any, action2: any) {\r\n        const pSpawn = new Spawn();\r\n        pSpawn.initWithTwoActions(action1, action2);\r\n        return pSpawn;\r\n    }\r\n\r\n    private _one: ActionInterval | null = null;\r\n    private _two: ActionInterval | null = null;\r\n\r\n    constructor (tempArray?: any) {\r\n        super();\r\n\r\n        const paramArray = (tempArray instanceof Array) ? tempArray : arguments;\r\n        if (paramArray.length === 1) {\r\n            //errorID(1020);\r\n            return;\r\n        }\r\n        const last = paramArray.length - 1;\r\n        if ((last >= 0) && (paramArray[last] == null)) //logID(1015);\r\n\r\n        if (last >= 0) {\r\n            let prev = paramArray[0]; let action1: any;\r\n            for (let i = 1; i < last; i++) {\r\n                if (paramArray[i]) {\r\n                    action1 = prev;\r\n                    prev = Spawn._actionOneTwo(action1, paramArray[i]);\r\n                }\r\n            }\r\n            this.initWithTwoActions(prev, paramArray[last]);\r\n        }\r\n    }\r\n\r\n    /* initializes the Spawn action with the 2 actions to spawn\r\n     * @param {FiniteTimeAction} action1\r\n     * @param {FiniteTimeAction} action2\r\n     * @return {Boolean}\r\n     */\r\n    initWithTwoActions (action1: any, action2: any) {\r\n        if (!action1 || !action2) {\r\n            //errorID(1027);\r\n            return false;\r\n        }\r\n\r\n        let ret = false;\r\n\r\n        const d1 = action1._duration;\r\n        const d2 = action2._duration;\r\n\r\n        if (this.initWithDuration(Math.max(d1, d2))) {\r\n            this._one = action1;\r\n            this._two = action2;\r\n\r\n            if (d1 > d2) {\r\n                this._two = Sequence._actionOneTwo(action2, delayTime(d1 - d2));\r\n            } else if (d1 < d2) {\r\n                this._one = Sequence._actionOneTwo(action1, delayTime(d2 - d1));\r\n            }\r\n\r\n            ret = true;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    clone () {\r\n        const action = new Spawn();\r\n        this._cloneDecoration(action);\r\n        action.initWithTwoActions(this._one!.clone(), this._two!.clone());\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n        this._one!.startWithTarget(target);\r\n        this._two!.startWithTarget(target);\r\n    }\r\n\r\n    stop () {\r\n        this._one!.stop();\r\n        this._two!.stop();\r\n        Action.prototype.stop.call(this);\r\n    }\r\n\r\n    update (dt: any) {\r\n        dt = this._computeEaseTime(dt);\r\n        if (this._one) this._one.update(dt);\r\n        if (this._two) this._two.update(dt);\r\n    }\r\n\r\n    reverse () {\r\n        const action = Spawn._actionOneTwo(this._one!.reverse(), this._two!.reverse());\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action as any;\r\n    }\r\n}\r\n\r\n/**\r\n * @en Create a spawn action which runs several actions in parallel.\r\n * @zh \u540C\u6B65\u6267\u884C\u52A8\u4F5C\uFF0C\u540C\u6B65\u6267\u884C\u4E00\u7EC4\u52A8\u4F5C\u3002\r\n * @method spawn\r\n * @param {FiniteTimeAction|FiniteTimeAction[]} actionOrActionArray\r\n * @param {FiniteTimeAction} ...tempArray\r\n * @return {FiniteTimeAction}\r\n * @example\r\n * import { spawn, jumpBy, rotateBy, Vec2 } from 'cc';\r\n * const action = spawn(jumpBy(2, new Vec2(300, 0), 50, 4), rotateBy(2, 720));\r\n * todo: It should be the direct use new\r\n */\r\nexport function spawn (/* Multiple Arguments */tempArray: any): FiniteTimeAction {\r\n    const paramArray = (tempArray instanceof Array) ? tempArray : arguments;\r\n    if (paramArray.length === 1) {\r\n        //errorID(1020);\r\n        return null as any;\r\n    }\r\n    if ((paramArray.length > 0) && (paramArray[paramArray.length - 1] == null)) //logID(1015);\r\n\r\n    var prev = paramArray[0];\r\n    for (let i = 1; i < paramArray.length; i++) {\r\n        if (paramArray[i] != null) prev = Spawn._actionOneTwo(prev, paramArray[i]);\r\n    }\r\n    return prev;\r\n}\r\n\r\n/* Delays the action a certain amount of seconds\r\n * @class DelayTime\r\n * @extends ActionInterval\r\n */\r\nclass DelayTime extends ActionInterval {\r\n    update (dt: any) { }\r\n\r\n    reverse () {\r\n        const action = new DelayTime(this._duration);\r\n        this._cloneDecoration(action);\r\n        this._reverseEaseList(action);\r\n        return action as any;\r\n    }\r\n\r\n    clone () {\r\n        const action = new DelayTime();\r\n        this._cloneDecoration(action);\r\n        action.initWithDuration(this._duration);\r\n        return action;\r\n    }\r\n}\r\n\r\n/**\r\n * @en Delays the action a certain amount of seconds.\r\n * @zh \u5EF6\u8FDF\u6307\u5B9A\u7684\u65F6\u95F4\u91CF\u3002\r\n * @method delayTime\r\n * @param {Number} d duration in seconds\r\n * @return {ActionInterval}\r\n * @example\r\n * import { delayTime } from 'cc';\r\n * const delay = delayTime(1);\r\n */\r\nexport function delayTime (d: number): ActionInterval {\r\n    return new DelayTime(d);\r\n}\r\n\r\n/**\r\n * <p>\r\n * Executes an action in reverse order, from time=duration to time=0                                     <br/>\r\n * @warning Use this action carefully. This action is not sequenceable.                                 <br/>\r\n * Use it as the default \"reversed\" method of your own actions, but using it outside the \"reversed\"      <br/>\r\n * scope is not recommended.\r\n * </p>\r\n * @class ReverseTime\r\n * @extends ActionInterval\r\n * @param {FiniteTimeAction} action\r\n * @example\r\n * import ReverseTime from 'cc';\r\n * var reverse = new ReverseTime(this);\r\n */\r\nexport class ReverseTime extends ActionInterval {\r\n    private _other: ActionInterval | null = null;\r\n\r\n    constructor (action?: any) {\r\n        super();\r\n        action && this.initWithAction(action);\r\n    }\r\n\r\n    /*\r\n     * @param {FiniteTimeAction} action\r\n     * @return {Boolean}\r\n     */\r\n    initWithAction (action: ActionInterval) {\r\n        if (!action) {\r\n            //errorID(1028);\r\n            return false;\r\n        }\r\n        if (action === this._other) {\r\n            //errorID(1029);\r\n            return false;\r\n        }\r\n\r\n        if (ActionInterval.prototype.initWithDuration.call(this, action._duration)) {\r\n            // Don't leak if action is reused\r\n            this._other = action;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    clone () {\r\n        const action = new ReverseTime();\r\n        this._cloneDecoration(action);\r\n        action.initWithAction(this._other!.clone());\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: any) {\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n        this._other!.startWithTarget(target);\r\n    }\r\n\r\n    update (dt: number) {\r\n        dt = this._computeEaseTime(dt);\r\n        if (this._other) this._other.update(1 - dt);\r\n    }\r\n\r\n    reverse () {\r\n        return this._other!.clone() as any;\r\n    }\r\n\r\n    stop () {\r\n        this._other!.stop();\r\n        Action.prototype.stop.call(this);\r\n    }\r\n}\r\n\r\n/**\r\n * @en Executes an action in reverse order, from time=duration to time=0.\r\n * @zh \u53CD\u8F6C\u76EE\u6807\u52A8\u4F5C\u7684\u65F6\u95F4\u8F74\u3002\r\n * @method reverseTime\r\n * @param {FiniteTimeAction} action\r\n * @return {ActionInterval}\r\n * @example\r\n * import { reverseTime } from 'cc';\r\n * const reverse = reverseTime(this);\r\n */\r\nexport function reverseTime (action: any): ActionInterval {\r\n    return new ReverseTime(action);\r\n}\r\n", "/*\r\n Copyright (c) 2020-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n https://www.cocos.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport { ActionInterval } from './actions/action-interval';\r\nimport { ITweenOption } from './export-api';\r\n\r\n/** adapter */\r\nfunction TweenEasingAdapter (easingName: string) {\r\n    const initialChar = easingName.charAt(0);\r\n    if (/[A-Z]/.test(initialChar)) {\r\n        easingName = easingName.replace(initialChar, initialChar.toLowerCase());\r\n        const arr = easingName.split('-');\r\n        if (arr.length === 2) {\r\n            const str0 = arr[0];\r\n            if (str0 === 'linear') {\r\n                easingName = 'linear';\r\n            } else {\r\n                const str1 = arr[1];\r\n                switch (str0) {\r\n                case 'quadratic':\r\n                    easingName = `quad${str1}`;\r\n                    break;\r\n                case 'quartic':\r\n                    easingName = `quart${str1}`;\r\n                    break;\r\n                case 'quintic':\r\n                    easingName = `quint${str1}`;\r\n                    break;\r\n                case 'sinusoidal':\r\n                    easingName = `sine${str1}`;\r\n                    break;\r\n                case 'exponential':\r\n                    easingName = `expo${str1}`;\r\n                    break;\r\n                case 'circular':\r\n                    easingName = `circ${str1}`;\r\n                    break;\r\n                default:\r\n                    easingName = str0 + str1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return easingName;\r\n}\r\n\r\n/** checker */\r\nfunction TweenOptionChecker (opts: ITweenOption) {\r\n    const header = ' [Tween:] ';\r\n    const message = ` option is not support in v`;\r\n    const _opts = opts as unknown as any;\r\n    if (_opts.delay) {\r\n        console.log(`${header}delay${message}`);\r\n    }\r\n    if (_opts.repeat) {\r\n        console.log(`${header}repeat${message}`);\r\n    }\r\n    if (_opts.repeatDelay) {\r\n        console.log(`${header}repeatDelay${message}`);\r\n    }\r\n    if (_opts.interpolation) {\r\n        console.log(`${header}interpolation${message}`);\r\n    }\r\n    if (_opts.onStop) {\r\n        console.log(`${header}onStop${message}`);\r\n    }\r\n}\r\n\r\nexport class TweenAction extends ActionInterval {\r\n    private _opts: any;\r\n    private _props: any;\r\n    private _originProps: any;\r\n\r\n    constructor (duration: number, props: any, opts?: ITweenOption) {\r\n        super();\r\n        if (opts == null) {\r\n            opts = Object.create(null);\r\n        } else {\r\n            /** checker */\r\n            TweenOptionChecker(opts);\r\n\r\n            /** adapter */\r\n            if (opts.easing && typeof opts.easing === 'string') {\r\n                opts.easing = TweenEasingAdapter(opts.easing) as any;\r\n            }\r\n\r\n            // global easing or progress used for this action\r\n            if (!opts.progress) {\r\n                opts.progress = this.progress;\r\n            }\r\n            if (opts.easing && typeof opts.easing === 'string') {\r\n                const easingName = opts.easing as string;\r\n                // opts.easing = easing[easingName];\r\n\r\n                // if (!opts.easing) { warnID(1031, easingName); }\r\n            }\r\n        }\r\n        this._opts = opts;\r\n\r\n        this._props = Object.create(null);\r\n        for (const name in props) {\r\n            // filtering if\r\n            // - it was not own property\r\n            // - types was function / string\r\n            // - it was undefined / null\r\n            // eslint-disable-next-line no-prototype-builtins\r\n            if (!props.hasOwnProperty(name)) continue;\r\n            let value = props[name];\r\n            if (typeof value === 'function') {\r\n                value = value();\r\n            }\r\n            if (value == null || typeof value === 'string') continue;\r\n            // property may have custom easing or progress function\r\n            let customEasing: any; let progress: any;\r\n            if (value.value !== undefined && (value.easing || value.progress)) {\r\n                if (typeof value.easing === 'string') {\r\n                    // customEasing = easing[value.easing];\r\n                    // if (!customEasing) warnID(1031, value.easing);\r\n                } else {\r\n                    customEasing = value.easing;\r\n                }\r\n                progress = value.progress;\r\n                value = value.value;\r\n            }\r\n\r\n            const prop = Object.create(null);\r\n            prop.value = value;\r\n            prop.easing = customEasing;\r\n            prop.progress = progress;\r\n            this._props[name] = prop;\r\n        }\r\n\r\n        this._originProps = props;\r\n        this.initWithDuration(duration);\r\n    }\r\n\r\n    clone () {\r\n        const action = new TweenAction(this._duration, this._originProps, this._opts);\r\n        this._cloneDecoration(action);\r\n        return action;\r\n    }\r\n\r\n    startWithTarget (target: Record<string, unknown>) {\r\n        ActionInterval.prototype.startWithTarget.call(this, target);\r\n\r\n        const relative = !!this._opts.relative;\r\n        const props = this._props;\r\n        for (const property in props) {\r\n            const _t: any = target[property];\r\n            if (_t === undefined) { continue; }\r\n\r\n            const prop: any = props[property];\r\n            const value = prop.value;\r\n            if (typeof _t === 'number') {\r\n                prop.start = _t;\r\n                prop.current = _t;\r\n                // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\r\n                prop.end = relative ? _t + value : value;\r\n            } else if (typeof _t === 'object') {\r\n                if (prop.start == null) {\r\n                    prop.start = {}; prop.current = {}; prop.end = {};\r\n                }\r\n\r\n                for (const k in value) {\r\n                    // filtering if it not a number\r\n                    // eslint-disable-next-line no-restricted-globals\r\n                    if (isNaN(_t[k])) continue;\r\n                    prop.start[k] = _t[k];\r\n                    prop.current[k] = _t[k];\r\n                    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\r\n                    prop.end[k] = relative ? _t[k] + value[k] : value[k];\r\n                }\r\n            }\r\n        }\r\n        if (this._opts.onStart) { this._opts.onStart(this.target); }\r\n    }\r\n\r\n    update (t: number) {\r\n        const target = this.target;\r\n        if (!target) return;\r\n\r\n        const props = this._props;\r\n        const opts = this._opts;\r\n\r\n        let easingTime = t;\r\n        if (opts.easing) easingTime = opts.easing(t);\r\n\r\n        const progress = opts.progress;\r\n        for (const name in props) {\r\n            const prop = props[name];\r\n            const time = prop.easing ? prop.easing(t) : easingTime;\r\n            const interpolation = prop.progress ? prop.progress : progress;\r\n\r\n            const start = prop.start;\r\n            const end = prop.end;\r\n            if (typeof start === 'number') {\r\n                prop.current = interpolation(start, end, prop.current, time);\r\n            } else if (typeof start === 'object') {\r\n                // const value = prop.value;\r\n                for (const k in start) {\r\n                    // if (value[k].easing) {\r\n                    //     time = value[k].easing(t);\r\n                    // }\r\n                    // if (value[k].progress) {\r\n                    //     interpolation = value[k].easing(t);\r\n                    // }\r\n                    prop.current[k] = interpolation(start[k], end[k], prop.current[k], time);\r\n                }\r\n            }\r\n\r\n            target[name] = prop.current;\r\n        }\r\n        if (opts.onUpdate) { opts.onUpdate(this.target, t); }\r\n        if (t === 1 && opts.onComplete) { opts.onComplete(this.target); }\r\n    }\r\n\r\n    progress (start: number, end: number, current: number, t: number) {\r\n        return current = start + (end - start) * t;\r\n    }\r\n}\r\n", "/*\r\n Copyright (c) 2020-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n https://www.cocos.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport { ActionInstant } from './actions/action-instant';\r\n\r\nexport class SetAction extends ActionInstant {\r\n    private _props: any;\r\n\r\n    constructor (props?: any) {\r\n        super();\r\n        this._props = {};\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n        props !== undefined && this.init(props);\r\n    }\r\n\r\n    init (props) {\r\n        for (const name in props) {\r\n            this._props[name] = props[name];\r\n        }\r\n        return true;\r\n    }\r\n\r\n    update () {\r\n        const props = this._props;\r\n        const target = this.target;\r\n        for (const name in props) {\r\n            target![name] = props[name];\r\n        }\r\n    }\r\n\r\n    clone () {\r\n        const action = new SetAction();\r\n        action.init(this._props);\r\n        return action;\r\n    }\r\n}\r\n", "/*\r\n Copyright (c) 2020-2023 Xiamen Yaji Software Co., Ltd.\r\n\r\n https://www.cocos.com/\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining a copy\r\n of this software and associated documentation files (the \"Software\"), to deal\r\n in the Software without restriction, including without limitation the rights to\r\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\r\n of the Software, and to permit persons to whom the Software is furnished to do so,\r\n subject to the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be included in\r\n all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n THE SOFTWARE.\r\n*/\r\n\r\nimport { TweenSystem } from './tween-system';\r\nimport { ActionInterval, sequence, repeat, repeatForever, reverseTime, delayTime, spawn } from './actions/action-interval';\r\nimport { removeSelf, show, hide, callFunc } from './actions/action-instant';\r\nimport { Action } from './actions/action';\r\nimport { ITweenOption } from './export-api';\r\nimport { TweenAction } from './tween-action';\r\nimport { SetAction } from './set-action';\r\n\r\n// https://medium.com/dailyjs/typescript-create-a-condition-based-subset-types-9d902cea5b8c\r\ntype FlagExcludedType<Base, Type> = { [Key in keyof Base]: Base[Key] extends Type ? never : Key };\r\ntype AllowedNames<Base, Type> = FlagExcludedType<Base, Type>[keyof Base];\r\ntype KeyPartial<T, K extends keyof T> = { [P in K]?: T[P] };\r\ntype OmitType<Base, Type> = KeyPartial<Base, AllowedNames<Base, Type>>;\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\ntype ConstructorType<T> = OmitType<T, Function>;\r\n\r\n/**\r\n * @en\r\n * Tween provide a simple and flexible way to action, It's transplanted from cocos creator\u3002\r\n * @zh\r\n * Tween \u63D0\u4F9B\u4E86\u4E00\u4E2A\u7B80\u5355\u7075\u6D3B\u7684\u65B9\u6CD5\u6765\u7F13\u52A8\u76EE\u6807\uFF0C\u4ECE creator \u79FB\u690D\u800C\u6765\u3002\r\n * @class Tween\r\n * @param [target]\r\n * @example\r\n * tween(this.node)\r\n *   .to(1, {scale: new Vec3(2, 2, 2), position: new Vec3(5, 5, 5)})\r\n *   .call(() => { console.log('This is a callback'); })\r\n *   .by(1, {scale: new Vec3(-1, -1, -1), position: new Vec3(-5, -5, -5)}, {easing: 'sineOutIn'})\r\n *   .start()\r\n */\r\nexport class Tween<T> {\r\n    private _actions: Action[] = [];\r\n    private _finalAction: Action | null = null;\r\n    private _target: T | null = null;\r\n    private _tag = Action.TAG_INVALID;\r\n\r\n    constructor (target?: T | null) {\r\n        this._target = target === undefined ? null : target;\r\n    }\r\n\r\n    /**\r\n     * @en Sets tween tag\r\n     * @zh \u8BBE\u7F6E\u7F13\u52A8\u7684\u6807\u7B7E\r\n     * @method tag\r\n     * @param tag @en The tag set for this tween @zh \u4E3A\u5F53\u524D\u7F13\u52A8\u8BBE\u7F6E\u7684\u6807\u7B7E\r\n     */\r\n    tag (tag: number) {\r\n        this._tag = tag;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Insert an action or tween to this sequence.\r\n     * @zh\r\n     * \u63D2\u5165\u4E00\u4E2A tween \u5230\u961F\u5217\u4E2D\u3002\r\n     * @method then\r\n     * @param other @en The rear tween of this tween @zh \u5F53\u524D\u7F13\u52A8\u7684\u540E\u7F6E\u7F13\u52A8\r\n     */\r\n    then (other: Tween<T>): Tween<T> {\r\n        if (other instanceof Action) {\r\n            this._actions.push(other.clone());\r\n        } else {\r\n            this._actions.push(other._union());\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Sets tween target.\r\n     * @zh\r\n     * \u8BBE\u7F6E tween \u7684 target\u3002\r\n     * @method target\r\n     * @param target @en The target of this tween @zh \u5F53\u524D\u7F13\u52A8\u7684\u76EE\u6807\u5BF9\u8C61\r\n     */\r\n    target (target: T): Tween<T | undefined> {\r\n        this._target = target;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Start this tween.\r\n     * @zh\r\n     * \u8FD0\u884C\u5F53\u524D tween\u3002\r\n     */\r\n    start (): Tween<T> {\r\n        if (!this._target) {\r\n            console.log('Please set target to tween first');\r\n            return this;\r\n        }\r\n        if (this._finalAction) {\r\n            TweenSystem.instance.ActionManager.removeAction(this._finalAction);\r\n        }\r\n        this._finalAction = this._union();\r\n        this._finalAction.setTag(this._tag);\r\n        TweenSystem.instance.ActionManager.addAction(this._finalAction, this._target as any, false);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Stop this tween.\r\n     * @zh\r\n     * \u505C\u6B62\u5F53\u524D tween\u3002\r\n     */\r\n    stop (): Tween<T> {\r\n        if (this._finalAction) {\r\n            TweenSystem.instance.ActionManager.removeAction(this._finalAction);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Clone a tween.\r\n     * @zh\r\n     * \u514B\u9686\u5F53\u524D tween\u3002\r\n     * @method clone\r\n     * @param target @en The target of clone tween @zh \u514B\u9686\u7F13\u52A8\u7684\u76EE\u6807\u5BF9\u8C61\r\n     */\r\n    clone (target: T): Tween<T> {\r\n        const action = this._union();\r\n        return tween(target).then(action.clone() as any);\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Integrate all previous actions to an action.\r\n     * @zh\r\n     * \u5C06\u4E4B\u524D\u6240\u6709\u7684 action \u6574\u5408\u4E3A\u4E00\u4E2A action\u3002\r\n     */\r\n    union (): Tween<T> {\r\n        const action = this._union();\r\n        this._actions.length = 0;\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an action which calculate with absolute value.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5BF9\u5C5E\u6027\u8FDB\u884C\u7EDD\u5BF9\u503C\u8BA1\u7B97\u7684 action\u3002\r\n     * @method to\r\n     * @param duration @en Tween time, in seconds @zh \u7F13\u52A8\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u79D2\r\n     * @param props @en List of properties of tween @zh \u7F13\u52A8\u7684\u5C5E\u6027\u5217\u8868\r\n     * @param opts @en Optional functions of tween @zh \u53EF\u9009\u7684\u7F13\u52A8\u529F\u80FD\r\n     * @param opts.progress @en Interpolation function @zh \u7F13\u52A8\u7684\u901F\u5EA6\u63D2\u503C\u51FD\u6570\r\n     * @param opts.easing @en Tween function or a lambda @zh \u7F13\u52A8\u7684\u66F2\u7EBF\u51FD\u6570\u6216lambda\u8868\u8FBE\u5F0F\r\n     */\r\n    to (duration: number, props: ConstructorType<T>, opts?: ITweenOption): Tween<T> {\r\n        opts = opts || Object.create(null);\r\n        (opts as any).relative = false;\r\n        const action = new TweenAction(duration, props, opts);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an action which calculate with relative value.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5BF9\u5C5E\u6027\u8FDB\u884C\u76F8\u5BF9\u503C\u8BA1\u7B97\u7684 action\u3002\r\n     * @method by\r\n     * @param duration @en Tween time, in seconds @zh \u7F13\u52A8\u65F6\u95F4\uFF0C\u5355\u4F4D\u4E3A\u79D2\r\n     * @param props @en List of properties of tween @zh \u7F13\u52A8\u7684\u5C5E\u6027\u5217\u8868\r\n     * @param opts @en Optional functions of tween @zh \u53EF\u9009\u7684\u7F13\u52A8\u529F\u80FD\r\n     * @param [opts.progress]\r\n     * @param [opts.easing]\r\n     * @return {Tween}\r\n     */\r\n    by (duration: number, props: ConstructorType<T>, opts?: ITweenOption): Tween<T> {\r\n        opts = opts || Object.create(null);\r\n        (opts as any).relative = true;\r\n        const action = new TweenAction(duration, props, opts);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Directly set target properties.\r\n     * @zh\r\n     * \u76F4\u63A5\u8BBE\u7F6E target \u7684\u5C5E\u6027\u3002\r\n     * @method set\r\n     * @param props @en List of properties of tween @zh \u7F13\u52A8\u7684\u5C5E\u6027\u5217\u8868\r\n     * @return {Tween}\r\n     */\r\n    set (props: ConstructorType<T>): Tween<T> {\r\n        const action = new SetAction(props);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an delay action.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5EF6\u65F6 action\u3002\r\n     * @method delay\r\n     * @param duration @en Delay time of this tween @zh \u5F53\u524D\u7F13\u52A8\u7684\u5EF6\u8FDF\u65F6\u95F4\r\n     * @return {Tween}\r\n     */\r\n    delay (duration: number): Tween<T> {\r\n        const action = delayTime(duration);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an callback action.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u56DE\u8C03 action\u3002\r\n     * @method call\r\n     * @param callback @en Callback function at the end of this tween @zh \u5F53\u524D\u7F13\u52A8\u7ED3\u675F\u65F6\u7684\u56DE\u8C03\u51FD\u6570\r\n     * @return {Tween}\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    call (callback: Function): Tween<T> {\r\n        const action = callFunc(callback);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an sequence action.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u961F\u5217 action\u3002\r\n     * @method sequence\r\n     * @param args @en All tween that make up the sequence @zh \u7EC4\u6210\u961F\u5217\u7684\u6240\u6709\u7F13\u52A8\r\n     */\r\n    sequence (...args: Tween<T>[]): Tween<T> {\r\n        const action = Tween._wrappedSequence(...args);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an parallel action.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5E76\u884C action\u3002\r\n     * @method parallel\r\n     * @param args @en The tween parallel to this tween @zh \u4E0E\u5F53\u524D\u7F13\u52A8\u5E76\u884C\u7684\u7F13\u52A8\r\n     */\r\n    parallel (...args: Tween<T>[]): Tween<T> {\r\n        const action = Tween._wrappedParallel(...args);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an repeat action.\r\n     * This action will integrate before actions to a sequence action as their parameters.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u91CD\u590D action\uFF0C\u8FD9\u4E2A action \u4F1A\u5C06\u524D\u4E00\u4E2A\u52A8\u4F5C\u4F5C\u4E3A\u4ED6\u7684\u53C2\u6570\u3002\r\n     * @param repeatTimes @en The repeat times of this tween @zh \u91CD\u590D\u6B21\u6570\r\n     * @param embedTween @en Optional, embedded tween of this tween @zh \u53EF\u9009\uFF0C\u5D4C\u5165\u7F13\u52A8\r\n     */\r\n    repeat (repeatTimes: number, embedTween?: Tween<T>): Tween<T> {\r\n        /** adapter */\r\n        if (repeatTimes === Infinity) {\r\n            return this.repeatForever(embedTween);\r\n        }\r\n\r\n        const actions = this._actions;\r\n        let action: any;\r\n\r\n        if (embedTween instanceof Tween) {\r\n            action = embedTween._union();\r\n        } else {\r\n            action = actions.pop();\r\n        }\r\n\r\n        actions.push(repeat(action, repeatTimes));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an repeat forever action.\r\n     * This action will integrate before actions to a sequence action as their parameters.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u6C38\u4E45\u91CD\u590D action\uFF0C\u8FD9\u4E2A action \u4F1A\u5C06\u524D\u4E00\u4E2A\u52A8\u4F5C\u4F5C\u4E3A\u4ED6\u7684\u53C2\u6570\u3002\r\n     * @method repeatForever\r\n     * @param embedTween @en Optional, embedded tween of this tween @zh \u53EF\u9009\uFF0C\u5D4C\u5165\u7F13\u52A8\r\n     */\r\n    repeatForever (embedTween?: Tween<T>): Tween<T> {\r\n        const actions = this._actions;\r\n        let action: any;\r\n\r\n        if (embedTween instanceof Tween) {\r\n            action = embedTween._union();\r\n        } else {\r\n            action = actions.pop();\r\n        }\r\n\r\n        actions.push(repeatForever(action as ActionInterval));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an reverse time action.\r\n     * This action will integrate before actions to a sequence action as their parameters.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u5012\u7F6E\u65F6\u95F4 action\uFF0C\u8FD9\u4E2A action \u4F1A\u5C06\u524D\u4E00\u4E2A\u52A8\u4F5C\u4F5C\u4E3A\u4ED6\u7684\u53C2\u6570\u3002\r\n     * @method reverseTime\r\n     * @param embedTween @en Optional, embedded tween of this tween @zh \u53EF\u9009\uFF0C\u5D4C\u5165\u7F13\u52A8\r\n     */\r\n    reverseTime (embedTween?: Tween<T>): Tween<T> {\r\n        const actions = this._actions;\r\n        let action: any;\r\n\r\n        if (embedTween instanceof Tween) {\r\n            action = embedTween._union();\r\n        } else {\r\n            action = actions.pop();\r\n        }\r\n\r\n        actions.push(reverseTime(action as ActionInterval));\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an hide action, only for node target.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u9690\u85CF action\uFF0C\u53EA\u9002\u7528\u4E8E target \u662F\u8282\u70B9\u7C7B\u578B\u7684\u3002\r\n     */\r\n    hide (): Tween<T> {\r\n        const action = hide();\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an show action, only for node target.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u663E\u793A action\uFF0C\u53EA\u9002\u7528\u4E8E target \u662F\u8282\u70B9\u7C7B\u578B\u7684\u3002\r\n     */\r\n    show (): Tween<T> {\r\n        const action = show();\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Add an removeSelf action, only for node target.\r\n     * @zh\r\n     * \u6DFB\u52A0\u4E00\u4E2A\u79FB\u9664\u81EA\u5DF1 action\uFF0C\u53EA\u9002\u7528\u4E8E target \u662F\u8282\u70B9\u7C7B\u578B\u7684\u3002\r\n     */\r\n    removeSelf (): Tween<T> {\r\n        const action = removeSelf(false);\r\n        this._actions.push(action);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * Stop all tweens\r\n     * @zh\r\n     * \u505C\u6B62\u6240\u6709\u7F13\u52A8\r\n     */\r\n    static stopAll () {\r\n        TweenSystem.instance.ActionManager.removeAllActions();\r\n    }\r\n    /**\r\n     * @en\r\n     * Stop all tweens by tag\r\n     * @zh\r\n     * \u505C\u6B62\u6240\u6709\u6307\u5B9A\u6807\u7B7E\u7684\u7F13\u52A8\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    static stopAllByTag (tag: number, target?: object) {\r\n        TweenSystem.instance.ActionManager.removeAllActionsByTag(tag, target as any);\r\n    }\r\n    /**\r\n     * @en\r\n     * Stop all tweens by target\r\n     * @zh\r\n     * \u505C\u6B62\u6240\u6709\u6307\u5B9A\u5BF9\u8C61\u7684\u7F13\u52A8\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    static stopAllByTarget (target?: object) {\r\n        TweenSystem.instance.ActionManager.removeAllActionsFromTarget(target as any);\r\n    }\r\n\r\n    private _union () {\r\n        const actions = this._actions;\r\n        let action: Action;\r\n        if (actions.length === 1) {\r\n            action = actions[0];\r\n        } else {\r\n            action = sequence(actions);\r\n        }\r\n\r\n        return action;\r\n    }\r\n\r\n    private _destroy () {\r\n        this.stop();\r\n    }\r\n\r\n    private static readonly _tmp_args: Tween<any>[] | Action[] = [];\r\n\r\n    private static _wrappedSequence (...args: Action[] | Tween<any>[]) {\r\n        const tmp_args = Tween._tmp_args;\r\n        tmp_args.length = 0;\r\n        for (let l = args.length, i = 0; i < l; i++) {\r\n            const arg = tmp_args[i] = args[i];\r\n            if (arg instanceof Tween) {\r\n                tmp_args[i] = arg._union();\r\n            }\r\n        }\r\n\r\n        return sequence.apply(sequence, tmp_args as any);\r\n    }\r\n\r\n    private static _wrappedParallel (...args: Action[] | Tween<any>[]) {\r\n        const tmp_args = Tween._tmp_args;\r\n        tmp_args.length = 0;\r\n        for (let l = args.length, i = 0; i < l; i++) {\r\n            const arg = tmp_args[i] = args[i];\r\n            if (arg instanceof Tween) {\r\n                tmp_args[i] = arg._union();\r\n            }\r\n        }\r\n\r\n        return spawn.apply(spawn, tmp_args as any);\r\n    }\r\n}\r\nwindow['Tween'] = Tween;\r\n\r\n/**\r\n * @en\r\n * tween is a utility function that helps instantiate Tween instances.\r\n * @zh\r\n * tween \u662F\u4E00\u4E2A\u5DE5\u5177\u51FD\u6570\uFF0C\u5E2E\u52A9\u5B9E\u4F8B\u5316 Tween \u5B9E\u4F8B\u3002\r\n * @param target @en The target of the result tween @zh \u7F13\u52A8\u7684\u76EE\u6807\r\n * @returns Tween \u5B9E\u4F8B\r\n * @example\r\n * tween(this.node)\r\n *   .to(1, {scale: new Vec3(2, 2, 2), position: new Vec3(5, 5, 5)})\r\n *   .call(() => { console.log('This is a callback'); })\r\n *   .by(1, {scale: new Vec3(-1, -1, -1)}, {easing: 'sineOutIn'})\r\n *   .start()\r\n */\r\nexport function tween<T> (target?: T) {\r\n    return new Tween<T>(target);\r\n}\r\nwindow['tween'] = tween;\r\n\r\n/**\r\n * @en\r\n * tweenUtil is a utility function that helps instantiate Tween instances.\r\n * @zh\r\n * tweenUtil \u662F\u4E00\u4E2A\u5DE5\u5177\u51FD\u6570\uFF0C\u5E2E\u52A9\u5B9E\u4F8B\u5316 Tween \u5B9E\u4F8B\u3002\r\n * @deprecated please use `tween` instead.\r\n */\r\nexport function tweenUtil<T> (target?: T) {\r\n    console.log('tweenUtil\\' is deprecated, please use \\'tween\\' instead ');\r\n    return new Tween<T>(target);\r\n}\r\nwindow['tweenUtil'] = tweenUtil;\r\n", "export class ScriptBase extends Laya.Script {\r\n\r\n    private childDic: { [key: string]: { x: number, y: number } } = {};\r\n\r\n    onDestroy(): void {\r\n        Laya.timer.clearAll(this);\r\n        this.owner.offAllCaller(this);\r\n        offAllEvent(this);\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n    // \u4F7F\u7528\u4F8B\u5B50\r\n    // public updateItemLayer(parentC: Laya.Box, parenX: number, parenY: number) {\r\n    //     //\u80CC\u666F\u5C42\r\n    //     let layer_1 = [this.bgImg, this.icon.ui_imgQuality];\r\n    //     //icon\r\n    //     let layer_2 = [this.icon.ui_imgIcon];\r\n    //     //\u6587\u672C\r\n    //     let layer_3 = [this.danTxt];\r\n    //     // \u9876\u5C42img\r\n    //     let layer_4 = [this.upImg];\r\n    //     this.updateLayer(parentC, [layer_1, layer_2, layer_3, layer_4], parenX, parenY, this.scaleX, this.scaleY);\r\n    // }\r\n    /**\u51CF\u5C11list\u7684dc */\r\n    public updateLayer(parentC: Laya.Box, args: any[], parenX: number, parenY: number, pScaleX: number = 1, pScaleY: number = 1): void {\r\n        let content: Laya.Box;\r\n        for (let i: number = 0; i < args.length; i++) {\r\n            const name = `content${i}`\r\n            content = parentC.getChildByName(name) as Laya.Box;\r\n            if (!content) {\r\n                content = new Laya.Box;\r\n                content.name = name;\r\n                parentC.addChildAt(content, i);\r\n            }\r\n            let boxArr = args[i];\r\n            let item;\r\n            for (let j: number = 0; j < boxArr.length; j++) {\r\n                item = boxArr[j];\r\n                let key = name + j;\r\n                // item.name = `child${j}`;\r\n                if (!this.childDic[key]) {\r\n                    item.scale(item.scaleX * pScaleX, item.scaleY * pScaleY);\r\n                    this.childDic[key] = <{ x: number, y: number }>{};\r\n                    this.childDic[key].x = item.x;\r\n                    this.childDic[key].y = item.y;\r\n                }\r\n                item.x = this.childDic[key].x * pScaleX + parenX;\r\n                item.y = this.childDic[key].y * pScaleY + parenY;\r\n                content.addChildAt(item, j);\r\n            }\r\n        }\r\n    }\r\n\r\n}", "import { ScriptBase } from \"../base/ScriptBase\";\r\nimport { LoaderManager } from \"../loader/LoaderManager\";\r\n\r\nexport class ViewBase extends ScriptBase {\r\n\r\n    private needReleaseUrlList = [];\r\n\r\n    /**\u6DFB\u52A0\u9700\u8981\u91CA\u653E\u7684\u8D44\u6E90\u8DEF\u5F84 */\r\n    addReleaseUrl(url: string) {\r\n        if (this.needReleaseUrlList.indexOf(url) != -1) return;\r\n        this.needReleaseUrlList.push(url);\r\n    }\r\n\r\n    close() {\r\n        offAllEvent(this);\r\n        // this.releaseResources(this.owner);\r\n        for (let url of this.needReleaseUrlList) {\r\n            LoaderManager.clearTextureRes(url);\r\n        }\r\n        LoaderManager.gc();\r\n    }\r\n\r\n    releaseResources(node: any) {\r\n        if (node.url) {\r\n            LoaderManager.clearTextureRes(node.url);\r\n        }\r\n        else if (node.skin) {\r\n            LoaderManager.clearTextureRes(node.skin);\r\n        }\r\n        for (let i = 0; i < node.numChildren; i++) {\r\n            this.releaseResources(node.getChildAt(i));\r\n        }\r\n    }\r\n\r\n}", "import { FrameConfig } from \"../FrameConfig\";\r\nimport { LoaderManager } from \"../loader/LoaderManager\";\r\nimport { tween } from \"../tween/tween\";\r\nimport { ViewBase } from \"./ViewBase\";\r\n\r\nexport class WindowBase<T extends Laya.Box> extends ViewBase {\r\n\r\n    owner: T;\r\n    winName: string;\r\n    /**\u88AB\u89E6\u53D1onHide\u65F6\u8981\u4E0D\u8981\u8C03\u7528hide() */\r\n    checkOnHide: boolean = true;\r\n    /**\u88AB\u89E6\u53D1onShow\u65F6\u8981\u4E0D\u8981\u8C03\u7528show() */\r\n    checkOnShow: boolean = true;\r\n\r\n    // \u81EA\u5DF1\u6253\u5F00\u6216\u8005\u5173\u95ED\u65F6\u5426\u662F\u8981\u89E6\u53D1\u522B\u7684 hide() show()\r\n    selfOpenNeedCheckOtherHide: boolean = true;\r\n    selfCloseNeedCheckOtherShow: boolean = true;\r\n\r\n    /**\u6253\u5F00\u7A97\u53E3\u52A8\u753B */\r\n    openWinAni: boolean = true;\r\n    /**\u5173\u95ED\u7A97\u53E3\u52A8\u753B */\r\n    closeWinAni: boolean = true;\r\n\r\n    /**\u70B9\u51FB\u80CC\u666F\u7A7A\u767D\u7684\u5730\u65B9\u5173\u95ED\u754C\u9762 */\r\n    clickBgBoxCloseWin: boolean = false;\r\n\r\n    onAwake(): void {\r\n        this.owner.size(Laya.stage.width, Laya.stage.height);\r\n        if ((this.owner as any)[\"closeBtn\"] != null) onClick(this, (this.owner as any)[\"closeBtn\"], this.closeWin);\r\n        if (this.clickBgBoxCloseWin) this.owner.on(Laya.Event.CLICK, this, this.closeWin);\r\n        this.onInit();\r\n    }\r\n\r\n    open(...param: any[]) {\r\n        this.owner.visible = true;\r\n        this.onOpen.call(this, ...param);\r\n        if (this.openWinAni) {\r\n            this.owner.x = -this.owner.width;\r\n            tween(this.owner as Laya.Box)\r\n                .to(200, { x: 0 })\r\n                .start();\r\n        }\r\n        else {\r\n            this.onOpen.call(this, ...param);\r\n        }\r\n    }\r\n\r\n    close(...param: any[]) {\r\n        if (this.closeWinAni) {\r\n            this.onClose.call(this, ...param);\r\n            super.close();\r\n            this.owner.x = 0;\r\n            tween(this.owner as Laya.Box)\r\n                .to(200, { x: this.owner.width })\r\n                .call(() => {\r\n                    this.owner.destroy(true);\r\n                })\r\n                .start();\r\n        }\r\n        else {\r\n            this.onClose.call(this, ...param);\r\n            super.close();\r\n            this.owner.destroy(true);\r\n        }\r\n    }\r\n\r\n    closeWin() {\r\n        closeWindow(this.winName);\r\n    }\r\n\r\n    show() {\r\n        this.owner.visible = true;\r\n    }\r\n\r\n    hide() {\r\n        this.owner.visible = false;\r\n    }\r\n\r\n    async createPanel(url: string, parent?: Laya.UIComponent) {\r\n        parent = parent || this.owner;\r\n        let prefab: Laya.Prefab = await LoaderManager.load(url);\r\n        let panel = prefab.create();\r\n        parent.addChild(panel);\r\n        return panel;\r\n    }\r\n\r\n    /**\r\n     * \u9002\u914D\u5217\u8868\u6700\u7EC8Y\u65B9\u5411\u884C\u6570\r\n     * @param itemHeight item\u7684\u9AD8\u5EA6\r\n     * @param list \u9002\u914D\u7684\u5217\u8868\r\n     */\r\n    public adapterListRepeatYByY(itemHeight: number, list: Laya.List) {\r\n        let listHeight = list.height;\r\n        let num = Math.floor(listHeight / itemHeight);\r\n        if (listHeight % itemHeight != 0) num += 1;\r\n        list.repeatY = num;\r\n    }\r\n\r\n    /**\r\n     * \u4EE5\u4E0A\u65B9\u4E3A\u5BF9\u9F50\u70B9\r\n     * @param node \u8282\u70B9\r\n     */\r\n    public adapterTopY(node: Laya.UIComponent) {\r\n        node.y = node.y + FrameConfig.fitHeight / 2;\r\n    }\r\n\r\n    /**\r\n     * \u4EE5\u4E0B\u65B9\u5BF9\u9F50\u70B9\r\n     * @param node \r\n     */\r\n    public adapterButtomY(node: Laya.UIComponent) {\r\n        node.y = node.y + FrameConfig.fitHeight;\r\n    }\r\n\r\n    /**\u9002\u914D\u5218\u6D77\u5C4F\u7684\u4F4D\u7F6E */\r\n    public fringeScreenAdapter(node: Laya.UIComponent, changeY: number = 60) {\r\n        if (!FrameConfig.isFringeScreen) return;\r\n        node.y += changeY;\r\n    }\r\n\r\n    /**\u7A97\u53E3\u521D\u59CB\u5316 */\r\n    protected onInit() { };\r\n    /**\u6BCF\u6B21\u6253\u5F00\u8C03\u7528 */\r\n    protected onOpen(...param: any) { };\r\n    /**\u6BCF\u6B21\u5173\u95ED\u8C03\u7528 */\r\n    protected onClose(...param: any) { };\r\n    /**\u88AB\u8986\u76D6\u4E4B\u540E\u518D\u663E\u793A\u5230\u6700\u9876\u8C03\u7528 */\r\n    onShow() { };\r\n    /**\u88AB\u8986\u76D6\u65F6\u8C03\u7528 */\r\n    onHide() { };\r\n\r\n    /**\u9002\u914D\u6700\u5927\u5C3A\u5BF8 */\r\n    protected AutoSizeToMax(...arr: Array<Laya.Sprite>) {\r\n        for (let item of arr) {\r\n            item.size(Laya.stage.width, Laya.stage.height);\r\n        }\r\n    }\r\n\r\n}", "import { LoaderManager } from \"../loader/LoaderManager\";\r\nimport Log from \"../log/Log\";\r\nimport { ModuleConfig } from \"../module/ModuleConfig\";\r\nimport { WINDOW_LAYER } from \"../util/FrameEnum\";\r\nimport { WindowBase } from \"./WindowBase\";\r\n\r\nexport enum LayerType {\r\n    default = \"default\",\r\n    top = \"top\",\r\n    banner = \"banner\",\r\n    debug = \"debug\",\r\n    tips = \"tips\",\r\n}\r\n\r\nexport enum CloseType {\r\n    destroy,\r\n    hide\r\n}\r\n\r\nexport class WindowManager {\r\n\r\n    private static inst: WindowManager;\r\n    public static get Inst(): WindowManager {\r\n        if (!WindowManager.inst) {\r\n            WindowManager.inst = new WindowManager();\r\n        }\r\n        return WindowManager.inst;\r\n    }\r\n\r\n    private showMap: Map<string, WindowBase<Laya.Box>>;\r\n    private hideMap: Map<string, WindowBase<Laya.Box>>;\r\n    private inLoad: Array<string>;\r\n    private closeWinCallBack: Map<string, any>;\r\n\r\n    private showLayer: any;\r\n    private root: Laya.Box;\r\n\r\n    init(scene: Laya.Node) {\r\n        (scene as Laya.Scene).zOrder = WINDOW_LAYER.UI;\r\n        this.inLoad = [];\r\n        this.showLayer = {};\r\n        this.showMap = new Map();\r\n        this.hideMap = new Map();\r\n        this.closeWinCallBack = new Map();\r\n        this.root = new Laya.Box();\r\n        this.root.name = \"WindowManager\";\r\n        scene.addChild(this.root);\r\n        for (let key in LayerType) {\r\n            let node = new Laya.Box();\r\n            node.name = key;\r\n            node.mouseThrough = true;\r\n            this.root.addChild(node);\r\n            node.pos(0, 0);\r\n            node.size(Laya.stage.width, Laya.stage.height);\r\n        }\r\n        this.root.pos(0, 0);\r\n        this.root.size(Laya.stage.width, Laya.stage.height);\r\n        Log.debug(\"=== WindowManager init finish ===\");\r\n    }\r\n\r\n    /**\r\n     * \u7A97\u53E3\u662F\u5426\u5F00\u542F\r\n     * @param winName \u7A97\u53E3\u540D\r\n     * @returns \r\n     */\r\n    isShowWin(winName: string) {\r\n        return this.showMap.has(winName);\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u7684\u6307\u5B9A\u7A97\u53E3\u7684\u63A7\u5236\u5668\r\n     * @param winName \u7A97\u53E3\u540D\r\n     */\r\n    getWinScript<T>(winName: string) {\r\n        if (!this.isShowWin(winName)) {\r\n            Log.debug(`\u7A97\u53E3\uFF1A${winName}\u672A\u6CE8\u518C\uFF01`);\r\n            return;\r\n        }\r\n        return this.showMap.get(winName) as T;\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u518C\u7A97\u53E3\u5173\u95ED\u56DE\u8C03\uFF0C\u53EA\u4F5C\u7528\u4E00\u6B21\u3002\u4E0B\u4E00\u6B21\u6253\u5F00\u5173\u95ED\u65E0\u6548\r\n     * @param winName \u7A97\u53E3\u540D\r\n     * @param callBack \u56DE\u8C03\u65B9\u6CD5\r\n     * @param caller \u6267\u884C\u57DF\r\n     */\r\n    private registerWinCloseCallBack(winName: string, callBack: Function, caller?: any) {\r\n        this.closeWinCallBack.set(winName, {fun: callBack, caller: caller});\r\n    }\r\n\r\n    /**\r\n     * \u6253\u5F00\u7A97\u53E3\r\n     * @param winName \u7A97\u53E3\u540D\r\n     * @param args \u53C2\u6570\r\n     */\r\n    async openWindow(winName: string, args?: any[], closeCallBack?: Function, caller?: any, openCallBack?: Function): Promise<any> {\r\n        Log.debug(\"\u6253\u5F00\u7A97\u53E3\" + winName);\r\n        if (this.inLoad.indexOf(winName) != -1) {\r\n            Log.debug(`\u7A97\u53E3\uFF1A${winName}\u6B63\u5728\u52A0\u8F7D\uFF01`);\r\n            return;\r\n        }\r\n        if (this.isShowWin(winName)) {\r\n            Log.debug(`\u7A97\u53E3\uFF1A${winName}\u5DF2\u7ECF\u6253\u5F00\uFF01`);\r\n            return;\r\n        }\r\n        let prefabPath = ModuleConfig.getModulePrefabPath(winName);\r\n        if (!prefabPath) return;\r\n        let ctr: WindowBase<Laya.Box>;\r\n        let layer = ModuleConfig.getModuleLayerType(winName);\r\n        if (this.hideMap.has(winName)) {\r\n            ctr = this.hideMap.get(winName);\r\n            this.hideMap.delete(winName);\r\n        }\r\n        else {\r\n            this.inLoad.push(winName);\r\n            let res: Laya.Prefab = await LoaderManager.load(prefabPath);\r\n            let win = res.create();\r\n            this.root.getChildByName(layer).addChild(win);\r\n            ctr = win.getComponent(WindowBase);\r\n            if (!ctr.winName) ctr.winName = winName;\r\n            let index = this.inLoad.indexOf(winName);\r\n            this.inLoad.splice(index, 1);\r\n        }\r\n        let layerNode = this.root.getChildByName(layer);\r\n        layerNode.setChildIndex(ctr.owner, layerNode.numChildren - 1);\r\n        let layerList: WindowBase<Laya.Box>[] = this.showLayer[layer];\r\n        if (!layerList) {\r\n            layerList = [];\r\n        }\r\n        layerList.push(ctr);\r\n        this.showLayer[layer] = layerList;\r\n        this.showMap.set(winName, ctr);\r\n        let onHideCtr: WindowBase<Laya.Box>;\r\n        if (layerList.length >= 2) {\r\n            onHideCtr = layerList[layerList.length - 2];\r\n        }\r\n        else {\r\n            let typeList = [];\r\n            for (let item in LayerType) {\r\n                typeList.push(item);\r\n            }\r\n            typeList.reverse();\r\n            let index = typeList.indexOf(layer);\r\n            if (index != -1) typeList.splice(0, index + 1);\r\n            for (let key of typeList) {\r\n                layerList = this.showLayer[key] || [];\r\n                if (layerList.length >= 1) {\r\n                    onHideCtr = layerList[layerList.length - 1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // onHide\u8C03\u7528\r\n        onHideCtr && onHideCtr.onHide();\r\n\r\n        // \u6CE8\u518C\u5173\u95ED\u7A97\u53E3\u56DE\u8C03 \r\n        if (closeCallBack) {\r\n            this.registerWinCloseCallBack(winName, closeCallBack, caller);\r\n        }\r\n        \r\n        // \u6253\u5F00\u7A97\u53E3\r\n        ctr.open.apply(ctr, args);\r\n\r\n        // \u6267\u884C\u6253\u5F00\u56DE\u8C03\r\n        if (openCallBack) caller ? openCallBack.call(caller) : openCallBack();\r\n\r\n        // \u9690\u85CF\u8C03\u7528\r\n        ctr.selfOpenNeedCheckOtherHide && onHideCtr && onHideCtr.checkOnHide && onHideCtr.hide();\r\n\r\n        return ctr;\r\n    }\r\n\r\n    /**\r\n     * \u5173\u95ED\u7A97\u53E3\r\n     * @param winName \u7A97\u53E3\u540D\r\n     * @param args \u53C2\u6570\r\n     */\r\n    closeWindow(winName: string, args?: any[]) {\r\n        Log.debug(\"\u5173\u95ED\u7A97\u53E3\" + winName);\r\n        if (!this.showMap.has(winName)) {\r\n            Log.warn(\"\u7A97\u53E3\u672A\u6253\u5F00:\" + winName);\r\n            return;\r\n        }\r\n        let ctr = this.showMap.get(winName);\r\n        this.showMap.delete(winName);\r\n        let layer = ModuleConfig.getModuleLayerType(winName);\r\n        let layerList: WindowBase<Laya.Box>[] = this.showLayer[layer];\r\n        let index = layerList.indexOf(ctr);\r\n        if (index != -1) layerList.splice(index, 1);\r\n        switch (ModuleConfig.getModuleCloseType(winName)) {\r\n            case CloseType.destroy:\r\n                ctr.close.apply(ctr, args);\r\n                break;\r\n            case CloseType.hide:\r\n                ctr.hide();\r\n                this.hideMap.set(winName, ctr);\r\n                break;\r\n        }\r\n\r\n        let onShowCtr: WindowBase<Laya.Box>;\r\n        let typeList = [];\r\n        for (let item in LayerType) {\r\n            if (item == LayerType.debug || item == LayerType.tips) continue;\r\n            typeList.push(item);\r\n        }\r\n        typeList.reverse();\r\n        for (let key of typeList) {\r\n            layerList = this.showLayer[key] || [];\r\n            if (layerList.length >= 1) {\r\n                onShowCtr = layerList[layerList.length - 1];\r\n                break;\r\n            }\r\n        }\r\n        onShowCtr && onShowCtr.onShow();\r\n        ctr.selfCloseNeedCheckOtherShow && onShowCtr && onShowCtr.checkOnShow && onShowCtr.show();\r\n\r\n        // \u53D6\u6D88\u7A97\u53E3\u5173\u95ED\u56DE\u8C03\r\n        if (this.closeWinCallBack.has(winName)) {\r\n            let obj = this.closeWinCallBack.get(winName);\r\n            obj.caller ? obj.fun.call(obj.caller) : obj.fun();\r\n            this.closeWinCallBack.delete(winName);\r\n            obj = null;\r\n        }\r\n    }\r\n\r\n}", "import Log from \"../log/Log\";\r\nimport { CloseType, LayerType } from \"../window/WindowManager\";\r\n\r\nexport class ModuleConfig {\r\n\r\n    private static module: any = {};\r\n\r\n    /**\r\n     * \u6CE8\u518C\u7A97\u53E3\r\n     * @param name \u7A97\u53E3\u660E\r\n     * @param prefab \u9884\u5236\u4F53\u8DEF\u5F84\r\n     * @param layerType \u5C42\u7EA7\u7C7B\u578B\r\n     * @param closeType \u5173\u95ED\u7C7B\u578B\r\n     */\r\n    static register(name: string, prefab: string, layerType?: LayerType, closeType?: CloseType) {\r\n        layerType = layerType || LayerType.default;\r\n        closeType = closeType || CloseType.destroy;\r\n        this.registerModule({ name: name, prefab: prefab, layerType: layerType, closeType: closeType });\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u518C\u7A97\u53E3\r\n     * @param module \u6A21\u5757\u6570\u636E\r\n     */\r\n    static registerModule(module: ModuleWin) {\r\n        this.module[module.name] = module;\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u6A21\u5757\u9884\u8BBE\u4F53\u8DEF\u52B2\r\n     * @param name \u6A21\u5757\u540D\r\n     * @returns \r\n     */\r\n    static getModulePrefabPath(name: string): string {\r\n        if (!this.hasModule(name)) return;;\r\n        return this.module[name].prefab;\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u6A21\u5757\u5C42\u7EA7\r\n     * @param name \u6A21\u5757\u540D\r\n     * @returns \r\n     */\r\n    static getModuleLayerType(name: string): LayerType {\r\n        if (!this.hasModule(name)) return;;\r\n        return this.module[name].layerType;\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u6A21\u5757\u5173\u95ED\u6A21\u5F0F\r\n     * @param name \u6A21\u5757\u540D\r\n     * @returns \r\n     */\r\n    static getModuleCloseType(name: string): CloseType {\r\n        if (!this.hasModule(name)) return;;\r\n        return this.module[name].closeType;\r\n    }\r\n\r\n    /**\r\n     * \u5224\u65AD\u662F\u5426\u5DF2\u7ECF\u6CE8\u518C\r\n     * @param name \u6A21\u5757\u540D\u79F0\r\n     * @returns \u662F\u5426\u6709\u6CE8\u518C\r\n     */\r\n    static hasModule(name: string) {\r\n        if (!this.module[name]) {\r\n            Log.error(\"\u672A\u6CE8\u518C\u6A21\u5757:\" + name);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\nexport interface ModuleWin {\r\n    name: string;\r\n    prefab: string;\r\n    layerType: LayerType;\r\n    closeType: CloseType;\r\n}", "import { Singleton } from \"../../frame/base/Singleton\";\r\nimport DataUtils, { DataType } from \"../data/DataUtils\";\r\nimport { ProxyBase } from \"./ProxyBase\";\r\n\r\nexport class ProxyManager extends Singleton {\r\n\r\n    private proxyList: Array<ProxyBase>\r\n\r\n    constructor() {\r\n        super();\r\n        this.proxyList = [];\r\n    }\r\n\r\n    public init() {\r\n        for (let item of this.proxyList) {\r\n            item.init();\r\n        }\r\n    }\r\n\r\n    register(proxy: ProxyBase) {\r\n        if (this.proxyList.indexOf(proxy) != -1) return;\r\n        this.proxyList.push(proxy);\r\n    }\r\n\r\n}", "import { FrameConfig } from \"../FrameConfig\";\r\nimport SDKUtils from \"./SDKUtils\";\r\n\r\nexport default class AdBase {\r\n\r\n    public AdObj: any = null;\r\n    public platform: any = FrameConfig.platform;\r\n    public Id: string = null;\r\n    public Type: string = \"default\";\r\n    public IsCreate: boolean = true;\r\n\r\n}", "export default class SDKUtils {\r\n\r\n    public static SDK: any;\r\n\r\n    /**\u4E00\u4E2Abanner\u7206\u5149\u6B21\u6570 */\r\n    public static updateBannerNum: number = 3;\r\n\r\n}", "import AdBase from \"./AdBase\";\r\nimport SDKUtils from \"./SDKUtils\";\r\n\r\nexport class Banner extends AdBase {\r\n\r\n    public OnLoad: Function;\r\n    public OnError: Function;\r\n    public OnResize: Function;\r\n    private info: any;\r\n    private showNum: number = 0;\r\n\r\n    constructor(id: string) {\r\n        super();\r\n        this.Id = id;\r\n        this.OnLoad = this.onLoad;\r\n        this.OnError = this.onError;\r\n        this.OnResize = this.onResize;\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        this.info = this.platform.getSystemInfoSync();\r\n        var style: BannerStyle = {\r\n            top: 0,\r\n            left: 0,\r\n            width: this.info.screenWidth * 0.8,\r\n            height: this.info.screenHeight * 0.1\r\n        }\r\n        style.left = (this.info.screenWidth - style.width) / 2;\r\n        this.AdObj = this.platform.createBannerAd({\r\n            adUnitId: this.Id,\r\n            adIntervals: 30,\r\n            style: style\r\n        })\r\n        this.AdObj.onLoad(() => {\r\n            this.OnLoad();\r\n        })\r\n        this.AdObj.onError((err) => {\r\n            this.OnError(err);\r\n        })\r\n        this.AdObj.onResize((res) => {\r\n            this.OnResize(res);\r\n        })\r\n    }\r\n\r\n    onLoad() {\r\n        console.log(\"Banner\u52A0\u8F7D\u6210\u529F\uFF01\");\r\n        Laya.timer.clear(this, this.create);\r\n        if (this.IsCreate) SDKUtils.SDK.mBanner.push(this);\r\n        this.IsCreate = false;\r\n    }\r\n\r\n    onError(err) {\r\n        console.error(\"Banner\u52A0\u8F7D\u5931\u8D25\uFF01\", err);\r\n        Laya.timer.clear(this, this.create);\r\n        Laya.timer.once(3000, this, this.create);\r\n    }\r\n\r\n    onResize(res) {\r\n        this.AdObj.style.top = this.info.screenHeight - res.height;\r\n        this.AdObj.offResize();\r\n    }\r\n\r\n    show(style?: BannerStyle) {\r\n        if (style) this.AdObj.style = style;\r\n        this.AdObj.show()\r\n            .then(() => {\r\n                console.log(\"Ban\u663E\u793A\");\r\n                this.showNum++;\r\n            })\r\n            .catch(() => {\r\n                console.error(\"Ban\u663E\u793A\u5931\u8D25\");\r\n            })\r\n    }\r\n\r\n    hide() {\r\n        this.AdObj.hide();\r\n        if (this.showNum >= SDKUtils.updateBannerNum) {\r\n            this.destroy();\r\n            SDKUtils.SDK.CreateBannerAd();\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        var index = SDKUtils.SDK.mBanner.indexOf(this);\r\n        if (index == -1) return;\r\n        SDKUtils.SDK.mBanner.splice(index, 1);\r\n        this.AdObj.hide();\r\n        this.AdObj.destroy();\r\n    }\r\n\r\n}\r\n\r\nexport interface BannerStyle {\r\n    left: number,\r\n    top: number,\r\n    width: number,\r\n    height: number\r\n}", "import AdBase from \"./AdBase\";\r\n\r\nexport default class Custom extends AdBase {\r\n\r\n    isdestroy: boolean = false;\r\n    createCanShow: boolean = false;\r\n    showNum: number = 0;\r\n\r\n    constructor(id, style: CustomType) {\r\n        super();\r\n        this.Id = id;\r\n        this.create(style);\r\n    }\r\n\r\n    create(style) {\r\n        var Obj = this.platform.createCustomAd({\r\n            adUnitId: this.Id,\r\n            style: style\r\n        })\r\n        Obj.onLoad(() => {\r\n            console.log(\"\u539F\u751F\u5E7F\u544A\u52A0\u8F7D\u6210\u529F\uFF01\");\r\n            Laya.timer.clear(this, this.create);\r\n            if(this.isdestroy) {\r\n                Obj.hide();\r\n                Obj.destroy();\r\n                return;\r\n            }\r\n            this.AdObj = Obj;\r\n            if (this.createCanShow) this.show();\r\n        })\r\n        Obj.onError((err) => {\r\n            console.error(\"\u539F\u751F\u5E7F\u544A\u52A0\u8F7D\u5931\u8D25\uFF01\");\r\n            Laya.timer.clear(this, this.create);\r\n            Laya.timer.once(3000, this, () => {this.create(style)});\r\n        });\r\n    }\r\n\r\n    show() {\r\n        this.createCanShow = true;\r\n        if(!this.AdObj) return;\r\n        if(this.AdObj.isShow()) return;\r\n        this.AdObj.show()\r\n            .then(() => {\r\n                this.showNum++;\r\n                console.log(\"\u539F\u751F\u663E\u793A\u6210\u529F\uFF01\");\r\n                if(!this.createCanShow) this.hide();\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"\u539F\u751F\u663E\u793A\u5931\u8D25\uFF01\")\r\n            });\r\n    }\r\n\r\n    hide() {\r\n        this.createCanShow = false;\r\n        if(!this.AdObj) return;\r\n        this.AdObj.hide();\r\n    }\r\n\r\n    destroy() {\r\n        this.isdestroy = true;\r\n        // var index = SDK.Inst.mCustom.indexOf(this);\r\n        // if (index == -1) return;\r\n        // SDK.Inst.mCustom.splice(index, 1);\r\n        if (this.AdObj) {\r\n            this.AdObj.hide();\r\n            this.AdObj.destroy();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport interface CustomType {\r\n    top: number,\r\n    left: number\r\n}", "import AdBase from \"./AdBase\";\r\n\r\nexport default class Grid extends AdBase {\r\n\r\n    constructor(id) {\r\n        super();\r\n        this.Id = id;\r\n    }\r\n\r\n    create() {\r\n        this.platform.createGridAd({\r\n            adUnitId: this.Id,\r\n            adIntervals: 30\r\n        })\r\n    }\r\n\r\n}", "import AdBase from \"./AdBase\";\r\nimport SDKUtils from \"./SDKUtils\";\r\n\r\nexport class InterstitialAd extends AdBase {\r\n\r\n    constructor(id) {\r\n        super();\r\n        this.Id = id;\r\n        this.create();\r\n    }\r\n\r\n    create() {\r\n        this.AdObj = this.platform.createInterstitialAd({\r\n            adUnitId: this.Id\r\n        })\r\n        this.AdObj.onLoad(() => {\r\n            this.onLoad();\r\n        })\r\n        this.AdObj.onError((err) => {\r\n            this.onError(err);\r\n        })\r\n        this.AdObj.onClose(() => {\r\n            this.onClose();\r\n        })\r\n        SDKUtils.SDK.mInterstitial.push(this);\r\n    }\r\n\r\n    onClose() {\r\n\r\n    }\r\n\r\n    show() {\r\n        // this.AdObj.load();\r\n        this.AdObj.show();\r\n    }\r\n\r\n    onLoad() {\r\n        Laya.timer.clear(this, this.show);\r\n        console.log(\"\u63D2\u5C4F\u52A0\u8F7D\u6210\u529F\uFF01\");\r\n        this.IsCreate = false;\r\n    }\r\n\r\n    onError(err) {\r\n        console.error(\"\u63D2\u5C4F\u52A0\u8F7D\u5931\u8D25\uFF01\", err);\r\n        Laya.timer.clear(this, this.show);\r\n        Laya.timer.once(3000, this, this.show);\r\n    }\r\n\r\n}", "export const SDKConfig = {\r\n    // BannerId: [\"adunit-20b646fb3f267709\", \"adunit-f97ee75fe9474b04\", \"adunit-b85f80d0b02cb51b\", \"adunit-b4bfa2045480a721\", \"adunit-9194cc945f5c95c5\"], //banner\u5E7F\u544A\r\n    BannerId: [], //banner\u5E7F\u544A\r\n    VideoId: [],\r\n    // VideoId: [\"adunit-b42a40811b4fdb53\"],\r\n    GridId: [],\r\n    // CustomId: [\"adunit-1d12433090c41c91\", \"adunit-e2ad63c4e40d4ca8\", \"adunit-782344260b290e56\", \"adunit-73741d09f87dcfbe\"], // \u539F\u751F\r\n    CustomId: [], // \u539F\u751F\r\n    // \u5355\u683C\u5B50\r\n    singleGridIdsCustomId: [],\r\n    // \u5168\u5C4F\u683C\u5B50\r\n    fullGridIdCustomId:[],\r\n    InterstitialId: [], // \u63D2\u5C4F\r\n    BannerNum: 5,\r\n    InterstitialNum: 5,\r\n    VideoNum: 1,\r\n    CustomInfo: {},\r\n    IsPortrait: true, //true \u4E3A\u7AD6\u5C4F\r\n}", "\r\nimport { FrameConfig } from \"../FrameConfig\";\r\nimport AdBase from \"./AdBase\";\r\nimport SDK from \"./SDK\";\r\nimport SDKUtils from \"./SDKUtils\";\r\n\r\nexport default class Video extends AdBase {\r\n\r\n    private caller: any = null;\r\n    private finishFun: Function = null;\r\n    private closeFun: Function = null;\r\n\r\n    constructor(id) {\r\n        super();\r\n        // \u5206\u62108\u6BB5, \u4E0B\u68070\u4E3A\u7A7A\u5B57\u7B26\u4E32\r\n        this.Id = id[6] + id[8] + id[1] + id[3] + id[2] + id[5] + id[4] + id[7];\r\n        this.create();\r\n        SDKUtils.SDK.mVideo.push(this);\r\n    }\r\n\r\n    create() {\r\n        this.AdObj = this.platform.createRewardedVideoAd({ adUnitId: this.Id });\r\n        this.AdObj.onLoad(() => {\r\n            Laya.timer.clear(this, this.load);\r\n            console.log(\"\u89C6\u9891\u52A0\u8F7D\u5B8C\u6210\");\r\n        })\r\n        this.AdObj.onError((err) => {\r\n            console.log(\"\u89C6\u9891\u52A0\u8F7D\u5931\u8D25:\", err);\r\n            Laya.timer.clear(this, this.load);\r\n            Laya.timer.once(3000, this, this.load);\r\n        })\r\n        this.AdObj.onClose((isOk) => {\r\n            isOk.isEnded ? this.caller ? this.finishFun && this.finishFun.apply(this.caller) : this.finishFun && this.finishFun() : this.caller ? this.closeFun && this.closeFun.apply(this.caller) : this.closeFun && this.closeFun();\r\n            if (isOk.isEnded) this.load();\r\n            sendEvent(\"VIDEO_CLOSE_PLAYER_BGM\");\r\n        })\r\n    }\r\n\r\n    load() {\r\n        this.AdObj.load();\r\n    }\r\n\r\n    show(caller?: any, finish?: Function, close?: Function) {\r\n        this.caller = caller ? caller : null;\r\n        this.finishFun = finish ? finish : null;\r\n        this.closeFun = close ? close : null;\r\n        this.AdObj.show()\r\n            .then(() => {\r\n                console.log(\"\u89C6\u9891show\u6210\u529F\");\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"\u89C6\u9891show\u5931\u8D25\uFF1A\", err);\r\n                SDK.ShowToast(\"\u89C6\u9891\u62C9\u53D6\u5931\u8D25\");\r\n                // caller ? close.apply(caller) : close();\r\n            })\r\n    }\r\n\r\n    destroy() {\r\n        var index = SDKUtils.SDK.mVideo.indexOf(this);\r\n        if (index == -1) return;\r\n        SDKUtils.SDK.mVideo.splice(index, 1);\r\n        this.AdObj.destroy();\r\n    }\r\n\r\n}", "import { FrameConfig } from \"../FrameConfig\";\r\nimport { Banner, BannerStyle } from \"./Banner\";\r\nimport Custom from \"./Custom\";\r\nimport Grid from \"./Grid\";\r\nimport { InterstitialAd } from \"./InterstitialAd\";\r\nimport { SDKConfig } from \"./SDKConfig\";\r\nimport SDKUtils from \"./SDKUtils\";\r\nimport Video from \"./Video\";\r\n\r\n// const SDKConfig = {\r\n//     BannerId: [\"adunit-9f09d8fd67981813\", \"adunit-3d89908ae5fbc5a3\", \"adunit-9f09d8fd67981813\"], //banner\u5E7F\u544A\r\n//     VideoId: [\"adunit-529e22049b8deb69\"],\r\n//     GridId: [],\r\n//     CustomId: [\"adunit-25264c6e04817416\", \"adunit-a0445ae6e3f1772b\"], // \u539F\u751F\r\n//     BannerNum: 5,\r\n//     VideoNum: 1,\r\n//     CustomInfo: {},\r\n//     IsPortrait: true, //true \u4E3A\u7AD6\u5C4F\r\n// }\r\nexport default class SDK {\r\n\r\n    public static mVideo: Array<Video> = [];\r\n    public static mBanner: Array<Banner> = [];\r\n    public static mInterstitial: Array<Banner> = [];\r\n    public static mCustom: Map<string, Custom> = new Map();\r\n    public static platform: any = null;\r\n    private static BannerUseIndex: number = 0;\r\n    private static VideoUseIndex: number = 0;\r\n    private static GridUseIndex: number = 0;\r\n    private static CustomUseIndex: number = 0;\r\n    private static InterstitialUseIndex: number = 0;\r\n    private static onShowObjList: Array<onShowObj> = [];\r\n    public static ExposureBannerTimer: number = 10000;\r\n    public static PhoneInfo;\r\n    public static StartInfo: any;\r\n\r\n    private static timerList = {\r\n        timer: 0\r\n    }\r\n    private static TimerEvent() {\r\n        for (var item in this.timerList) {\r\n            this.timerList[item] += 1;\r\n        }\r\n    }\r\n\r\n    public static Init() {\r\n        if (!Laya.Browser._isMiniGame) return;\r\n        SDKUtils.SDK = this;\r\n        this.platform = FrameConfig.platform;\r\n        this.PhoneInfo = this.platform.getSystemInfoSync();\r\n        this.StartInfo = this.platform.getLaunchOptionsSync();\r\n        this.onShowInit();\r\n        // Laya.timer.once(1000, this, this.TimerEvent);\r\n    }\r\n\r\n    /**\u5B89\u5168\u9AD8\u5EA6 */\r\n    public static get safeArea() {\r\n        return SDK.platform.getWindowInfo().safeArea.top;\r\n    }\r\n\r\n    /**\u5218\u6D77\u5C4F\u4E0B\u79FB\u7684\u9AD8\u5EA6 */\r\n    public static isFringeScreenTopDownNum: number = 60;\r\n\r\n    public static InitAllAd() {\r\n        if (!Laya.Browser._isMiniGame) return;\r\n\r\n        for (var i = 0; i < SDKConfig.BannerNum; i++) {\r\n            this.CreateBannerAd();\r\n        }\r\n        for (var i = 0; i < SDKConfig.InterstitialNum; i++) {\r\n            this.CreateInterstitialAd();\r\n        }\r\n        for (var i = 0; i < SDKConfig.VideoNum; i++) {\r\n            this.CreateRewardedVideoAd();\r\n        }\r\n    }\r\n\r\n    private static expBanner: Banner = null;\r\n    private static expIndex: number = -1;\r\n    private static exposureBanner() {\r\n        if (this.expBanner != null) {\r\n            this.expBanner.destroy();\r\n            this.expBanner = null;\r\n        }\r\n        if (SDKConfig.BannerId.length < 1) return;\r\n        this.expBanner = new Banner(SDKConfig.BannerId[++this.expIndex % SDKConfig.BannerId.length]);\r\n        this.expBanner.OnLoad = () => {\r\n            console.log(\"\u66DD\u5149banner\u52A0\u8F7D\u5B8C\u6210\uFF01\");\r\n            this.expBanner.show();\r\n            Laya.timer.once(this.ExposureBannerTimer, this, this.exposureBanner);\r\n        }\r\n        this.expBanner.OnError = () => {\r\n            console.log(\"\u66DD\u5149banner\u521B\u5EFA\u5931\u8D25\uFF01\");\r\n            Laya.timer.once(3000, this, this.exposureBanner);\r\n        }\r\n        this.expBanner.OnResize = (res) => {\r\n            this.expBanner.AdObj.style.top = -(res.height - 1);\r\n        }\r\n    }\r\n\r\n    private static onShowInit() {\r\n        if (!this.platform) return;\r\n        this.platform.onShow(res => {\r\n            console.log(\"onShow\u56DE\u8C03\", res);\r\n            if (res && res.scene) {\r\n                FrameConfig.setSceneId(res.scene);\r\n            }\r\n            for (var obj of this.onShowObjList) {\r\n                obj.caller ? obj.backFun.apply(obj.caller) : obj.backFun();\r\n            }\r\n            if ((this.mBanner.length - 1) >= this.BannerShowIndex) {\r\n                this.mBanner[this.BannerShowIndex].destroy();\r\n                this.mBanner.splice(this.BannerShowIndex, 1);\r\n                this.CreateBannerAd();\r\n            }\r\n            if (this._shareType != null) {\r\n                sendEvent(\"SHARE_ON_SHOW\", [this._shareType]);\r\n                this._shareType = null;\r\n            }\r\n            for (let item of this.mCustom.values()) {\r\n                item.destroy();\r\n            }\r\n            this.mCustom.clear();\r\n        })\r\n    }\r\n\r\n\r\n    public static AddOnShowEvent(backFun: Function, caller?: any) {\r\n        var obj: onShowObj = {\r\n            caller: caller,\r\n            backFun: backFun\r\n        }\r\n        this.onShowObjList.push(obj);\r\n    }\r\n\r\n    public static CreateRewardedVideoAd(id?: string) {\r\n        if (!id && SDKConfig.VideoId.length < 1) return;\r\n        id = id ? id : SDKConfig.VideoId[this.VideoUseIndex];\r\n        if (++this.VideoUseIndex >= SDKConfig.VideoId.length) this.VideoUseIndex = 0;\r\n        new Video(id);\r\n    }\r\n\r\n    private static CreateBannerAd(id?: string) {\r\n        if (!id && SDKConfig.BannerId.length < 1) return;\r\n        id = id ? id : SDKConfig.BannerId[this.BannerUseIndex];\r\n        if (++this.BannerUseIndex >= SDKConfig.BannerId.length) this.BannerUseIndex = 0;\r\n        new Banner(id);\r\n    }\r\n\r\n    private static CreateGridAd(id?: string) {\r\n        if (!id && SDKConfig.GridId.length < 1) return;\r\n        id = id ? id : SDKConfig.GridId[this.GridUseIndex];\r\n        if (++this.GridUseIndex >= SDKConfig.GridId.length) this.GridUseIndex = 0;\r\n        new Grid(id);\r\n    }\r\n\r\n    private static CreateCustomAd(key: string, id?: string) {\r\n        if (!id && SDKConfig.CustomId.length < 1) return;\r\n        id = id ? id : SDKConfig.CustomId[this.CustomUseIndex];\r\n        if (++this.CustomUseIndex >= SDKConfig.CustomId.length) this.CustomUseIndex = 0;\r\n        this.mCustom.set(key, new Custom(id, SDKConfig.CustomInfo[key]));\r\n    }\r\n\r\n    private static CreateInterstitialAd(id?: string) {\r\n        if (!id && SDKConfig.InterstitialId.length < 1) return;\r\n        id = id ? id : SDKConfig.InterstitialId[this.InterstitialUseIndex];\r\n        if (++this.InterstitialUseIndex >= SDKConfig.InterstitialId.length) this.InterstitialUseIndex = 0;\r\n        new InterstitialAd(id);\r\n    }\r\n\r\n    private static InterstitialShowIndex: number = 0;\r\n    public static ShowInterstitialAd() {\r\n        if (this.mInterstitial.length < 1) return;\r\n        this.mInterstitial[this.InterstitialShowIndex >= this.mInterstitial.length ? 0 : this.BannerShowIndex].show();\r\n        if (++this.InterstitialShowIndex >= this.mInterstitial.length) this.InterstitialShowIndex = 0;\r\n    }\r\n\r\n    private static videoIndex: number = -1;\r\n    public static ShowVideo(finish?: Function, close?: Function, no?: Function, caller?: any) {\r\n        if (!this.platform && !Laya.Browser._isMiniGame) {\r\n            if (finish) caller ? finish.call(caller) : finish();\r\n            return;\r\n        }\r\n        if (this.mVideo.length < 1) {\r\n            caller ? no && no.apply(caller) : no && no();\r\n            this.ShowToast(\"\u89C6\u9891\u62C9\u53D6\u4E2D\u3002\u3002\u3002\");\r\n            return;\r\n        }\r\n        (this.mVideo[++this.videoIndex % this.mVideo.length] as Video).show(caller, finish, close);\r\n    }\r\n\r\n    private static BannerShowIndex: number = 0;\r\n    public static ShowBanner(style?: BannerStyle) {\r\n        if (this.mBanner.length < 1) return;\r\n        this.mBanner[this.BannerShowIndex >= this.mBanner.length ? 0 : this.BannerShowIndex].show(style);\r\n        if (++this.BannerShowIndex >= this.mBanner.length) this.BannerShowIndex = 0;\r\n    }\r\n\r\n    public static HideBanner() {\r\n        for (var item of this.mBanner) {\r\n            item.hide();\r\n        }\r\n    }\r\n\r\n    public static ShowCustomAd(type: string, id?: string) {\r\n        if (SDKConfig.CustomId.length < 1) return;\r\n        if (!this.platform) return;\r\n        if (!this.mCustom.has(type)) {\r\n            this.CreateCustomAd(type, id);\r\n        }\r\n        this.mCustom.get(type).show();\r\n    }\r\n\r\n    private static hideCustomAdNum: number = 0;\r\n    public static HideCustomAd() {\r\n        this.hideCustomAdNum++;\r\n        for (var item of this.mCustom) {\r\n            item[1].hide();\r\n            if (this.hideCustomAdNum >= 5) item[1].destroy();\r\n        }\r\n        if (this.hideCustomAdNum >= 5) this.mCustom.clear();\r\n    }\r\n\r\n    public static ShowToast(str: string) {\r\n        if (!Laya.Browser.onMiniGame) {\r\n            console.log(str);\r\n            return;\r\n        }\r\n        this.platform.showToast({\r\n            title: str,\r\n            icon: 'none',\r\n            duration: 2000\r\n        })\r\n    }\r\n\r\n    private static _shareType: number;\r\n    // \u5206\u4EAB\r\n    public static shareAppMessage(type?: number, title?: string, imageUrl?: string) {\r\n        this._shareType = type;\r\n        if (!Laya.Browser.onMiniGame) {\r\n            return;\r\n        }\r\n        this.platform.shareAppMessage({\r\n            title: title || \"\u53EA\u67090.01%\u7684\u4EBA\u80FD\u8FC7\u7B2C\u4E8C\u5173\",\r\n            imageUrl: imageUrl || \"loading/loading_img/loading_icon.png\"\r\n        })\r\n    }\r\n\r\n    /**\r\n     * \u9707\u52A8\r\n     * @param type \u9707\u52A8\u7C7B\u578B\r\n     * @returns \r\n     */\r\n    public static canVibrate: boolean = true;\r\n    public static vibrateShort(type: VibrateShortType) {\r\n        if (!this.canVibrate) return;\r\n        if (this.platform == null) return;\r\n        this.platform.vibrateShort({ type: type });\r\n    }\r\n\r\n    /**\r\n     * \u5FAE\u4FE1\u4E0A\u62A5\u4E8B\u4EF6\r\n     * @param eventId \r\n     * @param data \r\n     * @returns \r\n     */\r\n    public static reportEvent(eventId: string, ...args: Array<WXReportEventKeyValue>) {\r\n        if (this.platform == null) {\r\n            console.log(\"\u5FAE\u4FE1\u4E0A\u62A5\u4E8B\u4EF6\", eventId, args);\r\n            return;\r\n        }\r\n        let data = {};\r\n        for (let item of args) {\r\n            data[item.key] = item.value;\r\n        }\r\n        this.platform.reportEvent(eventId, data);\r\n    }\r\n\r\n    /**\u8BA2\u9605\u4FE1\u606F */\r\n    public static requestSubscribeMessage(...tmplIds: string[]) {\r\n        if (this.platform == null) {\r\n            return;\r\n        }\r\n        this.platform.requestSubscribeMessage({\r\n            tmplIds: tmplIds,\r\n            success(res) {\r\n                console.log(\"\u8BA2\u9605\u6210\u529F\", res)\r\n            },\r\n            fail(err) {\r\n                console.log(\"\u8BA2\u9605\u5931\u8D25\", err);\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\nexport interface WXReportEventKeyValue {\r\n    key: string,\r\n    value: any\r\n}\r\nexport enum VibrateShortType {\r\n    /**\u91CD */\r\n    heavy = \"heavy\",\r\n    /**\u4E2D */\r\n    medium = \"medium\",\r\n    /**\u8F7B */\r\n    light = \"light\",\r\n}\r\nexport interface onShowObj {\r\n    caller: any, //\u6267\u884C\u57DF\r\n    backFun: Function //\u56DE\u8C03\u65B9\u6CD5\r\n}\r\n\r\n", "export default class LocalStorage {\r\n\r\n    public static setString(key: string, value: string) {\r\n        localStorage.setItem(key, value);\r\n    }\r\n\r\n    public static getString(key: string, defaultValue?: any): string {\r\n        return localStorage.getItem(key) || defaultValue;\r\n    }\r\n\r\n    public static setNumber(key: string, num: number) {\r\n        this.setString(key, num.toString());\r\n    }\r\n\r\n    public static getNumber(key: string, defaultValue?: any): number {\r\n        var num = this.getString(key);\r\n        if (num == null || num == undefined || num == \"NaN\") num = defaultValue;\r\n        return Number(num);\r\n    }\r\n\r\n    /**\u53EA\u80FD\u7528\u4E8E\u5B58\u50A8\u57FA\u672C\u6570\u636E\u7C7B\u578B\u7684Array */\r\n    public static setArray<T>(key: string, arr: Array<T>) {\r\n        this.setString(key, arr.toString());\r\n    }\r\n\r\n    public static getArray<T>(key: string, defaultValue?: any): Array<T> | any {\r\n        if (!this.getString(key)) return defaultValue;\r\n        var arr = new Array();\r\n        var strArr = this.getString(key).split(',');\r\n        for(var i = 0; i < strArr.length; i++) {\r\n            arr.push(strArr[i]);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    public static setObject(key: string, obj: Object) {\r\n        this.setString(key, JSON.stringify(obj));\r\n    }\r\n\r\n    public static getObject(key: string, defaultValue?: any) {\r\n        var str = this.getString(key);\r\n        return str ? JSON.parse(str) : defaultValue;\r\n    }\r\n\r\n}", "import { game } from \"../../game/table/Types\";\r\nimport { LoaderManager } from \"../loader/LoaderManager\";\r\nimport LocalStorage from \"./LocalStorage\";\r\nexport default class DataUtils {\r\n\r\n    private static inst: DataUtils;\r\n    static get Inst(): DataUtils {\r\n        if (DataUtils.inst == null) {\r\n            DataUtils.inst = new DataUtils();\r\n        }\r\n        return DataUtils.inst;\r\n    }\r\n\r\n    // private tabelName = \"userInfo\";\r\n    // private userInfoConfig: any;\r\n    // private tabelMap: Map<string, any> = new Map();\r\n    \r\n    private localData;\r\n\r\n    initTabel() {\r\n        var obj = {};\r\n        var config = DataUtils.locaInfoConfig;\r\n        var keys = Object.keys(config);\r\n        let types = LoaderManager.ConfigTable.TbLocalInfo.get(\"type\");\r\n        var item;\r\n        let itemName;\r\n        for (var i = 0; i < keys.length; i++) {\r\n            item = config[keys[i]];\r\n            itemName = keys[i];\r\n            switch (types[keys[i]]) {\r\n                case DataType.number:\r\n                    obj[itemName] = LocalStorage.getNumber(itemName, item);\r\n                    break;\r\n                case DataType.string:\r\n                    obj[itemName] = LocalStorage.getString(itemName, item);\r\n                    break;\r\n                case DataType.array:\r\n                    var str = LocalStorage.getObject(itemName, item);\r\n                    if (typeof(str) == \"string\") {\r\n                        // str = str.slice(1, -1);\r\n                        if (str[0] == '\\\"') {\r\n                            str = str.slice(1, -1);\r\n                        }\r\n                        if (str == \"\" || str.length == 0 || str == null) {\r\n                            obj[itemName] = [];\r\n                        }\r\n                        else {\r\n                            str = '{\"data\":' + str + '}';\r\n                            obj[itemName] = JSON.parse(str).data;\r\n                        }\r\n                    }\r\n                    else {\r\n                        obj[itemName] = str.data;\r\n                    }\r\n                    break;\r\n                case DataType.object:\r\n                    var str = item;\r\n                    if (str.indexOf('\\\"\\\"') != -1) {\r\n                        var reg = new RegExp('\\\"\\\"', \"g\");\r\n                        str = str.replace(reg, '\\\"');\r\n                    }\r\n                    if (str[0] == '\\\"') {\r\n                        str = str.slice(1, -1);\r\n                    }\r\n                    try{\r\n                        obj[itemName] = LocalStorage.getObject(itemName, JSON.parse(str));\r\n                    }\r\n                    catch(err) {\r\n                        console.error(\"========== \u6570\u636E\u7ED3\u6784\u51FA\u9519 ==========\");\r\n                        console.error(str);\r\n                        console.error(err);\r\n                    }\r\n                    break\r\n            }\r\n        }\r\n        this.localData = obj;\r\n        // this.tabelMap.set(tabelName, obj);\r\n    }\r\n\r\n    public getData(property: string) {\r\n        if (!this.localData) {\r\n            this.initTabel();\r\n        }\r\n        return this.localData[property];\r\n    }\r\n\r\n    public setData(property: string, value: any, type: DataType) {\r\n        this.localData[property] = value;\r\n        switch (type) {\r\n            case DataType.number:\r\n                LocalStorage.setNumber(property, this.localData[property]);\r\n                break;\r\n            case DataType.string:\r\n                LocalStorage.setString(property, this.localData[property]);\r\n                break;\r\n            case DataType.array:\r\n                LocalStorage.setObject(property, {data: this.localData[property]});\r\n                break;\r\n            case DataType.object:\r\n                LocalStorage.setObject(property, this.localData[property]);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static get locaInfoConfig(): game.LocalInfo {\r\n        return LoaderManager.ConfigTable.TbLocalInfo.get(\"locaInfo\");\r\n    }\r\n\r\n    public static get locaInfoType(): game.LocalInfo {\r\n        return LoaderManager.ConfigTable.TbLocalInfo.get(\"type\");\r\n    }\r\n\r\n    /**\u8BBE\u7F6E\u672C\u5730\u5B58\u50A8 */\r\n    public static setLocalInfo(property: string, value: any, type?: DataType) {\r\n        if (!type) {\r\n            type = this.locaInfoType[property];\r\n            if (!type) {\r\n                console.error(\"\u5C5E\u6027\", property, \"\u4E0D\u5B58\u5728\u7C7B\u578B\uFF0C\u68C0\u67E5localInfo\u8868\");\r\n                return;\r\n            }\r\n        }\r\n        DataUtils.Inst.setData(property, value, type);\r\n    }\r\n\r\n    /**\u83B7\u53D6\u672C\u5730\u5B58\u50A8 */\r\n    public static getLocalInfo<T>(property: string) {\r\n        return DataUtils.Inst.getData(property) as T;\r\n    }\r\n\r\n    /**\u83B7\u53D6\u5E38\u91CF */\r\n    public static get Constant(): game.Constant {\r\n        return LoaderManager.ConfigTable.TbConstant.get(\"constValue\");\r\n    }\r\n\r\n    public get LocalData() {\r\n        return DataUtils.Inst.localData;\r\n    }\r\n\r\n}\r\n\r\nexport enum DataType {\r\n    string = \"string\",\r\n    number = \"number\",\r\n    array = \"array\",\r\n    object = \"object\"\r\n}", "import { Singleton } from \"../base/Singleton\";\r\nimport DataUtils, { DataType } from \"../data/DataUtils\";\r\nimport { TimeUtils } from \"./TimeUtils\";\r\n\r\nexport class TimeManger extends Singleton {\r\n\r\n    /**\u4E00\u5929\u65F6\u95F4\u6233(\u79D2\u7EA7) */\r\n    public static readonly ONET_DATA_TIME_STAMP: number = 86400;\r\n\r\n    /**\u6BCF\u79D2\u89E6\u53D1 */\r\n    static TIME_SECOND = \"TIME_SECOND\";\r\n    /**\u79BB\u7EBF\u89E6\u53D1\u4E8B\u4EF6 */\r\n    static TIME_OUT_LINE = \"TIME_OUT_LINE\";\r\n    /**\u6BCF\u79D2\u4E8B\u4EF6 */\r\n    static SECOND_EVENT = \"TimeEvent.SECOND_EVENT\";\r\n    /**\u8DE8\u5929 */\r\n    static CROSS_DAY = \"TimeEvent.CROSS_DAY\";\r\n\r\n    /**\u8DDD\u79BB\u4E0A\u6B21\u79BB\u7EBF\u65F6\u95F4\u6233(\u79D2\u7EA7)\uFF0C \u4E3A0\u5219\u662F\u9996\u6B21\u767B\u9646 */\r\n    public outLineTimeStamp: number = 0;\r\n    /**\u5F53\u59290\u70B9\u65F6\u95F4\u6233 */\r\n    private todayZeroTime: number;\r\n    /**\u65F6\u95F4\u5BF9\u8C61 */\r\n    private _date: Date;\r\n    /**\u5728\u7EBF\u65F6\u957F(\u79D2) */\r\n    public inGameTime: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        this._date = new Date();\r\n        this.todayZeroTime = this.getMidnightTimestamp;\r\n        this.outLineTimer();\r\n        setInterval(this.timerHander.bind(this), 1000);\r\n    }\r\n\r\n    init() {\r\n    }\r\n\r\n    public get date() {\r\n        this._date.setTime(Date.now());\r\n        return this._date;\r\n    }\r\n\r\n    // \u79BB\u7EBF\u5904\u7406\r\n    private outLineTimer() {\r\n        var outLineTime = DataUtils.getLocalInfo<number>(\"outLineTime\");\r\n        if (outLineTime == 0) {\r\n            // \u9996\u6B21\u767B\u9646\r\n            this.saveOutLineTime();\r\n            return;\r\n        }\r\n        // \u5904\u7406\u79BB\u7EBF\u4E8B\u4EF6\r\n        this.outLineTimeStamp = this.secondTimeStamp - outLineTime;\r\n    }\r\n\r\n    /**\u5F53\u59290\u70B9\u65F6\u95F4\u6233(\u79D2) */\r\n    public get getMidnightTimestamp(): number {\r\n        // const now = new Date();\r\n        const now = this.date;\r\n        now.setHours(0, 0, 0, 0);\r\n        return Math.floor(now.getTime() * 0.001);\r\n    }\r\n\r\n    /**\r\n     * \u8FD4\u56DE\u5468\u65E50\u70B9\u7684\u65F6\u95F4\u6233\uFF08\u79D2\uFF09\r\n     * @param weekOffset \u5468\u7684\u504F\u79FB\uFF0C\u9ED8\u8BA40\u5F53\u524D\u5468\uFF0C1\u4E0B\u4E00\u5468\uFF0C-1\u4E0A\u4E00\u5468\r\n     * @returns \r\n     */\r\n    public getSundayTimestamp(weekOffset: number = 0): number {\r\n        // \u83B7\u53D6\u5F53\u524D\u65E5\u671F\u7684\u661F\u671F\u51E0\uFF0C0 \u8868\u793A\u5468\u65E5\uFF0C1 \u8868\u793A\u5468\u4E00\uFF0C\u4F9D\u6B21\u7C7B\u63A8\r\n        let date = this.date;\r\n        const dayOfWeek = date.getDay();\r\n\r\n        // \u5982\u679C\u4ECA\u5929\u662F\u5468\u65E5\uFF0C\u4FDD\u6301\u4E3A 0\uFF0C\u5176\u4ED6\u60C5\u51B5\u4E0B\u5411\u524D\u8C03\u6574\u5230\u4E0A\u4E2A\u5468\u65E5\r\n        let diff = dayOfWeek === 0 ? 0 : -dayOfWeek;\r\n\r\n        diff += weekOffset * 7;\r\n\r\n        // \u8BBE\u7F6E\u65E5\u671F\u4E3A\u4E0A\u5468\u65E5\r\n        date.setDate(date.getDate() + diff);\r\n        date.setHours(0, 0, 0, 0); // \u8BBE\u7F6E\u65F6\u95F4\u4E3A 0 \u70B9\r\n\r\n        return Math.floor(date.getTime() * 0.001);\r\n    }\r\n\r\n    /**\u4FDD\u5B58\u79BB\u7EBF\u65F6\u95F4 */\r\n    private saveOutLineTime() {\r\n        if (this.secondTimeStamp % 5 != 0) return;\r\n        DataUtils.setLocalInfo(\"outLineTime\", this.secondTimeStamp, DataType.number);\r\n    }\r\n\r\n    /**\u6BCF\u79D2\u5904\u7406 */\r\n    private timerHander() {\r\n        this.inGameTime++;\r\n        this.saveOutLineTime();\r\n        if (this.todayZeroTime != this.getMidnightTimestamp) {\r\n            this.todayZeroTime = this.getMidnightTimestamp;\r\n            sendEvent(TimeManger.CROSS_DAY);\r\n        }\r\n        sendEvent(TimeManger.TIME_SECOND, [this.secondTimeStamp]);\r\n    }\r\n\r\n    /**\u6BEB\u79D2\u7EA7\u65F6\u95F4\u6233 */\r\n    public get time(): number {\r\n        return Date.now();\r\n    }\r\n\r\n    /**\u79D2\u7EA7\u65F6\u95F4\u6233 */\r\n    public get secondTimeStamp(): number {\r\n        return Math.floor(Date.now() * 0.001);\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u53D6\u4ECA\u5929\u7684\u65F6\u95F4\u7684\u5B57\u7B26\u4E32\r\n     * @param spaceStr \u5206\u9694\u7B26\u53F7\uFF0C\u6BD4\u5982 \u201C/\u201D \uFF0C2024/6/9\r\n     */\r\n    public getTodayTxt(spaceStr: string = \"/\") {\r\n        // const now = new Date();\r\n        const now = this.date;\r\n        const year = now.getFullYear();\r\n        const month = ('0' + (now.getMonth() + 1)).slice(-2);\r\n        const day = ('0' + now.getDate()).slice(-2);\r\n        // const hours = ('0' + now.getHours()).slice(-2);\r\n        // const minutes = ('0' + now.getMinutes()).slice(-2);\r\n        // const seconds = ('0' + now.getSeconds()).slice(-2);\r\n        return year + spaceStr + month + spaceStr + day;\r\n    }\r\n\r\n    /**\r\n     * 00:00\r\n     */\r\n    public get todayTime(): string {\r\n        // const now = new Date();\r\n        const now = this.date;\r\n        const hours = ('0' + now.getHours()).slice(-2);\r\n        const minutes = ('0' + now.getMinutes()).slice(-2);\r\n        return hours + \":\" + minutes;\r\n    }\r\n\r\n    /**type(1\u5C06\u79D2\u6570\u683C\u5F0F\u5316\u4E3AHH:MM:SS\u7684\u5F62\u5F0F),\r\n     * (2HH\u65F6MM\u5206SS\u79D2),\r\n     * (3MM:SS),\r\n     * (4MM\u5206SS\u79D2) \r\n     * */\r\n    public formatSeconds(value: number, type: number = 1) {\r\n        value < 1 && (value = 0);\r\n        let secondTime: any = Number(value);\r\n        let minuteTime: any = 0;\r\n        let hourTime: any = 0;\r\n        if (secondTime >= 60) {\r\n            minuteTime = Math.floor(Number(secondTime / 60));\r\n            secondTime = Number(secondTime % 60);\r\n            if (type != 3 && type != 4) {\r\n                if (minuteTime >= 60) {\r\n                    hourTime = Math.floor(Number(minuteTime / 60));\r\n                    minuteTime = Number(minuteTime % 60);\r\n                }\r\n            }\r\n        }\r\n        let res = \"\";\r\n        if (type == 3) {\r\n            minuteTime = minuteTime < 10 ? \"0\" + minuteTime : minuteTime;\r\n            secondTime = secondTime < 10 ? \"0\" + secondTime : secondTime;\r\n            res = minuteTime + \":\" + secondTime;\r\n        }\r\n        else if (type == 4) {\r\n            if (hourTime != 0 || minuteTime != 0) {\r\n                res += minuteTime + \"\u5206\";\r\n            }\r\n            if (secondTime != 0) res += secondTime + \"\u79D2\";\r\n        }\r\n        else if (type == 2) {\r\n            if (hourTime != 0) {\r\n                res += hourTime + \"\u65F6\";\r\n            }\r\n            if (hourTime != 0 || minuteTime != 0) {\r\n                res += minuteTime + \"\u5206\";\r\n            }\r\n            if (secondTime != 0) res += secondTime + \"\u79D2\";\r\n        }\r\n        else {\r\n            // \u88650\r\n            hourTime = hourTime < 10 ? \"0\" + hourTime : hourTime;\r\n            minuteTime = minuteTime < 10 ? \"0\" + minuteTime : minuteTime;\r\n            secondTime = secondTime < 10 ? \"0\" + secondTime : secondTime;\r\n            res = hourTime + \":\" + minuteTime + \":\" + secondTime;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * x\u5929:x\u65F6\uFF1Ax\u5206\uFF1Ax\u79D2\r\n     * @param seconds \u65F6\u95F4\u6233\r\n     * @returns \r\n     */\r\n    public formatTimestamp(seconds: number) {\r\n        // \u5B9A\u4E49\u4E00\u5929\u3001\u4E00\u5C0F\u65F6\u3001\u4E00\u5206\u949F\u7684\u79D2\u6570\r\n        const day = Math.floor(seconds / (24 * 3600));\r\n        const hour = Math.floor((seconds % (24 * 3600)) / 3600);\r\n        const minute = Math.floor((seconds % 3600) / 60);\r\n        const second = Math.floor(seconds % 60);\r\n    \r\n        // \u6784\u9020\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\r\n        let result = '';\r\n    \r\n        if (day > 0) {\r\n            result += `${day}\u5929`;\r\n        }\r\n    \r\n        if (hour > 0 || day > 0) {\r\n            result += `${hour}\u65F6`;\r\n        }\r\n    \r\n        if (minute > 0 || hour > 0 || day > 0) {\r\n            result += `${minute}\u5206`;\r\n        }\r\n    \r\n        result += `${second}\u79D2`;\r\n    \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 00:00:00:00\r\n     * @param seconds \u65F6\u95F4\u6233\r\n     * @returns \r\n     */\r\n    public formatTimestamp1(seconds: number) {\r\n        // \u5B9A\u4E49\u4E00\u5929\u3001\u4E00\u5C0F\u65F6\u3001\u4E00\u5206\u949F\u7684\u79D2\u6570\r\n        const day = Math.floor(seconds / (24 * 3600));\r\n        const hour = Math.floor((seconds % (24 * 3600)) / 3600);\r\n        const minute = Math.floor((seconds % 3600) / 60);\r\n        const second = Math.floor(seconds % 60);\r\n    \r\n        // \u6784\u9020\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\r\n        let result = '';\r\n    \r\n        if (day > 0) {\r\n            result += day < 10 ? \"0\" + day : day;\r\n            result += \":\";\r\n        }\r\n    \r\n        if (hour > 0 || day > 0) {\r\n            result += hour < 10 ? \"0\" + hour : hour;\r\n            result += \":\";\r\n        }\r\n        else {\r\n            result += \"00:\"\r\n        }\r\n    \r\n        if (minute > 0 || hour > 0 || day > 0) {\r\n            result += minute < 10 ? \"0\" + minute : minute;\r\n            result += \":\";\r\n        }\r\n        else {\r\n            result += \"00:\"\r\n        }\r\n    \r\n        result += second < 10 ? \"0\" + second : second;\r\n    \r\n        return result;\r\n    }\r\n\r\n}", "import { MusicManager } from \"../music/MusicManager\";\r\n\r\nexport class Tools {\r\n\r\n    /**\r\n     * \u6DFB\u52A0\u76D1\u542C\r\n     * @param region \u6267\u884C\u57DF\r\n     * @param btn \u8BBE\u7F6E\u76D1\u542C\u63A7\u4EF6\r\n     * @param clickFunc \u76D1\u542C\u51FD\u6570\r\n     * @param data \u53C2\u6570\r\n     * @param mouseDownFunc \u6309\u4E0B\u76D1\u542C\u7684\r\n     * @param mouseUpFunc \u62AC\u8D77\u76D1\u542C\r\n     * @param mouseMoveFunc \u79FB\u52A8\u76D1\u542C\r\n      * @param isScale \u662F\u5426\u7F29\u653E\r\n     */\r\n    public static onClick(\r\n        region: any,\r\n        btn: Laya.UIComponent | any,\r\n        clickFunc?: Function,\r\n        data?: Array<any>,\r\n        music: boolean = true,\r\n        isScale: boolean = true,\r\n        maoPao: boolean = true,\r\n        mouseDownFunc?: Function,\r\n        mouseUpFunc?: Function,\r\n        mouseMoveFunc?: Function,\r\n    ): void {\r\n\r\n        var maoFun = (e: Laya.Event) => {\r\n            if (maoPao && e) {\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n\r\n        if (isScale) {\r\n            btn.on(Laya.Event.MOUSE_DOWN, this, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                if (!btn[\"sx\"]) {\r\n                    btn[\"sx\"] = btn.scaleX;\r\n                }\r\n                btn.scale(btn[\"sx\"] * 0.9, btn[\"sx\"] * 0.9);\r\n            });\r\n            btn.on(Laya.Event.MOUSE_UP, this, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                if (btn[\"sx\"]) btn.scale(btn[\"sx\"], btn[\"sx\"]);\r\n            });\r\n            btn.on(Laya.Event.MOUSE_OUT, this, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                if (btn[\"sx\"]) btn.scale(btn[\"sx\"], btn[\"sx\"]);\r\n            });\r\n            btn.on(Laya.Event.MOUSE_MOVE, this, (e: Laya.Event) => {\r\n                maoFun(e);\r\n            });\r\n        }\r\n        if (clickFunc) {\r\n            btn.on(Laya.Event.CLICK, this, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                clickFunc.apply(region, data);\r\n            })\r\n        }\r\n        if (mouseDownFunc) {\r\n            btn.on(Laya.Event.MOUSE_DOWN, region, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                mouseDownFunc.apply(region);\r\n            })\r\n        }\r\n        if (music) {\r\n            btn.on(Laya.Event.MOUSE_DOWN, region, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                // MusicManager.onPlaySoundByNameAndBasePath(\"button\");\r\n            })\r\n        }\r\n        if (mouseUpFunc) {\r\n            btn.on(Laya.Event.MOUSE_UP, region, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                mouseUpFunc.apply(region);\r\n            })\r\n            btn.on(Laya.Event.MOUSE_OUT, region, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                mouseUpFunc.apply(region);\r\n            })\r\n        }\r\n        if (mouseMoveFunc) {\r\n            btn.on(Laya.Event.MOUSE_MOVE, region, (e: Laya.Event) => {\r\n                maoFun(e);\r\n                mouseMoveFunc.apply(region);\r\n            })\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * \u6839\u636E\u8DEF\u5F84\u5B57\u7B26\u4E32\u5BFB\u627E\u5BF9\u8C61\u8282\u70B9\r\n     * @param node \u6839\u8282\u70B9\r\n     * @param path \u8DEF\u52B2\r\n     * @returns \r\n     */\r\n    public static findChildByPath(node: Laya.Node, path: string) {\r\n        var arr = path.split(\"/\");\r\n        var fun = (node: Laya.Node, arr: Array<string>) => {\r\n            var childName = arr.shift();\r\n            node = node.getChildByName(childName);\r\n            if (node == null) {\r\n                return null;\r\n            }\r\n            else if (arr.length <= 0) {\r\n                return node;\r\n            }\r\n            else {\r\n                return fun(node, arr);\r\n            }\r\n        }\r\n        return fun(node, arr);\r\n    }\r\n\r\n}", "import Scene3DManager from \"./3d/Scene3DManager\";\r\nimport { FrameConfig } from \"./FrameConfig\";\r\nimport AssetsMgr, { AMConfig } from \"./loader/AssetsMgr\";\r\nimport { LoaderManager } from \"./loader/LoaderManager\";\r\nimport { ModuleConfig } from \"./module/ModuleConfig\";\r\nimport { ProxyManager } from \"./proxy/ProxyManager\";\r\nimport SDK from \"./sdk/SDK\";\r\nimport { TimeManger } from \"./time/TimeManger\";\r\nimport { TweenSystem } from \"./tween/tween-system\";\r\nimport { Tools } from \"./util/Tools\";\r\nimport { WindowManager } from \"./window/WindowManager\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('50406c91-fd4b-45fe-8db2-4160237cef47', '../src/frame/FrameMain.ts')\r\nexport abstract class FrameMain extends Laya.Script {\r\n    \r\n    /**\u52A0\u8F7D\u521B\u5EFA\u540D\u79F0 */\r\n    protected LoadingWindowName: string = \"LoadingWindow\";\r\n    /**\u5F00\u59CB\u6E38\u620F\u7A97\u53E3\u540D\uFF0C\u5373\u6E38\u620F\u52A0\u8F7D\u521D\u59CB\u5316\u5B8C\u6210\u4E4B\u540E\u6253\u5F00\u7684\u76EE\u6807\u7A97\u53E3 */\r\n    protected StartWindowName: string;\r\n    /**\u6CE8\u518C\u914D\u7F6E\u6587\u4EF6*/\r\n    protected configList: Array<string> = [];\r\n    /**\u5185\u7F6E\u914D\u7F6E\u6587\u4EF6 */\r\n    private defaultConfigList: Array<string> = [\"game_tblocalinfo\", \"game_tbconstant\"];\r\n    /**\u56FE\u96C6\u8DEF\u5F84\u6620\u5C04\u914D\u7F6E\u6587\u4EF6,\u4E0D\u6253\u5305\u56FE\u7247\u4E0D\u53EF\u653E\u5230atlas\u56FE\u96C6\u76EE\u5F55\u4E0B*/\r\n    protected atlasPathList: Array<string> = [];\r\n    /**\u9700\u8981\u6620\u5C04\u8DEF\u5F84\u6620\u5C04\u914D\u7F6E\u6587\u4EF6*/\r\n    protected mappingPathList: Array<string> = [];\r\n    /**\u5185\u7F6E\u6620\u5C04\u5730\u5740 */\r\n    private defaultBasePaths: Array<string> = [\"config\",\"resources\",\"images\", \"audio\"];\r\n    /**\u9700\u8981\u68C0\u6D4B\u7684\u8D44\u6E90\u6587\u4EF6\u8DEF\u5F84 */\r\n    protected checkAssetsPaths: Array<string> = [];\r\n\r\n    /**\u4E8B\u4EF6\u7BA1\u7406\u5668 */\r\n    private static eventMgr: Laya.EventDispatcher;\r\n    \r\n    /**\r\n     * \u521D\u59CB\u5316\u9879\u76EE\u914D\u7F6E\r\n     */\r\n    protected abstract initConfig(): any;\r\n    /**\r\n     * \u6CE8\u518C\u7A97\u53E3\u6A21\u5757\r\n     */\r\n    protected abstract initMudule(): any;\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u6A21\u5757\r\n     */\r\n    protected abstract initProxy(): any;\r\n\r\n    /**\r\n     * \u8D44\u6E90\u3001\u914D\u7F6E\u7B49\u5168\u90E8\u51C6\u5907\u5B8C\u6210\uFF0C\u521D\u59CB\u5316\u5916\u90E8\u5B8C\u6210\u56DE\u8C03\r\n     * @param callBack \u521D\u59CB\u5316\u5916\u90E8\u7684\u5B8C\u6210\u540E\u56DE\u8C03\u65B9\u6CD5\r\n     * @param caller \u56DE\u8C03\u6267\u884C\u57DF\r\n     */\r\n    protected loadFinishInitOutEvent() {\r\n        this.allInitFinish();\r\n    }\r\n\r\n    onAwake(): void {\r\n        this.initConfig();\r\n        this.initProxy();\r\n        this.initMudule();\r\n        if (!ModuleConfig.hasModule(this.LoadingWindowName)) {\r\n            console.error(this.LoadingWindowName, \"\u5FC5\u987B\u6CE8\u518C\uFF0C\u4E0D\u80FD\u4E3A\u7A7A\");\r\n            return;\r\n        }\r\n        if (!this.securityEvent()) return;\r\n        if (!this.StartWindowName) {\r\n            console.error(\"\u542F\u52A8\u7A97\u53E3\u4E3A\u7A7A\uFF01\u68C0\u67E5frame/FrameMain.ts\u4E2D\u7684StartWindowName\u3002\");\r\n            return;\r\n        }\r\n        this.initBasePath();\r\n        this.initModuleEvent();\r\n    }\r\n\r\n    // \u8BBE\u7F6E\u6620\u5C04\u5730\u5740\r\n    private initBasePath() {\r\n        if (FrameConfig.cdn) return;\r\n        if (!AMConfig.UseMainZip && AMConfig.UseSubPackge) return;\r\n        let basePaths: any = {};\r\n        this.defaultBasePaths = this.defaultBasePaths.concat(this.mappingPathList);\r\n        for (let item of this.defaultBasePaths) {\r\n            basePaths[item] = FrameConfig.basePath;\r\n        }\r\n        for (let item of this.atlasPathList) {\r\n            basePaths[item + \".\"] = FrameConfig.basePath;\r\n            basePaths[item + \"_\"] = FrameConfig.basePath;\r\n        }\r\n        Laya.URL.basePaths = basePaths;\r\n    }\r\n\r\n    private initModuleEvent() {\r\n        // \u590D\u5236\u8282\u70B9\r\n        FrameConfig.rootNode = this.owner.parent;\r\n        // \u521B\u5EFA\u6D88\u606F\u5BF9\u8C61\r\n        FrameMain.eventMgr = new Laya.EventDispatcher();\r\n        // \u521D\u59CB\u5316ui\u6846\u67B6\r\n        WindowManager.Inst.init(this.owner);\r\n        // \u6253\u5F00\u52A0\u8F7D\u754C\u9762\r\n        WindowManager.Inst.openWindow(this.LoadingWindowName);\r\n        // \u521D\u59CB\u5316\u8D44\u6E90\u76EE\u5F55\u3001\u7248\u672C\u53F7\r\n        AssetsMgr.Inst.Init(this.checkAssetsPaths);\r\n        // \u62C9\u53D6\u8D44\u6E90\u5305\r\n        AssetsMgr.Inst.LoadAseets(this.loadZipCallBack, this);\r\n        // \u521D\u59CB\u5316\u7F13\u52A8\r\n        TweenSystem.Init();\r\n        // \u521D\u59CB\u53163d\u573A\u666F\u7BA1\u7406\u5668\r\n        Scene3DManager.Inst<Scene3DManager>().init();\r\n    }\r\n\r\n    // \u62C9\u53D6\u8D44\u6E90\u5305\u5B8C\u6210\u56DE\u8C03\r\n    private loadZipCallBack() {\r\n        FrameConfig.LoadingInitPro = 75;\r\n        this.configList = this.configList.concat(this.defaultConfigList);\r\n        LoaderManager.init(this.configList).then(() => {this.initGlobalFuntion()});\r\n    }\r\n\r\n    // \u5904\u7406\u5E38\u7528\u5168\u5C40\u65B9\u6CD5\r\n    private initGlobalFuntion() {\r\n        // \u6CE8\u518C\u5168\u5C40\u65B9\u6CD5\r\n        (window as any)[\"onClick\"] = Tools.onClick;\r\n        (window as any)[\"openWindow\"] = this.openWindow;\r\n        (window as any)[\"closeWindow\"] = this.closeWindow;\r\n        (window as any)[\"isShowWin\"] = this.isShowWin;\r\n        (window as any)[\"getWinScript\"] = this.getWinScript;\r\n        (window as any)[\"addEvent\"] = this.addEvent;\r\n        (window as any)[\"offEvent\"] = this.offEvent;\r\n        (window as any)[\"offAllEvent\"] = this.offAllEvent;\r\n        (window as any)[\"sendEvent\"] = this.sendEvent;\r\n        \r\n        // \u6CE8\u518C\u5185\u7F6E\u7CFB\u7EDF\u6A21\u5757\r\n        // \u521D\u59CB\u5316\u65F6\u95F4\r\n        TimeManger.Inst<TimeManger>().init();\r\n        // \u521D\u59CB\u5316\u4EE3\u7406\r\n        ProxyManager.Inst<ProxyManager>().init();\r\n        // \u521D\u59CB\u5316SDk\r\n        SDK.Init();\r\n\r\n        // \u521D\u59CB\u5316\u5916\u90E8\r\n        this.loadFinishInitOutEvent();\r\n    }\r\n\r\n    // \u5B8C\u6210\u56DE\u8C03\r\n    allInitFinish() {\r\n        this.openStartWindow();\r\n    }\r\n\r\n    // \u521D\u59CB\u5316\u5B8C\u6210\u90FD\u8FDB\u53BB\u6307\u5B9A\u7A97\u53E3\r\n    private openStartWindow() {\r\n        WindowManager.Inst.openWindow(this.StartWindowName, null, null, this, () => {\r\n            FrameConfig.LoadingInitPro = 100;\r\n        });\r\n    }\r\n\r\n    isShowWin(winName: string) {\r\n        return WindowManager.Inst.isShowWin(winName);\r\n    }\r\n\r\n    getWinScript(winName: string) {\r\n        return WindowManager.Inst.getWinScript(winName);\r\n    }\r\n\r\n    async openWindow(winName: string, args?: any[], closeCallBack?: Function, closeCallBackCaller?: any) {\r\n        return await WindowManager.Inst.openWindow(winName, args, closeCallBack, closeCallBackCaller);\r\n    }\r\n\r\n    closeWindow(winName: string, args?: any[]) {\r\n        WindowManager.Inst.closeWindow(winName, args);\r\n    }\r\n\r\n    addEvent(event: string, caller: any, callFun: Function, args?: any[]){\r\n        FrameMain.eventMgr.on(event, caller, callFun, args);\r\n    }\r\n\r\n    sendEvent(event: string, data?: any) {\r\n        FrameMain.eventMgr.event(event, data);\r\n    }\r\n\r\n    offEvent(event: string, caller: any, callFun: Function) {\r\n        FrameMain.eventMgr.off(event, caller, callFun);\r\n    }\r\n\r\n    offAllEvent(caller: any) {\r\n        FrameMain.eventMgr.offAllCaller(caller);\r\n    }\r\n\r\n    securityEvent() {\r\n        if (!Laya.Browser._isMiniGame) return true;\r\n        if (Laya.Browser.onMiniGame) {\r\n            let sceneId = FrameConfig.sceneId + \"\";\r\n            if (FrameConfig.debugSceneIdList.indexOf(sceneId) != -1 || FrameConfig.securitySceneIdList.indexOf(sceneId) != -1) {\r\n                let temp: string = FrameConfig.platform.getAccountInfoSync().miniProgram.appId.toString();\r\n                return temp.slice(2) == FrameConfig.wxId;\r\n            }\r\n            return true;\r\n        }\r\n        else if (Laya.Browser.onVVMiniGame || Laya.Browser.onQGMiniGame) {\r\n        }\r\n        else if (Laya.Browser.onQQMiniGame) {\r\n        }\r\n        else if (Laya.Browser.onTTMiniGame) {\r\n        }\r\n        return false;\r\n    }\r\n\r\n}", "export class MusicManager {\r\n\r\n    // \u8D44\u6E90\u6839\u76EE\u5F55\r\n    public static MusicBasePath: string = \"resources/audio/\";\r\n    \r\n    /**\u64AD\u653E\u97F3\u6548 */\r\n    public static onPlaySound(name: string, base: string = this.MusicBasePath) {\r\n        Laya.SoundManager.playSound(base + name + \".mp3\", 1);\r\n    }\r\n\r\n    /**\u64AD\u653E\u97F3\u6548 */\r\n    public static onPlaySoundByNameAndBasePath(name: string, base: string = this.MusicBasePath) {\r\n        Laya.SoundManager.playSound(base + name + \".mp3\", 1);\r\n    }\r\n\r\n    /**\u64AD\u653E\u80CC\u666F\u97F3\u4E50 */\r\n    public static onPlayMusic(path: string, base: string = this.MusicBasePath) {\r\n        Laya.SoundManager.playMusic(base + path + \".mp3\", 0);\r\n    }\r\n\r\n    /**\u505C\u6B62\u64AD\u653E\u80CC\u666F\u97F3\u4E50 */\r\n    public static onStopMusic() {\r\n        Laya.SoundManager.stopMusic();\r\n    }\r\n\r\n    /**\u8C03\u8282\u97F3\u6548\u97F3\u91CF */\r\n    public static set SoundVolume(volume: number) {\r\n        Laya.SoundManager.setSoundVolume(volume);\r\n    }\r\n\r\n    public static get SoundVolume(): number {\r\n        return Laya.SoundManager.soundVolume;\r\n    }\r\n\r\n    /**\u8C03\u8282\u80CC\u666F\u97F3\u91CF */\r\n    public static set MusicVolume(volume: number) {\r\n        Laya.SoundManager.setMusicVolume(volume);\r\n    }\r\n\r\n    public static get MusicVolume(): number {\r\n        return Laya.SoundManager.musicVolume;\r\n    }\r\n\r\n    /**\u8BBE\u7F6E\u662F\u5426\u4E3A\u9759\u97F3 */\r\n    public static set IsMusicState(boo: boolean) {\r\n        Laya.SoundManager.musicMuted = boo;\r\n    }\r\n\r\n    public static get IsMusicState(): boolean {\r\n        return Laya.SoundManager.musicMuted;\r\n    }\r\n\r\n    /**\u8BBE\u7F6E\u97F3\u6548\u662F\u5426\u4E3A\u9759\u97F3 */\r\n    public static set IsSoundState(boo: boolean) {\r\n        Laya.SoundManager.soundMuted = boo;\r\n    }\r\n\r\n    public static get IsSoundState(): boolean {\r\n        return Laya.SoundManager.soundMuted;\r\n    }\r\n\r\n}\r\n\r\n", "import { FrameConfig } from \"../frame/FrameConfig\";\r\nimport { FrameMain } from \"../frame/FrameMain\";\r\nimport DataUtils, { DataType } from \"../frame/data/DataUtils\";\r\nimport AssetsMgr, { AMConfig } from \"../frame/loader/AssetsMgr\";\r\nimport { LoaderManager } from \"../frame/loader/LoaderManager\";\r\nimport { ModuleConfig } from \"../frame/module/ModuleConfig\";\r\nimport { MusicManager } from \"../frame/music/MusicManager\";\r\nimport { ProxyManager } from \"../frame/proxy/ProxyManager\";\r\nimport SDK from \"../frame/sdk/SDK\";\r\nimport { SDKConfig } from \"../frame/sdk/SDKConfig\";\r\nimport { CloseType, LayerType } from \"../frame/window/WindowManager\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('489843f4-77f7-428f-83eb-8236aa329fd8', '../src/game/Start.ts')\r\nexport class Start extends FrameMain {\r\n\r\n    protected initConfig() {\r\n        \r\n        AMConfig.CacheVersion = \"1.1.5\";\r\n        AMConfig.UseSubPackge = false;\r\n        AMConfig.forceClearCaChe = true;\r\n        FrameConfig.cdn = false;\r\n        this.StartWindowName = \"MainWindow\";\r\n        // this.StartWindowName = \"MainWindow\";\r\n        this.configList = [\r\n            // \"game_tblevel\",\r\n            // \"game_tbtube\",\r\n            // \"game_tbballskin\",\r\n            // \"game_tbgamebg\",\r\n            // \"game_tbshop\",\r\n            // \"game_tbshopitem\",\r\n            // \"game_tbchallengelevel\",\r\n            // \"game_tbsignin\",\r\n            // \"game_tbitem\",\r\n            // \"game_tbcompetition\"\r\n        ];\r\n        this.atlasPathList = [\r\n            \"atlas/comp\",\r\n        ];\r\n        this.mappingPathList = [\r\n\r\n        ];\r\n        FrameConfig.version = \"1.0.0\";\r\n\r\n    }\r\n\r\n\r\n    // \u6CE8\u518C\r\n    protected initMudule() {\r\n        ModuleConfig.register(this.LoadingWindowName, \"resources/view/loading/LoadingWindow.lh\", LayerType.top);\r\n        ModuleConfig.register(\"MainWindow\", \"resources/view/main/MainWindow.lh\");\r\n        ModuleConfig.register(\"MainMenuWindow\", \"resources/view/main/MainMenuWindow.lh\");\r\n\r\n        // \u5F00\u5FC3\u901A\u5173\r\n        ModuleConfig.register(\"RepairWindow\", \"resources/view/kxtg/RepairWindow.lh\");\r\n    }\r\n\r\n    protected initProxy() {\r\n    }\r\n\r\n    protected loadFinishInitOutEvent() {\r\n        this.addEvent(\"VIDEO_CLOSE_PLAYER_BGM\", this, this.playBgm);\r\n        this.initMusicState();\r\n        this.playBgm();\r\n        this.allInitFinish();\r\n        this.closeWindow(this.LoadingWindowName);\r\n    }\r\n\r\n    // \u521D\u59CB\u5316\u97F3\u4E50\u72B6\u6001\r\n    private initMusicState() {\r\n        MusicManager.IsSoundState = DataUtils.getLocalInfo<number>(\"soundState\") == 0;\r\n        MusicManager.IsMusicState = DataUtils.getLocalInfo<number>(\"musicState\") == 0;\r\n        SDK.canVibrate = DataUtils.getLocalInfo<number>(\"vibrateState\") == 1;\r\n    }\r\n\r\n    private playBgm() {\r\n        MusicManager.onStopMusic();\r\n        MusicManager.MusicVolume = 0.3;\r\n        // MusicManager.onPlayMusic(MusicPath.bgm);\r\n    }\r\n\r\n}", "import { Ray } from \"../collision/ray/Ray\";\r\n\r\n\r\n\r\nexport abstract class ShapeBase {\r\n\r\n    centerX: number;\r\n    centerY: number;\r\n\r\n    anchorX: number = 0;\r\n    anchorY: number = 0;\r\n\r\n    owner: Laya.Sprite;\r\n\r\n    constructor(owner:any, centerX: number, centerY: number) {\r\n        this.owner = owner;\r\n        this.centerX = centerX;\r\n        this.centerY = centerY;\r\n    }\r\n\r\n    setPos(centerX: number, centerY: number) {\r\n        this.centerX = centerX;\r\n        this.centerY = centerY;\r\n    }\r\n\r\n    // abstract checkIntersection(ray: Ray): { intersect: boolean; point?: Laya.Point };\r\n\r\n}", "import { ShapeBase } from \"./ShapeBase\";\r\n\r\nexport class Circle extends ShapeBase {\r\n\r\n\r\n    /**\u5706\u7684\u534A\u5F84 */\r\n    radius: number;\r\n\r\n    constructor(owner: Laya.Sprite, centerX: number, centerY: number, radius: number) {\r\n        super(owner, centerX, centerY);\r\n        this.radius = radius;\r\n    }\r\n\r\n\r\n}", "import { ShapeBase } from \"./ShapeBase\";\r\n\r\n/**\u77E9\u5F62 */\r\nexport class Rectangle extends ShapeBase {\r\n\r\n    width: number;\r\n    height: number;\r\n    angle: number;\r\n\r\n    constructor(owner: Laya.Sprite, centerX: number, centerY: number, width: number, height: number, angle: number = 0) {\r\n        super(owner, centerX, centerY);\r\n        this.width = width;\r\n        this.height = height;\r\n        this.angle = angle;\r\n    }\r\n\r\n    setSize(width: number, height?: number) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    get minX() {\r\n        return this.centerX - this.width / 2\r\n    }\r\n\r\n    get maxX() {\r\n        return this.centerX + this.width / 2\r\n    }\r\n\r\n    get minY() {\r\n        return this.centerY - this.height / 2;\r\n    }\r\n\r\n    get maxY() {\r\n        return this.centerY + this.height / 2;\r\n    }\r\n    \r\n}", "export class MathUtils {\r\n\r\n    /**\r\n     * \u4E8C\u9636\u8D1D\u585E\u5C14\u66F2\u7EBF\r\n     * @param P0 \u8D77\u70B9\r\n     * @param P1 \u9AD8\u70B9\r\n     * @param P2 \u7EC8\u70B9\r\n     * @param timer \u65F6\u95F4 0\u52301\r\n     * @param result \u5B9E\u65F6\u4F4D\u7F6E\r\n     * @param XAngle X\u8F74\u7684\u89D2\u5EA6\r\n     */\r\n    public static twoBezierCurve(P0: Laya.Vector3, P1: Laya.Vector3, P2: Laya.Vector3, timer: number, result: Laya.Vector3, XAngle: boolean = false) {\r\n        result.x = Math.pow((1 - timer), 2) * P0.x + 2 * timer * (1 - timer) * P1.x + Math.pow(timer, 2) * P2.x;\r\n        result.y = Math.pow((1 - timer), 2) * P0.y + 2 * timer * (1 - timer) * P1.y + Math.pow(timer, 2) * P2.y;\r\n        result.z = Math.pow((1 - timer), 2) * P0.z + 2 * timer * (1 - timer) * P1.z + Math.pow(timer, 2) * P2.z;\r\n        if (XAngle) {\r\n            var P01 = new Laya.Vector3((1 - timer) * P0.x + timer * P1.x, (1 - timer) * P0.y + timer * P1.y, (1 - timer) * P0.z + timer * P1.z);\r\n            var P11 = new Laya.Vector3((1 - timer) * P1.x + timer * P2.x, (1 - timer) * P1.y + timer * P2.y, (1 - timer) * P1.z + timer * P2.z);\r\n            Laya.Vector3.subtract(P11, P01, P01);\r\n            return Math.atan2(P01.y, P01.z) * (180 / Math.PI);\r\n        }\r\n    }\r\n\r\n    /**\u8BA1\u7B97\u4E8C\u7EF4\u5411\u91CF\u7684\u89D2\u5EA6 */\r\n    static getAngleByVec2(v2: Laya.Vector2 | Laya.Point) {\r\n        return Math.atan2(v2.x, v2.y) * (180 / Math.PI);\r\n    }\r\n\r\n    /**\r\n     * \u6C42\u4E24v2\u5411\u91CF\u7684\u8DDD\u79BB vc2_1 - vc2_2   \u8FD4\u56DE\u8DDD\u79BB\uFF08Number\uFF09\r\n     * @param vc2_1 \r\n     * @param vc2_2 \r\n     */\r\n    static Vc2Distance(vc2_1: Laya.Vector2 | Laya.Point, vc2_2: Laya.Vector2 | Laya.Point): number {\r\n        let _diff = new Laya.Vector2(vc2_1.x - vc2_2.x, vc2_1.y - vc2_2.y);\r\n        let _distance = Math.sqrt(Math.pow(_diff.x, 2) + Math.pow(_diff.y, 2));\r\n        return _distance;\r\n    }\r\n\r\n    /**\r\n     * \u6C42\u4E24v2\u5411\u91CF\u7684\u8DDD\u79BB vc2_1 - vc2_2   \u8FD4\u56DE\u8DDD\u79BB\uFF08Number\uFF09\u4E0D\u5F00\u65B9\r\n     * @param vc2_1 \r\n     * @param vc2_2 \r\n     */\r\n    static Vc2Distance2(vc2_1: Laya.Vector2 | Laya.Point, vc2_2: Laya.Vector2 | Laya.Point): number {\r\n        let _diff = new Laya.Vector2(vc2_1.x - vc2_2.x, vc2_1.y - vc2_2.y);\r\n        return Math.pow(_diff.x, 2) + Math.pow(_diff.y, 2);\r\n    }\r\n\r\n    /**\r\n     * \u5411\u91CF\u7684\u70B9\u79EF\r\n     * @param vectorA \r\n     * @param vectorB \r\n     * @returns \r\n     */\r\n    static dotProduct(vectorA: Laya.Vector2 | Laya.Point, vectorB: Laya.Vector2 | Laya.Point): number {\r\n        return vectorA.x * vectorB.x + vectorA.y * vectorB.y;\r\n    }\r\n\r\n    /**\r\n     * \u5411\u91CF\u7684\u6A21\u957F\r\n     * @param vector \r\n     * @returns \r\n     */\r\n    static magnitude(vector: Laya.Vector2 | Laya.Point): number {\r\n        return Math.sqrt(vector.x * vector.x + vector.y * vector.y);\r\n    }\r\n\r\n    /**\u6C42\u4E24\u4E2A\u5411\u91CF\u7684\u5939\u89D2 */\r\n    static angleBetween(vectorA: Laya.Vector2 | Laya.Point, vectorB: Laya.Vector2 | Laya.Point): number {\r\n        let dotProductValue = this.dotProduct(vectorA, vectorB);\r\n        let magnitudeA = this.magnitude(vectorA);\r\n        let magnitudeB = this.magnitude(vectorB);\r\n        let cosTheta = dotProductValue / (magnitudeA * magnitudeB);\r\n        return Math.acos(cosTheta) * (180 / Math.PI); // \u5C06\u5F27\u5EA6\u8F6C\u6362\u4E3A\u89D2\u5EA6\r\n    }\r\n\r\n    /**\r\n     * \u6839\u636E\u5411\u91CF\u83B7\u5F97\u6CD5\u7EBF\r\n     * @param vector \u5411\u91CF\r\n     * @returns \u8FD4\u56DE\u4E00\u4E2A\u987A\u65F6\u9488\u65CB\u8F6C\u7684\u6CD5\u5411\u91CF\r\n     */\r\n    static calculateNormalVector(vector: Laya.Point, createNew: boolean = false): Laya.Point {\r\n        if (createNew) {\r\n            return new Laya.Point(vector.y, -vector.x);\r\n        }\r\n        let temp = vector.y;\r\n        vector.y = -vector.x;\r\n        vector.x = temp;\r\n        return vector;\r\n    }\r\n\r\n    /**\r\n     * \u83B7\u5F97\u53CD\u5411\u7684\u5411\u91CF\r\n     * @param vector \u9700\u8981\u53CD\u5411\u7684\u5411\u91CF\r\n     * @returns \r\n     */\r\n    static getReverseVector(vector: Laya.Point) {\r\n        vector.x = -vector.x;\r\n        vector.y = -vector.y;\r\n        return vector;\r\n    }\r\n\r\n}", "import { Rectangle } from \"../../base/Rectangle\";\r\nimport { Singleton } from \"../../base/Singleton\";\r\nimport { MathUtils } from \"../../util/MathUtils\";\r\nimport { Ray } from \"./Ray\";\r\nimport { Intersection, ShapeScipt } from \"./ShapeScript\";\r\n\r\nexport class RayManager extends Singleton {\r\n\r\n    private shapeBaseList: Map<number, Array<ShapeScipt>>\r\n\r\n    constructor() {\r\n        super();\r\n        this.shapeBaseList = new Map();\r\n    }\r\n\r\n    /**\u6CE8\u518C */\r\n    register(script: ShapeScipt) {\r\n        let list = this.shapeBaseList.get(script.group);\r\n        if (!list) list = [];\r\n        if (list.indexOf(script) != -1) return;\r\n        list.push(script);\r\n        this.shapeBaseList.set(script.group, list);\r\n    }\r\n\r\n    /**\u5220\u9664\u6CE8\u518C\u5F62\u72B6 */;\r\n    delete(script: ShapeScipt) {\r\n        let list = this.shapeBaseList.get(script.group);\r\n        if (!list) return;\r\n        let index = list.indexOf(script);\r\n        if (index == -1) return;\r\n        list.splice(index, 1);\r\n        this.shapeBaseList.set(script.group, list);\r\n    }\r\n\r\n    /**\u68C0\u6D4B\u5E76\u8FD4\u56DE\u6240\u6709\u68C0\u6D4B\u5230\u7684\u5BF9\u8C61 */\r\n    checkCollisionAll(ray: Ray){\r\n        let list = this.shapeBaseList.get(ray.group);\r\n        if (!list) return;\r\n        let result: Array<Intersection> = [];\r\n        let temp;\r\n        for (let item of list) {\r\n            temp = item.checkIntersection(ray);\r\n            if (temp.result) result.push(temp);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\u68C0\u6D4B\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u68C0\u6D4B\u5230\u7684\u5BF9\u8C61 */\r\n    checkCollisionFirst(ray: Ray, list?: Array<Intersection>) {\r\n        list = list || this.checkCollisionAll(ray);\r\n        if (!list || list.length == 0) return;\r\n        let dis = Number.MAX_VALUE;\r\n        let result: Intersection;\r\n        let tempDis: number;\r\n        for(let item of list) {\r\n            tempDis = MathUtils.Vc2Distance2(item.intersectionPoint, ray.start);\r\n            if (tempDis > dis) continue;\r\n            dis = tempDis;\r\n            result = item;\r\n        }\r\n        result.distance = Math.sqrt(dis);\r\n        return result;\r\n    }\r\n\r\n}", "import { Circle } from \"../../base/Circle\";\r\nimport { Rectangle } from \"../../base/Rectangle\";\r\nimport { ShapeBase } from \"../../base/ShapeBase\";\r\nimport Log from \"../../log/Log\";\r\nimport { MathUtils } from \"../../util/MathUtils\";\r\nimport { Ray } from \"./Ray\";\r\nimport { RayManager } from \"./RayManager\";\r\n\r\nlet { regClass, property } = Laya;\r\n\r\n\r\n/**\r\n * \u5C04\u7EBF\u4E0E\u77E9\u5F62\u76F8\u4EA4\u68C0\u6D4B\u7ED3\u679C\u63A5\u53E3\r\n */\r\nexport interface Intersection {\r\n    /**\u662F\u5426\u76F8\u4EA4\u7684\u5E03\u5C14\u503C */\r\n    result: boolean;\r\n    /**\u76F8\u4EA4\u70B9\u7684\u5168\u5C40\u5750\u6807\uFF08\u5982\u679C\u76F8\u4EA4\uFF09 */\r\n    intersectionPoint?: Laya.Point;\r\n    /**\u76F8\u4EA4\u70B9\u6240\u5C5E\u7684\u77E9\u5F62\u5BF9\u8C61\uFF08\u5982\u679C\u76F8\u4EA4\uFF09 */\r\n    owner?: Laya.Sprite;\r\n    /**\u4EA4\u70B9\u8DDD\u79BB */\r\n    distance?: number;\r\n    /**\u6CD5\u7EBF */\r\n    normal?: Laya.Point;\r\n    /**\u53CD\u5C04\u5411\u91CF */\r\n    reflexVector?: Laya.Point;\r\n}\r\n\r\nenum ShapeType {\r\n    /**\u77E9\u5F62 */\r\n    Rectangle = 0,\r\n    /**\u5706\u5F62 */\r\n    Circle = 1\r\n}\r\n\r\n@regClass('4e1c4044-08f7-4814-8b7d-f00a5b994c38', '../src/frame/collision/ray/ShapeScript.ts')\r\nexport class ShapeScipt extends Laya.Script {\r\n\r\n    owner: Laya.Sprite;\r\n\r\n    @property({ tips: \"\u662F\u5426\u5728onAwake\u521D\u59CB\u5316Shape\", type: Boolean })\r\n    public onAwakeInit: boolean = true;\r\n    @property({ tips: \"\u5206\u7EC4\uFF0C\u9ED8\u8BA4\u662F1\", type: Number })\r\n    public group: number = 1;\r\n    @property({ tips: \"\u78B0\u649E\u5F62\u72B6\", type: ShapeType, catalog: \"shapeInfo\", catalogCaption: \"\u7C7B\u578B\" })\r\n    public shapeType: ShapeType = ShapeType.Rectangle;\r\n    @property({ tips: \"\u77E9\u5F62\u5BBD\", type: Number, caption: \"width\", hidden: \"data.shapeType != 0\", catalog: \"shapeInfo\" })\r\n    public rectangleWidth: number = 0;\r\n    @property({ tips: \"\u77E9\u5F62\u9AD8\", type: Number, caption: \"height\", hidden: \"data.shapeType != 0\", catalog: \"shapeInfo\" })\r\n    public rectangleHeight: number = 0;\r\n    @property({ tips: \"\u5706\u534A\u5F84\", type: Number, caption: \"radius\", hidden: \"data.shapeType != 1\", catalog: \"shapeInfo\" })\r\n    public circleRadius: number = 0;\r\n\r\n    public shape: any;\r\n\r\n    /**\u662F\u5426\u5DF2\u7ECF\u6CE8\u518C */\r\n    private isRegister: boolean = false;\r\n\r\n    onAwake(): void {\r\n        this.register();\r\n        if (this.onAwakeInit) this.refreshShapeInfo();\r\n    }\r\n\r\n    register() {\r\n        if (this.isRegister) return;\r\n        this.isRegister = true;\r\n        RayManager.Inst<RayManager>().register(this);\r\n    }\r\n\r\n    refreshShapeInfo() {\r\n        let pos = new Laya.Point(this.owner.x, this.owner.y);\r\n        pos = (this.owner.parent as any).localToGlobal(pos);\r\n        let anchorXfactor = this.owner.anchorX <= 0.5 ? Math.abs(this.owner.anchorX - 0.5) : -(this.owner.anchorX - 0.5);\r\n        let anchorYfactor = this.owner.anchorY <= 0.5 ? Math.abs(this.owner.anchorY - 0.5) : -(this.owner.anchorY - 0.5);\r\n        let cX = pos.x + anchorXfactor * this.owner.width;\r\n        let cY = pos.y + anchorYfactor * this.owner.height;\r\n        switch (this.shapeType) {\r\n            case ShapeType.Rectangle:\r\n                let cW = this.rectangleWidth || this.owner.width;\r\n                let cH = this.rectangleWidth || this.owner.height;\r\n                if (this.shape) {\r\n                    (this.shape as Rectangle).setPos(cX, cY);\r\n                    (this.shape as Rectangle).setSize(cW, cH);\r\n                }\r\n                else {\r\n                    this.shape = new Rectangle(this.owner, cX, cY, cW, cH);\r\n                }\r\n                break;\r\n            case ShapeType.Circle:\r\n                let cR = this.circleRadius || this.owner.width / 2;\r\n                if (this.shape) {\r\n                    (this.shape as Circle).setPos(cX, cY);\r\n                    (this.shape as Circle).radius = cR;\r\n                }\r\n                else {\r\n                    this.shape = new Circle(this.owner, cX, cY, cR);\r\n                }\r\n                break;\r\n        }\r\n        this.register();\r\n    }\r\n\r\n    onDestroy(): void {\r\n        this.deleteEvent();\r\n    }\r\n\r\n    deleteEvent() {\r\n        this.isRegister = false;\r\n        RayManager.Inst<RayManager>().delete(this);\r\n    }\r\n\r\n    checkIntersection(ray: Ray) {\r\n        if (this.shape == null) {\r\n            Log.error(\"\u672A\u521D\u59CB\u5316refreshShapeInfo:\" + this.owner.name);\r\n            return { result: false };\r\n        }\r\n        switch (this.shapeType) {\r\n            case ShapeType.Rectangle:\r\n                return this.isLineIntersectRectangle(ray, this.shape);\r\n            case ShapeType.Circle:\r\n                return this.isRayIntersectCircle(ray, this.shape);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * \u5C04\u7EBF\u4E0E\u77E9\u5F62\u76F8\u4EA4\u68C0\u6D4B\u51FD\u6570\r\n     * @param ray \u5C04\u7EBF\u5BF9\u8C61\r\n     * @param rec \u77E9\u5F62\u5BF9\u8C61\r\n     * @returns \u76F8\u4EA4\u68C0\u6D4B\u7ED3\u679C\uFF0C\u5305\u542B\u662F\u5426\u76F8\u4EA4\u7684\u5E03\u5C14\u503C\u3001\u76F8\u4EA4\u70B9\u5750\u6807\uFF08\u5982\u679C\u76F8\u4EA4\uFF09\u4EE5\u53CA\u76F8\u4EA4\u70B9\u6240\u5C5E\u7684\u77E9\u5F62\u5BF9\u8C61\uFF08\u5982\u679C\u76F8\u4EA4\uFF09\r\n     */\r\n    isLineIntersectRectangle(ray: Ray, rec: Rectangle): Intersection {\r\n        let linePoint1 = ray.start;\r\n        let linePoint2 = ray.direction;\r\n\r\n        let intersectionPoint: Laya.Point;\r\n        let tempPoint: Laya.Point;\r\n\r\n        let recPointList = [\r\n            new Laya.Point(rec.minX, rec.minY),\r\n            new Laya.Point(rec.maxX, rec.minY),\r\n            new Laya.Point(rec.maxX, rec.maxY),\r\n            new Laya.Point(rec.minX, rec.maxY)\r\n        ]\r\n\r\n        let intersectionPointLineStart: Laya.Point;\r\n        let intersectionPointLineEnd: Laya.Point;\r\n        // \u5224\u65AD\u7EBF\u6BB5\u662F\u5426\u4E0E\u77E9\u5F62\u7684\u56DB\u6761\u8FB9\u76F8\u4EA4\uFF0C\u5982\u679C\u76F8\u4EA4\u5219\u8BA1\u7B97\u4EA4\u70B9\r\n        for (let i = 0; i < recPointList.length; i++) {\r\n            let p1 = recPointList[i];\r\n            let p2 = recPointList[(i + 1) >= recPointList.length ? 0 : i + 1];\r\n            if (this.isLineIntersect(linePoint1, linePoint2, p1, p2)) {\r\n                tempPoint = this.calculateIntersectionPoint(linePoint1, linePoint2, p1, p2);\r\n                if (!intersectionPoint){\r\n                    intersectionPoint = tempPoint;\r\n                    intersectionPointLineStart = p1;\r\n                    intersectionPointLineEnd = p2;\r\n                }\r\n                else if (MathUtils.Vc2Distance2(linePoint1, tempPoint) < MathUtils.Vc2Distance2(linePoint1, intersectionPoint)){\r\n                    intersectionPointLineStart = p1;\r\n                    intersectionPointLineEnd = p2;\r\n                    intersectionPoint = tempPoint;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (intersectionPoint) {\r\n\r\n            // \u5224\u65AD\u4EA4\u70B9\u662F\u5426\u5728\u5C04\u7EBF\u65B9\u5411\u4E0A\r\n            let dx = linePoint2.x - linePoint1.x;\r\n            let dy = linePoint2.y - linePoint1.y;\r\n            let dotProduct = dx * (intersectionPoint.x - linePoint1.x) + dy * (intersectionPoint.y - linePoint1.y);\r\n\r\n            // \u8BA1\u7B97\u6CD5\u7EBF\r\n            let rayDis = new Laya.Point(dx, dy);\r\n            let normal = MathUtils.calculateNormalVector(new Laya.Point(intersectionPointLineEnd.x - intersectionPointLineStart.x, intersectionPointLineEnd.y - intersectionPointLineStart.y));\r\n            let angle = MathUtils.angleBetween(rayDis, normal);\r\n            if (angle < 90) {\r\n                normal = MathUtils.getReverseVector(normal);\r\n                angle = MathUtils.angleBetween(rayDis, normal);\r\n            }\r\n            let v2 = new Laya.Vector2(normal.x, normal.y);\r\n            Laya.Vector2.normalize(v2, v2)\r\n            normal.x = v2.x;\r\n            normal.y = v2.y;\r\n\r\n            // \u8BA1\u7B97\u53CD\u5C04\u5411\u91CF R = I - 2(I\u70B9\u79EFN)N \uFF0CI\u5165\u5C04\u5411\u91CF\u3001N\u6CD5\u5411\u91CF\r\n            let reflexVector: Laya.Point;\r\n            if (ray.needReflexVector) {\r\n                let temp = MathUtils.dotProduct(rayDis, normal) * 2;\r\n                let p = new Laya.Point(normal.x, normal.y);\r\n                p.x *= temp;\r\n                p.y *= temp;\r\n                reflexVector = new Laya.Point(rayDis.x - p.x, rayDis.y - p.y);\r\n            }\r\n\r\n            if (dotProduct >= 0) {\r\n                // \u4EA4\u70B9\u5728\u5C04\u7EBF\u65B9\u5411\u4E0A\uFF0C\u4E14\u5728\u77E9\u5F62\u5185\u90E8\r\n                return { result: true, intersectionPoint: intersectionPoint, owner: rec.owner, normal: normal, reflexVector: reflexVector};\r\n            }\r\n        }\r\n\r\n        // \u6CA1\u6709\u4EA4\u70B9\u6216\u4EA4\u70B9\u4E0D\u5728\u5C04\u7EBF\u65B9\u5411\u4E0A\r\n        return { result: false };\r\n    }\r\n\r\n    /**\r\n     * \u5224\u65AD\u4E24\u6761\u7EBF\u6BB5\u662F\u5426\u76F8\u4EA4\r\n     * @param p1 \u7EBF\u6BB51\u7684\u8D77\u70B9\r\n     * @param p2 \u7EBF\u6BB51\u7684\u7EC8\u70B9\r\n     * @param p3 \u7EBF\u6BB52\u7684\u8D77\u70B9\r\n     * @param p4 \u7EBF\u6BB52\u7684\u7EC8\u70B9\r\n     * @returns \u662F\u5426\u76F8\u4EA4\u7684\u5E03\u5C14\u503C\r\n     */\r\n    isLineIntersect(p1: Laya.Point, p2: Laya.Point, p3: Laya.Point, p4: Laya.Point): boolean {\r\n        let v1 = this.crossProduct(new Laya.Point(p4.x - p3.x, p4.y - p3.y), new Laya.Point(p1.x - p3.x, p1.y - p3.y));\r\n        let v2 = this.crossProduct(new Laya.Point(p4.x - p3.x, p4.y - p3.y), new Laya.Point(p2.x - p3.x, p2.y - p3.y));\r\n        let v3 = this.crossProduct(new Laya.Point(p2.x - p1.x, p2.y - p1.y), new Laya.Point(p3.x - p1.x, p3.y - p1.y));\r\n        let v4 = this.crossProduct(new Laya.Point(p2.x - p1.x, p2.y - p1.y), new Laya.Point(p4.x - p1.x, p4.y - p1.y));\r\n\r\n        return (v1 * v2 < 0 && v3 * v4 < 0);\r\n    }\r\n\r\n    /**\r\n     * \u8BA1\u7B97\u4E24\u4E2A\u5411\u91CF\u7684\u53C9\u4E58\r\n     * @param point1 \u5411\u91CF1\r\n     * @param point2 \u5411\u91CF2\r\n     * @returns \u53C9\u4E58\u7ED3\u679C\r\n     */\r\n    crossProduct(point1: Laya.Point, point2: Laya.Point): number {\r\n        return point1.x * point2.y - point1.y * point2.x;\r\n    }\r\n\r\n    /**\r\n     * \u8BA1\u7B97\u4E24\u6761\u7EBF\u6BB5\u7684\u4EA4\u70B9\u5750\u6807\r\n     * @param p1 \u7EBF\u6BB51\u7684\u8D77\u70B9\r\n     * @param p2 \u7EBF\u6BB51\u7684\u7EC8\u70B9\r\n     * @param p3 \u7EBF\u6BB52\u7684\u8D77\u70B9\r\n     * @param p4 \u7EBF\u6BB52\u7684\u7EC8\u70B9\r\n     * @returns \u4EA4\u70B9\u5750\u6807\r\n     */\r\n    calculateIntersectionPoint(p1: Laya.Point, p2: Laya.Point, p3: Laya.Point, p4: Laya.Point): Laya.Point {\r\n        let numeratorX = (p1.x * p2.y - p1.y * p2.x) * (p3.x - p4.x) - (p1.x - p2.x) * (p3.x * p4.y - p3.y * p4.x);\r\n        let numeratorY = (p1.x * p2.y - p1.y * p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x * p4.y - p3.y * p4.x);\r\n        let denominator = (p1.x - p2.x) * (p3.y - p4.y) - (p1.y - p2.y) * (p3.x - p4.x);\r\n\r\n        let intersectionPoint = new Laya.Point(numeratorX / denominator, numeratorY / denominator);\r\n        return intersectionPoint;\r\n    }\r\n\r\n    /**\r\n     * \u5C04\u7EBF\u4E0E\u5706\u76F8\u4EA4\u68C0\u6D4B\u51FD\u6570\r\n     * @param ray \u5C04\u7EBF\u5BF9\u8C61\r\n     * @param circle \u5706\u5BF9\u8C61\r\n     * @returns \u76F8\u4EA4\u68C0\u6D4B\u7ED3\u679C\uFF0C\u5305\u542B\u662F\u5426\u76F8\u4EA4\u7684\u5E03\u5C14\u503C\u548C\u76F8\u4EA4\u70B9\u5750\u6807\uFF08\u5982\u679C\u76F8\u4EA4\uFF09\r\n     */\r\n    isRayIntersectCircle(ray: Ray, circle: Circle): Intersection {\r\n        let linePoint1 = ray.start;\r\n        let linePoint2 = ray.direction;\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u7684\u65B9\u5411\u5411\u91CF\r\n        let direction = new Laya.Point(linePoint2.x - linePoint1.x, linePoint2.y - linePoint1.y);\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u8D77\u70B9\u5230\u5706\u5FC3\u7684\u5411\u91CF\r\n        let fromStartToCenter = new Laya.Point(circle.centerX - linePoint1.x, circle.centerY - linePoint1.y);\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u65B9\u5411\u5411\u91CF\u7684\u957F\u5EA6\r\n        let length = Math.sqrt(direction.x * direction.x + direction.y * direction.y);\r\n\r\n        // \u5C06\u5C04\u7EBF\u65B9\u5411\u5411\u91CF\u5355\u4F4D\u5316\r\n        let normalizedDirection = new Laya.Point(direction.x / length, direction.y / length);\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u65B9\u5411\u5411\u91CF\u7684\u70B9\u79EF\r\n        let dotProduct = normalizedDirection.x * fromStartToCenter.x + normalizedDirection.y * fromStartToCenter.y;\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u8D77\u70B9\u5230\u5706\u5FC3\u7684\u8DDD\u79BB\u7684\u5E73\u65B9\r\n        let distanceSquared = fromStartToCenter.x * fromStartToCenter.x + fromStartToCenter.y * fromStartToCenter.y;\r\n\r\n        // \u8BA1\u7B97\u5C04\u7EBF\u4E0E\u5706\u7684\u4EA4\u70B9\u7684\u8DDD\u79BB\u7684\u5E73\u65B9\r\n        let intersectionDistanceSquared = distanceSquared - dotProduct * dotProduct;\r\n\r\n        // \u5224\u65AD\u5C04\u7EBF\u662F\u5426\u4E0E\u5706\u76F8\u4EA4\r\n        if (intersectionDistanceSquared < circle.radius * circle.radius) {\r\n            // \u8BA1\u7B97\u5C04\u7EBF\u4E0E\u5706\u7684\u4EA4\u70B9\u5750\u6807\r\n            let t = Math.sqrt(circle.radius * circle.radius - intersectionDistanceSquared);\r\n            let intersectionPoint = new Laya.Point(linePoint1.x + (dotProduct - t) * normalizedDirection.x, linePoint1.y + (dotProduct - t) * normalizedDirection.y);\r\n\r\n            // \u8FD4\u56DE\u76F8\u4EA4\u68C0\u6D4B\u7ED3\u679C\r\n            return { result: true, intersectionPoint: intersectionPoint, owner: circle.owner };\r\n        }\r\n\r\n        // \u5C04\u7EBF\u4E0E\u5706\u4E0D\u76F8\u4EA4\r\n        return { result: false };\r\n    }\r\n\r\n\r\n}", "import { WindowBase } from \"../../../../frame/window/WindowBase\";\r\nimport { LoadingWindowRuntime } from \"./LoadingWindowRuntime\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('692cc058-0d5f-4762-ac4d-03191fd20a31', '../src/game/model/loading/view/LoadingWindow.ts')\r\nexport class LoadingWindow extends WindowBase<LoadingWindowRuntime> {\r\n\r\n    protected onOpen(...param: any): void {\r\n        \r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/loading/LoadingWindow.lh\n */\nexport class LoadingWindowRuntimeBase extends Laya.Box {\n}\n\n", "const { regClass } = Laya;\r\nimport { LoadingWindowRuntimeBase } from \"./LoadingWindowRuntime.generated\";\r\n\r\n@regClass('70be13a0-79bc-41d8-9048-1f1e974605ce', '../src/game/model/loading/view/LoadingWindowRuntime.ts')\r\nexport class LoadingWindowRuntime extends LoadingWindowRuntimeBase {\r\n}", "import { WindowBase } from \"../../../../frame/window/WindowBase\";\r\nimport { RepairWindowRuntime } from \"./RepairWindowRuntime\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('97450fe9-6b91-4580-a220-51ec04916676', '../src/game/model/kxtg/view/RepairWindow.ts')\r\nexport class RepairWindow extends WindowBase<RepairWindowRuntime> {\r\n\r\n    protected onInit(): void {\r\n        \r\n    }\r\n\r\n    protected onOpen(...param: any): void {\r\n        \r\n    }\r\n\r\n    protected onClose(...param: any): void {\r\n        \r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/kxtg/RepairWindow.lh\n */\nexport class RepairWindowRuntimeBase extends Laya.Box {\n    public closeBtn!: Laya.Button;\n    public List!: Laya.List;\n    public addBtn!: Laya.Button;\n    public yesBtn!: Laya.Button;\n    public resetBtn!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { RepairWindowRuntimeBase } from \"./RepairWindowRuntime.generated\";\r\n\r\n@regClass('e1882436-c7a0-434c-a799-812078cd6ba9', '../src/game/model/kxtg/view/RepairWindowRuntime.ts')\r\nexport class RepairWindowRuntime extends RepairWindowRuntimeBase {\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/main/MainMenuTabItem.lh\n */\nexport class MainMenuTabItemBase extends Laya.Box {\n    public Button!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { ProjectMenuWin } from \"../MainModel\";\r\nimport { MainMenuTabItemBase } from \"./MainMenuTabItem.generated\";\r\n\r\n@regClass('149687da-26ee-4328-a621-34b622c77e9e', '../src/game/model/main/view/MainMenuTabItem.ts')\r\nexport class MainMenuTabItem extends MainMenuTabItemBase {\r\n\r\n    private data: ProjectMenuWin;\r\n\r\n    onAwake(): void {\r\n        onClick(this, this.Button, this.onClickHander);\r\n    }\r\n\r\n    set_dataSource(data: ProjectMenuWin): void {\r\n        if (!data) return;\r\n        this.data = data;\r\n        this.Button.label = data.txt;\r\n    }\r\n\r\n    onClickHander() {\r\n        openWindow(this.data.win);\r\n    }\r\n\r\n}", "export default class MainModel {\r\n\r\n    public static data: {[id: number]: ProjectMenu} = {\r\n        1: {\r\n            id: 1,\r\n            title: \"\u5F00\u5FC3\u901A\u5173\",\r\n            wins: [\r\n                {txt: \"\u4FEE\u590D\u5173\u5361\", win: \"RepairWindow\"},\r\n            ]\r\n        }\r\n    }\r\n\r\n    public static get dataIdList() {\r\n        let list: number[] = [];\r\n        for(let key in this.data) {\r\n            list.push(Number(key));\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public static getDataById(id: number): ProjectMenu {\r\n        return this.data[id];\r\n    }\r\n\r\n}\r\n\r\nexport interface ProjectMenu {\r\n    id: number,\r\n    /**\u6807\u9898 */\r\n    title: string,\r\n    /**\u529F\u80FD */\r\n    wins: ProjectMenuWin [];\r\n}\r\n\r\nexport interface ProjectMenuWin {\r\n    txt: string,\r\n    win: string\r\n}", "import { WindowBase } from \"../../../../frame/window/WindowBase\";\r\nimport MainModel, { ProjectMenu } from \"../MainModel\";\r\nimport { MainMenuWindowRuntime } from \"./MainMenuWindowRuntime\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2f7047ef-43df-4890-9f11-8869e3509609', '../src/game/model/main/view/MainMenuWindow.ts')\r\nexport class MainMenuWindow extends WindowBase<MainMenuWindowRuntime> {\r\n\r\n    private data: ProjectMenu;\r\n\r\n    protected onInit(): void {\r\n        \r\n    }\r\n\r\n    protected onOpen(id: number): void {\r\n        this.data = MainModel.getDataById(id);\r\n        this.owner.titletxt.text = this.data.title;\r\n        this.owner.List.array = this.data.wins;\r\n    }\r\n\r\n    protected onClose(...param: any): void {\r\n        \r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/main/MainMenuWindow.lh\n */\nexport class MainMenuWindowRuntimeBase extends Laya.Box {\n    public titletxt!: Laya.Label;\n    public List!: Laya.List;\n    public closeBtn!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { MainMenuWindowRuntimeBase } from \"./MainMenuWindowRuntime.generated\";\r\n\r\n@regClass('48486429-8b12-45a9-8be3-a37f15584b5c', '../src/game/model/main/view/MainMenuWindowRuntime.ts')\r\nexport class MainMenuWindowRuntime extends MainMenuWindowRuntimeBase {\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/main/MainTabItem.lh\n */\nexport class MainTabItemBase extends Laya.Box {\n    public Button!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport MainModel, { ProjectMenu } from \"../MainModel\";\r\nimport { MainTabItemBase } from \"./MainTabItem.generated\";\r\n\r\n@regClass('678ea883-321f-4274-89d6-6b11a04cfe99', '../src/game/model/main/view/MainTabItem.ts')\r\nexport class MainTabItem extends MainTabItemBase {\r\n\r\n    private data: ProjectMenu;\r\n\r\n    onAwake(): void {\r\n        onClick(this, this.Button, this.onClickHander);\r\n    }\r\n\r\n    set_dataSource(id: number): void {\r\n        if (!id) return;\r\n        this.data = MainModel.getDataById(id);\r\n        this.Button.label = this.data.title;\r\n    }\r\n\r\n    onClickHander() {\r\n        openWindow(\"MainMenuWindow\", [this.data.id]);\r\n    }\r\n}", "import { WindowBase } from \"../../../../frame/window/WindowBase\";\r\nimport MainModel from \"../MainModel\";\r\nimport { MainWindowRuntime } from \"./MainWindowRuntime\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('04c94112-8193-4a4f-b20e-5a94255f7302', '../src/game/model/main/view/MainWindow.ts')\r\nexport class MainWindow extends WindowBase<MainWindowRuntime> {\r\n\r\n    checkOnShow: boolean = false;\r\n    checkOnHide: boolean = false;\r\n\r\n    // private btns = [\r\n    //     {txt: \"\u4FEE\u590D\u5173\u5361\", win: \"RepairWindow\"}\r\n    // ];\r\n\r\n    protected onInit(): void {\r\n        \r\n    }\r\n\r\n    protected onOpen(...param: any): void {\r\n        this.owner.List.array = MainModel.dataIdList;\r\n    }\r\n\r\n    protected onClose(...param: any): void {\r\n        \r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/main/MainWindow.lh\n */\nexport class MainWindowRuntimeBase extends Laya.Box {\n    public List!: Laya.List;\n}\n\n", "const { regClass } = Laya;\r\nimport { MainWindowRuntimeBase } from \"./MainWindowRuntime.generated\";\r\n\r\n@regClass('08e9c994-532e-4f67-98a7-9098d2ce70fa', '../src/game/model/main/view/MainWindowRuntime.ts')\r\nexport class MainWindowRuntime extends MainWindowRuntimeBase {\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/kxtg/RepairItem.lh\n */\nexport class RepairItemBase extends Laya.Box {\n    public delBtn!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { RepairItemBase } from \"./RepairItem.generated\";\r\n\r\n@regClass('ac1872ca-78db-44a7-8c86-27a2038b6b06', '../src/game/model/kxtg/view/RepairItem.ts')\r\nexport class RepairItem extends RepairItemBase {\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * resources/view/kxtg/RepairInfoWindow.lh\n */\nexport class RepairInfoWindowRuntimeBase extends Laya.Box {\n    public closeBtn!: Laya.Button;\n}\n\n", "const { regClass } = Laya;\r\nimport { RepairInfoWindowRuntimeBase } from \"./RepairInfoWindowRuntime.generated\";\r\n\r\n@regClass('19d94120-8332-448c-a7f4-fd8508d681cc', '../src/game/model/kxtg/view/RepairInfoWindowRuntime.ts')\r\nexport class RepairInfoWindowRuntime extends RepairInfoWindowRuntimeBase {\r\n}", "import { WindowBase } from \"../../../../frame/window/WindowBase\";\r\nimport { RepairInfoWindowRuntime } from \"./RepairInfoWindowRuntime\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e7f99124-8e3d-45de-8b6a-859dbe6b02a0', '../src/game/model/kxtg/view/RepairInfoWindow.ts')\r\nexport class RepairInfoWindow extends WindowBase<RepairInfoWindowRuntime> {\r\n\r\n    protected onInit(): void {\r\n        \r\n    }\r\n\r\n    protected onOpen(...param: any): void {\r\n        \r\n    }\r\n\r\n    protected onClose(...param: any): void {\r\n        \r\n    }\r\n\r\n}"],
  "mappings": "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",
  "names": ["test", "ETestQuality", "AccessFlag", "game", "sequence", "property", "LayerType", "property", "node", "arr", "regClass", "property", "regClass", "property", "ShapeType", "regClass", "property", "regClass", "regClass", "property", "regClass", "regClass", "regClass", "property", "regClass", "regClass", "regClass", "property", "regClass", "regClass", "regClass", "regClass", "property"]
}
